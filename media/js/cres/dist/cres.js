!function(factory){"function"==typeof define&&define.amd?define(factory):factory()}((function(){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(path){throw new Error('Could not dynamically require "'+path+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ceil=Math.ceil,floor=Math.floor,toInteger$4=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)},check=function(it){return it&&it.Math==Math&&it},global$n=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||function(){return this}()||Function("return this")(),shared$3={exports:{}},global$m=global$n,setGlobal$3=function(key,value){try{Object.defineProperty(global$m,key,{value:value,configurable:!0,writable:!0})}catch(error){global$m[key]=value}return value},global$l=global$n,setGlobal$2=setGlobal$3,SHARED="__core-js_shared__",store$5=global$l[SHARED]||setGlobal$2(SHARED,{}),sharedStore=store$5,store$4=sharedStore;(shared$3.exports=function(key,value){return store$4[key]||(store$4[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.18.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var requireObjectCoercible$4=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it},requireObjectCoercible$3=requireObjectCoercible$4,toObject$6=function(argument){return Object(requireObjectCoercible$3(argument))},toObject$5=toObject$6,hasOwnProperty={}.hasOwnProperty,has$9=Object.hasOwn||function(it,key){return hasOwnProperty.call(toObject$5(it),key)},id=0,postfix=Math.random(),uid$2=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)},isCallable$i=function(argument){return"function"==typeof argument},global$k=global$n,isCallable$h=isCallable$i,aFunction=function(argument){return isCallable$h(argument)?argument:void 0},getBuiltIn$9=function(namespace,method){return arguments.length<2?aFunction(global$k[namespace]):global$k[namespace]&&global$k[namespace][method]},getBuiltIn$8=getBuiltIn$9,engineUserAgent=getBuiltIn$8("navigator","userAgent")||"",global$j=global$n,userAgent$3=engineUserAgent,process$3=global$j.process,Deno=global$j.Deno,versions=process$3&&process$3.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]<4?1:match[0]+match[1]):userAgent$3&&(match=userAgent$3.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$3.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,fails$b=function(exec){try{return!!exec()}catch(error){return!0}},V8_VERSION$1=engineV8Version,fails$a=fails$b,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$a((function(){var symbol=Symbol();return!String(symbol)||!(Object(symbol)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41})),NATIVE_SYMBOL$1=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,global$i=global$n,shared$2=shared$3.exports,has$8=has$9,uid$1=uid$2,NATIVE_SYMBOL=nativeSymbol,USE_SYMBOL_AS_UID$1=useSymbolAsUid,WellKnownSymbolsStore=shared$2("wks"),Symbol$1=global$i.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$h=function(name){return has$8(WellKnownSymbolsStore,name)&&(NATIVE_SYMBOL||"string"==typeof WellKnownSymbolsStore[name])||(NATIVE_SYMBOL&&has$8(Symbol$1,name)?WellKnownSymbolsStore[name]=Symbol$1[name]:WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]},wellKnownSymbol$g=wellKnownSymbol$h,TO_STRING_TAG$3=wellKnownSymbol$g("toStringTag"),test={};test[TO_STRING_TAG$3]="z";var toStringTagSupport="[object z]"===String(test),toString$6={}.toString,classofRaw$1=function(it){return toString$6.call(it).slice(8,-1)},TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$g=isCallable$i,classofRaw=classofRaw$1,wellKnownSymbol$f=wellKnownSymbol$h,TO_STRING_TAG$2=wellKnownSymbol$f("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(error){}},classof$8=TO_STRING_TAG_SUPPORT$2?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=tryGet(O=Object(it),TO_STRING_TAG$2))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&isCallable$g(O.callee)?"Arguments":result},classof$7=classof$8,toString$5=function(argument){if("Symbol"===classof$7(argument))throw TypeError("Cannot convert a Symbol value to a string");return String(argument)},toInteger$3=toInteger$4,toString$4=toString$5,requireObjectCoercible$2=requireObjectCoercible$4,createMethod$3=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=toString$4(requireObjectCoercible$2($this)),position=toInteger$3(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$3(!1),charAt:createMethod$3(!0)},isCallable$f=isCallable$i,store$3=sharedStore,functionToString=Function.toString;isCallable$f(store$3.inspectSource)||(store$3.inspectSource=function(it){return functionToString.call(it)});var inspectSource$4=store$3.inspectSource,global$h=global$n,isCallable$e=isCallable$i,inspectSource$3=inspectSource$4,WeakMap$2=global$h.WeakMap,nativeWeakMap=isCallable$e(WeakMap$2)&&/native code/.test(inspectSource$3(WeakMap$2)),isCallable$d=isCallable$i,isObject$a=function(it){return"object"==typeof it?null!==it:isCallable$d(it)},fails$9=fails$b,descriptors=!fails$9((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),objectDefineProperty={},global$g=global$n,isObject$9=isObject$a,document$3=global$g.document,EXISTS$1=isObject$9(document$3)&&isObject$9(document$3.createElement),documentCreateElement$2=function(it){return EXISTS$1?document$3.createElement(it):{}},DESCRIPTORS$8=descriptors,fails$8=fails$b,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$8&&!fails$8((function(){return 7!=Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a})),isObject$8=isObject$a,anObject$b=function(argument){if(isObject$8(argument))return argument;throw TypeError(String(argument)+" is not an object")},isCallable$c=isCallable$i,getBuiltIn$7=getBuiltIn$9,USE_SYMBOL_AS_UID=useSymbolAsUid,isSymbol$2=USE_SYMBOL_AS_UID?function(it){return"symbol"==typeof it}:function(it){var $Symbol=getBuiltIn$7("Symbol");return isCallable$c($Symbol)&&Object(it)instanceof $Symbol},tryToString$2=function(argument){try{return String(argument)}catch(error){return"Object"}},isCallable$b=isCallable$i,tryToString$1=tryToString$2,aCallable$7=function(argument){if(isCallable$b(argument))return argument;throw TypeError(tryToString$1(argument)+" is not a function")},aCallable$6=aCallable$7,getMethod$3=function(V,P){var func=V[P];return null==func?void 0:aCallable$6(func)},isCallable$a=isCallable$i,isObject$7=isObject$a,ordinaryToPrimitive$1=function(input,pref){var fn,val;if("string"===pref&&isCallable$a(fn=input.toString)&&!isObject$7(val=fn.call(input)))return val;if(isCallable$a(fn=input.valueOf)&&!isObject$7(val=fn.call(input)))return val;if("string"!==pref&&isCallable$a(fn=input.toString)&&!isObject$7(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")},isObject$6=isObject$a,isSymbol$1=isSymbol$2,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$e=wellKnownSymbol$h,TO_PRIMITIVE=wellKnownSymbol$e("toPrimitive"),toPrimitive$1=function(input,pref){if(!isObject$6(input)||isSymbol$1(input))return input;var result,exoticToPrim=getMethod$2(input,TO_PRIMITIVE);if(exoticToPrim){if(void 0===pref&&(pref="default"),result=exoticToPrim.call(input,pref),!isObject$6(result)||isSymbol$1(result))return result;throw TypeError("Can't convert object to primitive value")}return void 0===pref&&(pref="number"),ordinaryToPrimitive(input,pref)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$3=function(argument){var key=toPrimitive(argument,"string");return isSymbol(key)?key:String(key)},DESCRIPTORS$7=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,anObject$a=anObject$b,toPropertyKey$2=toPropertyKey$3,$defineProperty=Object.defineProperty;objectDefineProperty.f=DESCRIPTORS$7?$defineProperty:function(O,P,Attributes){if(anObject$a(O),P=toPropertyKey$2(P),anObject$a(Attributes),IE8_DOM_DEFINE$1)try{return $defineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O};var createPropertyDescriptor$5=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}},DESCRIPTORS$6=descriptors,definePropertyModule$5=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$6?function(object,key,value){return definePropertyModule$5.f(object,key,createPropertyDescriptor$4(1,value))}:function(object,key,value){return object[key]=value,object},shared$1=shared$3.exports,uid=uid$2,keys=shared$1("keys"),sharedKey$3=function(key){return keys[key]||(keys[key]=uid(key))},hiddenKeys$4={},NATIVE_WEAK_MAP=nativeWeakMap,global$f=global$n,isObject$5=isObject$a,createNonEnumerableProperty$5=createNonEnumerableProperty$6,objectHas=has$9,shared=sharedStore,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$1=global$f.WeakMap,set$2,get$1,has$7,enforce=function(it){return has$7(it)?get$1(it):set$2(it,{})},getterFor=function(TYPE){return function(it){var state;if(!isObject$5(it)||(state=get$1(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}};if(NATIVE_WEAK_MAP||shared.state){var store$2=shared.state||(shared.state=new WeakMap$1),wmget=store$2.get,wmhas=store$2.has,wmset=store$2.set;set$2=function(it,metadata){if(wmhas.call(store$2,it))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,wmset.call(store$2,it,metadata),metadata},get$1=function(it){return wmget.call(store$2,it)||{}},has$7=function(it){return wmhas.call(store$2,it)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$2=function(it,metadata){if(objectHas(it,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,createNonEnumerableProperty$5(it,STATE,metadata),metadata},get$1=function(it){return objectHas(it,STATE)?it[STATE]:{}},has$7=function(it){return objectHas(it,STATE)}}var internalState={set:set$2,get:get$1,has:has$7,enforce:enforce,getterFor:getterFor},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$3&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor$3(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable;var fails$7=fails$b,classof$6=classofRaw$1,split$1="".split,indexedObject=fails$7((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof$6(it)?split$1.call(it,""):Object(it)}:Object,IndexedObject$2=indexedObject,requireObjectCoercible$1=requireObjectCoercible$4,toIndexedObject$5=function(it){return IndexedObject$2(requireObjectCoercible$1(it))},DESCRIPTORS$5=descriptors,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$3=createPropertyDescriptor$5,toIndexedObject$4=toIndexedObject$5,toPropertyKey$1=toPropertyKey$3,has$6=has$9,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$5?$getOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject$4(O),P=toPropertyKey$1(P),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(O,P)}catch(error){}if(has$6(O,P))return createPropertyDescriptor$3(!propertyIsEnumerableModule$1.f.call(O,P),O[P])};var redefine$7={exports:{}},DESCRIPTORS$4=descriptors,has$5=has$9,FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS$4&&Object.getOwnPropertyDescriptor,EXISTS=has$5(FunctionPrototype,"name"),PROPER=EXISTS&&"something"===function(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS$4||DESCRIPTORS$4&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE},global$e=global$n,isCallable$9=isCallable$i,has$4=has$9,createNonEnumerableProperty$4=createNonEnumerableProperty$6,setGlobal$1=setGlobal$3,inspectSource$2=inspectSource$4,InternalStateModule$3=internalState,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,getInternalState$3=InternalStateModule$3.get,enforceInternalState=InternalStateModule$3.enforce,TEMPLATE=String(String).split("String");(redefine$7.exports=function(O,key,value,options){var state,unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet,name=options&&void 0!==options.name?options.name:key;isCallable$9(value)&&("Symbol("===String(name).slice(0,7)&&(name="["+String(name).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!has$4(value,"name")||CONFIGURABLE_FUNCTION_NAME$1&&value.name!==name)&&createNonEnumerableProperty$4(value,"name",name),(state=enforceInternalState(value)).source||(state.source=TEMPLATE.join("string"==typeof name?name:""))),O!==global$e?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty$4(O,key,value)):simple?O[key]=value:setGlobal$1(key,value)})(Function.prototype,"toString",(function(){return isCallable$9(this)&&getInternalState$3(this).source||inspectSource$2(this)}));var objectGetOwnPropertyNames={},toInteger$2=toInteger$4,min$2=Math.min,toLength$7=function(argument){return argument>0?min$2(toInteger$2(argument),9007199254740991):0},toInteger$1=toInteger$4,max=Math.max,min$1=Math.min,toAbsoluteIndex$1=function(index,length){var integer=toInteger$1(index);return integer<0?max(integer+length,0):min$1(integer,length)},toIndexedObject$3=toIndexedObject$5,toLength$6=toLength$7,toAbsoluteIndex=toAbsoluteIndex$1,createMethod$2=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject$3($this),length=toLength$6(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}},arrayIncludes={includes:createMethod$2(!0),indexOf:createMethod$2(!1)},has$3=has$9,toIndexedObject$2=toIndexedObject$5,indexOf=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,objectKeysInternal=function(object,names){var key,O=toIndexedObject$2(object),i=0,result=[];for(key in O)!has$3(hiddenKeys$2,key)&&has$3(O,key)&&result.push(key);for(;names.length>i;)has$3(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys$1(O,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$6=getBuiltIn$9,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$9=anObject$b,ownKeys$1=getBuiltIn$6("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject$9(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule$1.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys},has$2=has$9,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$4=objectDefineProperty,copyConstructorProperties$1=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule$4.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has$2(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}},fails$6=fails$b,isCallable$8=isCallable$i,replacement=/#|\.prototype\./,isForced$2=function(feature,detection){var value=data$1[normalize(feature)];return value==POLYFILL||value!=NATIVE&&(isCallable$8(detection)?fails$6(detection):!!detection)},normalize=isForced$2.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data$1=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,global$d=global$n,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$3=createNonEnumerableProperty$6,redefine$6=redefine$7.exports,setGlobal=setGlobal$3,copyConstructorProperties=copyConstructorProperties$1,isForced$1=isForced_1,_export=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global$d:STATIC?global$d[TARGET]||setGlobal(TARGET,{}):(global$d[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor$2(target,key))&&descriptor.value:target[key],!isForced$1(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty$3(sourceProperty,"sham",!0),redefine$6(target,key,sourceProperty,options)}},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$3=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys$1)},DESCRIPTORS$3=descriptors,definePropertyModule$3=objectDefineProperty,anObject$8=anObject$b,objectKeys$2=objectKeys$3,objectDefineProperties=DESCRIPTORS$3?Object.defineProperties:function(O,Properties){anObject$8(O);for(var key,keys=objectKeys$2(Properties),length=keys.length,index=0;length>index;)definePropertyModule$3.f(O,key=keys[index++],Properties[key]);return O},getBuiltIn$5=getBuiltIn$9,html$2=getBuiltIn$5("document","documentElement"),anObject$7=anObject$b,defineProperties=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp},NullProtoObjectViaIFrame=function(){var iframeDocument,iframe=documentCreateElement$1("iframe"),JS="java"+SCRIPT+":";return iframe.style.display="none",html$1.appendChild(iframe),iframe.src=String(JS),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var length=enumBugKeys.length;length--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(O,Properties){var result;return null!==O?(EmptyConstructor[PROTOTYPE]=anObject$7(O),result=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,result[IE_PROTO$1]=O):result=NullProtoObject(),void 0===Properties?result:defineProperties(result,Properties)},fails$5=fails$b,correctPrototypeGetter=!fails$5((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})),has$1=has$9,isCallable$7=isCallable$i,toObject$4=toObject$6,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){var object=toObject$4(O);if(has$1(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;return isCallable$7(constructor)&&object instanceof constructor?constructor.prototype:object instanceof Object?ObjectPrototype:null},fails$4=fails$b,isCallable$6=isCallable$i,getPrototypeOf$2=objectGetPrototypeOf,redefine$5=redefine$7.exports,wellKnownSymbol$d=wellKnownSymbol$h,ITERATOR$5=wellKnownSymbol$d("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$2(getPrototypeOf$2(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=null==IteratorPrototype$2||fails$4((function(){var test={};return IteratorPrototype$2[ITERATOR$5].call(test)!==test}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable$6(IteratorPrototype$2[ITERATOR$5])||redefine$5(IteratorPrototype$2,ITERATOR$5,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$1=objectDefineProperty.f,has=has$9,wellKnownSymbol$c=wellKnownSymbol$h,TO_STRING_TAG$1=wellKnownSymbol$c("toStringTag"),setToStringTag$3=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG$1)&&defineProperty$1(it,TO_STRING_TAG$1,{configurable:!0,value:TAG})},iterators={},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$2=setToStringTag$3,Iterators$4=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$2(1,next)}),setToStringTag$2(IteratorConstructor,TO_STRING_TAG,!1),Iterators$4[TO_STRING_TAG]=returnThis$1,IteratorConstructor},isCallable$5=isCallable$i,aPossiblePrototype$1=function(argument){if("object"==typeof argument||isCallable$5(argument))return argument;throw TypeError("Can't set "+String(argument)+" as a prototype")},anObject$6=anObject$b,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject$6(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0),$$f=_export,FunctionName=functionName,isCallable$4=isCallable$i,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$1=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,setToStringTag$1=setToStringTag$3,createNonEnumerableProperty$2=createNonEnumerableProperty$6,redefine$4=redefine$7.exports,wellKnownSymbol$b=wellKnownSymbol$h,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol$b("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$2=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:case VALUES:case ENTRIES:return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR$4]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf$1(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(getPrototypeOf$1(CurrentIteratorPrototype)!==IteratorPrototype&&(setPrototypeOf$2?setPrototypeOf$2(CurrentIteratorPrototype,IteratorPrototype):isCallable$4(CurrentIteratorPrototype[ITERATOR$4])||redefine$4(CurrentIteratorPrototype,ITERATOR$4,returnThis)),setToStringTag$1(CurrentIteratorPrototype,TO_STRING_TAG,!0)),PROPER_FUNCTION_NAME&&DEFAULT==VALUES&&nativeIterator&&nativeIterator.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty$2(IterablePrototype,"name",VALUES):(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return nativeIterator.call(this)})),DEFAULT)if(methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine$4(IterablePrototype,KEY,methods[KEY]);else $$f({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IterablePrototype[ITERATOR$4]!==defaultIterator&&redefine$4(IterablePrototype,ITERATOR$4,defaultIterator,{name:DEFAULT}),Iterators$3[NAME]=defaultIterator,methods},charAt=stringMultibyte.charAt,toString$3=toString$5,InternalStateModule$2=internalState,defineIterator$1=defineIterator$2,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState$2=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator$1(String,"String",(function(iterated){setInternalState$2(this,{type:STRING_ITERATOR,string:toString$3(iterated),index:0})}),(function(){var point,state=getInternalState$2(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})}));var aCallable$5=aCallable$7,functionBindContext=function(fn,that,length){if(aCallable$5(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},anObject$5=anObject$b,getMethod$1=getMethod$3,iteratorClose$2=function(iterator,kind,value){var innerResult,innerError;anObject$5(iterator);try{if(!(innerResult=getMethod$1(iterator,"return"))){if("throw"===kind)throw value;return value}innerResult=innerResult.call(iterator)}catch(error){innerError=!0,innerResult=error}if("throw"===kind)throw value;if(innerError)throw innerResult;return anObject$5(innerResult),value},anObject$4=anObject$b,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject$4(value)[0],value[1]):fn(value)}catch(error){iteratorClose$1(iterator,"throw",error)}},wellKnownSymbol$a=wellKnownSymbol$h,Iterators$2=iterators,ITERATOR$3=wellKnownSymbol$a("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$2=function(it){return void 0!==it&&(Iterators$2.Array===it||ArrayPrototype$1[ITERATOR$3]===it)},fails$3=fails$b,isCallable$3=isCallable$i,classof$5=classof$8,getBuiltIn$4=getBuiltIn$9,inspectSource$1=inspectSource$4,empty=[],construct=getBuiltIn$4("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=constructorRegExp.exec,INCORRECT_TO_STRING=!constructorRegExp.exec((function(){})),isConstructorModern=function(argument){if(!isCallable$3(argument))return!1;try{return construct(Object,empty,argument),!0}catch(error){return!1}},isConstructorLegacy=function(argument){if(!isCallable$3(argument))return!1;switch(classof$5(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return INCORRECT_TO_STRING||!!exec.call(constructorRegExp,inspectSource$1(argument))},isConstructor$3=!construct||fails$3((function(){var called;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){called=!0}))||called}))?isConstructorLegacy:isConstructorModern,toPropertyKey=toPropertyKey$3,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$1=function(object,key,value){var propertyKey=toPropertyKey(key);propertyKey in object?definePropertyModule$2.f(object,propertyKey,createPropertyDescriptor$1(0,value)):object[propertyKey]=value},classof$4=classof$8,getMethod=getMethod$3,Iterators$1=iterators,wellKnownSymbol$9=wellKnownSymbol$h,ITERATOR$2=wellKnownSymbol$9("iterator"),getIteratorMethod$3=function(it){if(null!=it)return getMethod(it,ITERATOR$2)||getMethod(it,"@@iterator")||Iterators$1[classof$4(it)]},aCallable$4=aCallable$7,anObject$3=anObject$b,getIteratorMethod$2=getIteratorMethod$3,getIterator$2=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod$2(argument):usingIterator;if(aCallable$4(iteratorMethod))return anObject$3(iteratorMethod.call(argument));throw TypeError(String(argument)+" is not iterable")},bind$7=functionBindContext,toObject$3=toObject$6,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,isConstructor$2=isConstructor$3,toLength$5=toLength$7,createProperty=createProperty$1,getIterator$1=getIterator$2,getIteratorMethod$1=getIteratorMethod$3,arrayFrom=function(arrayLike){var O=toObject$3(arrayLike),IS_CONSTRUCTOR=isConstructor$2(this),argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn;mapping&&(mapfn=bind$7(mapfn,argumentsLength>2?arguments[2]:void 0,2));var length,result,step,iterator,next,value,iteratorMethod=getIteratorMethod$1(O),index=0;if(!iteratorMethod||this==Array&&isArrayIteratorMethod$1(iteratorMethod))for(length=toLength$5(O.length),result=IS_CONSTRUCTOR?new this(length):Array(length);length>index;index++)value=mapping?mapfn(O[index],index):O[index],createProperty(result,index,value);else for(next=(iterator=getIterator$1(O,iteratorMethod)).next,result=IS_CONSTRUCTOR?new this:[];!(step=next.call(iterator)).done;index++)value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value,createProperty(result,index,value);return result.length=index,result},wellKnownSymbol$8=wellKnownSymbol$h,ITERATOR$1=wellKnownSymbol$8("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$1]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}var checkCorrectnessOfIteration$2=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR$1]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT},$$e=_export,from=arrayFrom,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$2,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$1((function(iterable){Array.from(iterable)}));$$e({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from});var global$c=global$n,path$5=global$c,path$4=path$5;path$4.Array.from;var wellKnownSymbol$7=wellKnownSymbol$h,create$1=objectCreate,definePropertyModule$1=objectDefineProperty,UNSCOPABLES=wellKnownSymbol$7("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&definePropertyModule$1.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create$1(null)});var addToUnscopables$4=function(key){ArrayPrototype[UNSCOPABLES][key]=!0},$$d=_export,$includes=arrayIncludes.includes,addToUnscopables$3=addToUnscopables$4;$$d({target:"Array",proto:!0},{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$3("includes");var global$b=global$n,bind$6=functionBindContext,call=Function.call,entryUnbind$4=function(CONSTRUCTOR,METHOD,length){return bind$6(call,global$b[CONSTRUCTOR].prototype[METHOD],length)},entryUnbind$3=entryUnbind$4;entryUnbind$3("Array","includes");var classof$3=classofRaw$1,isArray$2=Array.isArray||function(argument){return"Array"==classof$3(argument)},isArray$1=isArray$2,toLength$4=toLength$7,bind$5=functionBindContext,flattenIntoArray$1=function(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,targetIndex=start,sourceIndex=0,mapFn=!!mapper&&bind$5(mapper,thisArg,3);sourceIndex<sourceLen;){if(sourceIndex in source){if(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],depth>0&&isArray$1(element))targetIndex=flattenIntoArray$1(target,original,element,toLength$4(element.length),targetIndex,depth-1)-1;else{if(targetIndex>=9007199254740991)throw TypeError("Exceed the acceptable array length");target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex},flattenIntoArray_1=flattenIntoArray$1,isArray=isArray$2,isConstructor$1=isConstructor$3,isObject$4=isObject$a,wellKnownSymbol$6=wellKnownSymbol$h,SPECIES$3=wellKnownSymbol$6("species"),arraySpeciesConstructor$1=function(originalArray){var C;return isArray(originalArray)&&(C=originalArray.constructor,(isConstructor$1(C)&&(C===Array||isArray(C.prototype))||isObject$4(C)&&null===(C=C[SPECIES$3]))&&(C=void 0)),void 0===C?Array:C},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$2=function(originalArray,length){return new(arraySpeciesConstructor(originalArray))(0===length?0:length)},$$c=_export,flattenIntoArray=flattenIntoArray_1,toObject$2=toObject$6,toLength$3=toLength$7,toInteger=toInteger$4,arraySpeciesCreate$1=arraySpeciesCreate$2;$$c({target:"Array",proto:!0},{flat:function(){var depthArg=arguments.length?arguments[0]:void 0,O=toObject$2(this),sourceLen=toLength$3(O.length),A=arraySpeciesCreate$1(O,0);return A.length=flattenIntoArray(A,O,O,sourceLen,0,void 0===depthArg?1:toInteger(depthArg)),A}});var addToUnscopables$2=addToUnscopables$4;addToUnscopables$2("flat");var entryUnbind$2=entryUnbind$4;entryUnbind$2("Array","flat");var bind$4=functionBindContext,IndexedObject$1=indexedObject,toObject$1=toObject$6,toLength$2=toLength$7,arraySpeciesCreate=arraySpeciesCreate$2,push$1=[].push,createMethod$1=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,IS_FILTER_REJECT=7==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject$1($this),self=IndexedObject$1(O),boundFunction=bind$4(callbackfn,that,3),length=toLength$2(self.length),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER||IS_FILTER_REJECT?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push$1.call(target,value)}else switch(TYPE){case 4:return!1;case 7:push$1.call(target,value)}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}},arrayIteration={forEach:createMethod$1(0),map:createMethod$1(1),filter:createMethod$1(2),some:createMethod$1(3),every:createMethod$1(4),find:createMethod$1(5),findIndex:createMethod$1(6),filterReject:createMethod$1(7)},$$b=_export,$find=arrayIteration.find,addToUnscopables$1=addToUnscopables$4,FIND="find",SKIPS_HOLES=!0;FIND in[]&&Array(1)[FIND]((function(){SKIPS_HOLES=!1})),$$b({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$1(FIND);var entryUnbind$1=entryUnbind$4;entryUnbind$1("Array","find");var DESCRIPTORS$2=descriptors,fails$2=fails$b,objectKeys$1=objectKeys$3,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject=toObject$6,IndexedObject=indexedObject,$assign=Object.assign,defineProperty=Object.defineProperty,objectAssign=!$assign||fails$2((function(){if(DESCRIPTORS$2&&1!==$assign({b:1},$assign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach((function(chr){B[chr]=chr})),7!=$assign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys$1($assign({},B)).join("")}))?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys$1(S).concat(getOwnPropertySymbols(S)):objectKeys$1(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS$2&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:$assign,$$a=_export,assign=objectAssign;$$a({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign});var path$3=path$5;path$3.Object.assign;var DESCRIPTORS$1=descriptors,objectKeys=objectKeys$3,toIndexedObject$1=toIndexedObject$5,propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject$1(it),keys=objectKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS$1&&!propertyIsEnumerable.call(O,key)||result.push(TO_ENTRIES?[key,O[key]]:O[key]);return result}},objectToArray={entries:createMethod(!0),values:createMethod(!1)},$$9=_export,$entries=objectToArray.entries;$$9({target:"Object",stat:!0},{entries:function(O){return $entries(O)}});var path$2=path$5;path$2.Object.entries;var $$8=_export,$values=objectToArray.values;$$8({target:"Object",stat:!0},{values:function(O){return $values(O)}});var path$1=path$5;path$1.Object.values;var anObject$2=anObject$b,isArrayIteratorMethod=isArrayIteratorMethod$2,toLength$1=toLength$7,bind$3=functionBindContext,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$3,iteratorClose=iteratorClose$2,Result=function(stopped,result){this.stopped=stopped,this.result=result},iterate$4=function(iterable,unboundFunction,options){var iterator,iterFn,index,length,result,next,step,that=options&&options.that,AS_ENTRIES=!(!options||!options.AS_ENTRIES),IS_ITERATOR=!(!options||!options.IS_ITERATOR),INTERRUPTED=!(!options||!options.INTERRUPTED),fn=bind$3(unboundFunction,that,1+AS_ENTRIES+INTERRUPTED),stop=function(condition){return iterator&&iteratorClose(iterator,"normal",condition),new Result(!0,condition)},callFn=function(value){return AS_ENTRIES?(anObject$2(value),INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])):INTERRUPTED?fn(value,stop):fn(value)};if(IS_ITERATOR)iterator=iterable;else{if(!(iterFn=getIteratorMethod(iterable)))throw TypeError(String(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength$1(iterable.length);length>index;index++)if((result=callFn(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=getIterator(iterable,iterFn)}for(next=iterator.next;!(step=next.call(iterator)).done;){try{result=callFn(step.value)}catch(error){iteratorClose(iterator,"throw",error)}if("object"==typeof result&&result&&result instanceof Result)return result}return new Result(!1)},$$7=_export,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,create=objectCreate,createNonEnumerableProperty$1=createNonEnumerableProperty$6,createPropertyDescriptor=createPropertyDescriptor$5,iterate$3=iterate$4,toString$2=toString$5,$AggregateError=function(errors,message){var that=this;if(!(that instanceof $AggregateError))return new $AggregateError(errors,message);setPrototypeOf$1&&(that=setPrototypeOf$1(new Error(void 0),getPrototypeOf(that))),void 0!==message&&createNonEnumerableProperty$1(that,"message",toString$2(message));var errorsArray=[];return iterate$3(errors,errorsArray.push,{that:errorsArray}),createNonEnumerableProperty$1(that,"errors",errorsArray),that};$AggregateError.prototype=create(Error.prototype,{constructor:createPropertyDescriptor(5,$AggregateError),message:createPropertyDescriptor(5,""),name:createPropertyDescriptor(5,"AggregateError")}),$$7({global:!0},{AggregateError:$AggregateError});var toIndexedObject=toIndexedObject$5,addToUnscopables=addToUnscopables$4,Iterators=iterators,InternalStateModule$1=internalState,defineIterator=defineIterator$2,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState$1=InternalStateModule$1.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",(function(iterated,kind){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState$1(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values");Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$2=classof$8,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function(){return"[object "+classof$2(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,redefine$3=redefine$7.exports,toString$1=objectToString;TO_STRING_TAG_SUPPORT||redefine$3(Object.prototype,"toString",toString$1,{unsafe:!0});var global$a=global$n,nativePromiseConstructor=global$a.Promise,redefine$2=redefine$7.exports,redefineAll$1=function(target,src,options){for(var key in src)redefine$2(target,key,src[key],options);return target},getBuiltIn$3=getBuiltIn$9,definePropertyModule=objectDefineProperty,wellKnownSymbol$5=wellKnownSymbol$h,DESCRIPTORS=descriptors,SPECIES$2=wellKnownSymbol$5("species"),setSpecies$1=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn$3(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&Constructor&&!Constructor[SPECIES$2]&&defineProperty(Constructor,SPECIES$2,{configurable:!0,get:function(){return this}})},anInstance$1=function(it,Constructor,name){if(it instanceof Constructor)return it;throw TypeError("Incorrect "+(name?name+" ":"")+"invocation")},isConstructor=isConstructor$3,tryToString=tryToString$2,aConstructor$1=function(argument){if(isConstructor(argument))return argument;throw TypeError(tryToString(argument)+" is not a constructor")},anObject$1=anObject$b,aConstructor=aConstructor$1,wellKnownSymbol$4=wellKnownSymbol$h,SPECIES$1=wellKnownSymbol$4("species"),speciesConstructor$2=function(O,defaultConstructor){var S,C=anObject$1(O).constructor;return void 0===C||null==(S=anObject$1(C)[SPECIES$1])?defaultConstructor:aConstructor(S)},userAgent$2=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2),classof$1=classofRaw$1,global$9=global$n,engineIsNode="process"==classof$1(global$9.process),global$8=global$n,isCallable$2=isCallable$i,fails$1=fails$b,bind$2=functionBindContext,html=html$2,createElement=documentCreateElement$2,IS_IOS$1=engineIsIos,IS_NODE$2=engineIsNode,set$1=global$8.setImmediate,clear=global$8.clearImmediate,process$2=global$8.process,MessageChannel=global$8.MessageChannel,Dispatch=global$8.Dispatch,counter=0,queue$1={},ONREADYSTATECHANGE="onreadystatechange",location$1,defer,channel,port;try{location$1=global$8.location}catch(error){}var run=function(id){if(queue$1.hasOwnProperty(id)){var fn=queue$1[id];delete queue$1[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global$8.postMessage(String(id),location$1.protocol+"//"+location$1.host)};set$1&&clear||(set$1=function(fn){for(var args=[],argumentsLength=arguments.length,i=1;argumentsLength>i;)args.push(arguments[i++]);return queue$1[++counter]=function(){(isCallable$2(fn)?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function(id){delete queue$1[id]},IS_NODE$2?defer=function(id){process$2.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS$1?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=bind$2(port.postMessage,port,1)):global$8.addEventListener&&isCallable$2(global$8.postMessage)&&!global$8.importScripts&&location$1&&"file:"!==location$1.protocol&&!fails$1(post)?(defer=post,global$8.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(id){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)});var task$1={set:set$1,clear:clear},userAgent$1=engineUserAgent,global$7=global$n,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$1)&&void 0!==global$7.Pebble,userAgent=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent),global$6=global$n,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$1=engineIsNode,MutationObserver$1=global$6.MutationObserver||global$6.WebKitMutationObserver,document$2=global$6.document,process$1=global$6.process,Promise$1=global$6.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$1(global$6,"queueMicrotask"),queueMicrotask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise,then;queueMicrotask$1||(flush=function(){var parent,fn;for(IS_NODE$1&&(parent=process$1.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify$1():last=void 0,error}}last=void 0,parent&&parent.enter()},IS_IOS||IS_NODE$1||IS_WEBOS_WEBKIT||!MutationObserver$1||!document$2?!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=promise.then,notify$1=function(){then.call(promise,flush)}):notify$1=IS_NODE$1?function(){process$1.nextTick(flush)}:function(){macrotask.call(global$6,flush)}:(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}));var microtask$1=queueMicrotask$1||function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify$1()),last=task},newPromiseCapability$2={},aCallable$3=aCallable$7,PromiseCapability=function(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=aCallable$3(resolve),this.reject=aCallable$3(reject)};newPromiseCapability$2.f=function(C){return new PromiseCapability(C)};var anObject=anObject$b,isObject$3=isObject$a,newPromiseCapability$1=newPromiseCapability$2,promiseResolve$2=function(C,x){if(anObject(C),isObject$3(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability$1.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise},global$5=global$n,hostReportErrors$1=function(a,b){var console=global$5.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))},perform$4=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}},engineIsBrowser="object"==typeof window,$$6=_export,global$4=global$n,getBuiltIn$2=getBuiltIn$9,NativePromise$1=nativePromiseConstructor,redefine$1=redefine$7.exports,redefineAll=redefineAll$1,setPrototypeOf=objectSetPrototypeOf,setToStringTag=setToStringTag$3,setSpecies=setSpecies$1,aCallable$2=aCallable$7,isCallable$1=isCallable$i,isObject$2=isObject$a,anInstance=anInstance$1,inspectSource=inspectSource$4,iterate$2=iterate$4,checkCorrectnessOfIteration=checkCorrectnessOfIteration$2,speciesConstructor$1=speciesConstructor$2,task=task$1.set,microtask=microtask$1,promiseResolve$1=promiseResolve$2,hostReportErrors=hostReportErrors$1,newPromiseCapabilityModule$3=newPromiseCapability$2,perform$3=perform$4,InternalStateModule=internalState,isForced=isForced_1,wellKnownSymbol$3=wellKnownSymbol$h,IS_BROWSER=engineIsBrowser,IS_NODE=engineIsNode,V8_VERSION=engineV8Version,SPECIES=wellKnownSymbol$3("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),NativePromisePrototype=NativePromise$1&&NativePromise$1.prototype,PromiseConstructor=NativePromise$1,PromiseConstructorPrototype=NativePromisePrototype,TypeError$1=global$4.TypeError,document$1=global$4.document,process=global$4.process,newPromiseCapability=newPromiseCapabilityModule$3.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$4.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable$1(global$4.PromiseRejectionEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,SUBCLASSING=!1,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,FORCED=isForced(PROMISE,(function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource(PromiseConstructor),GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(PromiseConstructor);if(!GLOBAL_CORE_JS_PROMISE&&66===V8_VERSION)return!0;if(V8_VERSION>=51&&/native code/.test(PROMISE_CONSTRUCTOR_SOURCE))return!1;var promise=new PromiseConstructor((function(resolve){resolve(1)})),FakePromise=function(exec){exec((function(){}),(function(){}))};return(promise.constructor={})[SPECIES]=FakePromise,!(SUBCLASSING=promise.then((function(){}))instanceof FakePromise)||!GLOBAL_CORE_JS_PROMISE&&IS_BROWSER&&!NATIVE_REJECTION_EVENT})),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((function(iterable){PromiseConstructor.all(iterable).catch((function(){}))})),isThenable=function(it){var then;return!(!isObject$2(it)||!isCallable$1(then=it.then))&&then},notify=function(state,isReject){if(!state.notified){state.notified=!0;var chain=state.reactions;microtask((function(){for(var value=state.value,ok=state.state==FULFILLED,index=0;chain.length>index;){var result,then,exited,reaction=chain[index++],handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(state.rejection===UNHANDLED&&onHandleUnhandled(state),state.rejection=HANDLED),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError$1("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}}state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(state)}))}},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document$1.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global$4.dispatchEvent(event)):event={promise:promise,reason:reason},!NATIVE_REJECTION_EVENT&&(handler=global$4["on"+name])?handler(event):name===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(state){task.call(global$4,(function(){var result,promise=state.facade,value=state.value;if(isUnhandled(state)&&(result=perform$3((function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent(UNHANDLED_REJECTION,promise,value)})),state.rejection=IS_NODE||isUnhandled(state)?UNHANDLED:HANDLED,result.error))throw result.value}))},isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent},onHandleUnhandled=function(state){task.call(global$4,(function(){var promise=state.facade;IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent(REJECTION_HANDLED,promise,state.value)}))},bind$1=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}},internalReject=function(state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=REJECTED,notify(state,!0))},internalResolve=function(state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(state.facade===value)throw TypeError$1("Promise can't be resolved itself");var then=isThenable(value);then?microtask((function(){var wrapper={done:!1};try{then.call(value,bind$1(internalResolve,wrapper,state),bind$1(internalReject,wrapper,state))}catch(error){internalReject(wrapper,error,state)}})):(state.value=value,state.state=FULFILLED,notify(state,!1))}catch(error){internalReject({done:!1},error,state)}}};if(FORCED&&(PromiseConstructor=function(executor){anInstance(this,PromiseConstructor,PROMISE),aCallable$2(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind$1(internalResolve,state),bind$1(internalReject,state))}catch(error){internalReject(state,error)}},PromiseConstructorPrototype=PromiseConstructor.prototype,Internal=function(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromiseConstructorPrototype,{then:function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor$1(this,PromiseConstructor));return reaction.ok=!isCallable$1(onFulfilled)||onFulfilled,reaction.fail=isCallable$1(onRejected)&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,state.parent=!0,state.reactions.push(reaction),state.state!=PENDING&&notify(state,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind$1(internalResolve,state),this.reject=bind$1(internalReject,state)},newPromiseCapabilityModule$3.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},isCallable$1(NativePromise$1)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine$1(NativePromisePrototype,"then",(function(onFulfilled,onRejected){var that=this;return new PromiseConstructor((function(resolve,reject){nativeThen.call(that,resolve,reject)})).then(onFulfilled,onRejected)}),{unsafe:!0}),redefine$1(NativePromisePrototype,"catch",PromiseConstructorPrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch(error){}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromiseConstructorPrototype)}$$6({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1),setSpecies(PROMISE),PromiseWrapper=getBuiltIn$2(PROMISE),$$6({target:PROMISE,stat:!0,forced:FORCED},{reject:function(r){var capability=newPromiseCapability(this);return capability.reject.call(void 0,r),capability.promise}}),$$6({target:PROMISE,stat:!0,forced:FORCED},{resolve:function(x){return promiseResolve$1(this,x)}}),$$6({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform$3((function(){var $promiseResolve=aCallable$2(C.resolve),values=[],counter=0,remaining=1;iterate$2(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,$promiseResolve.call(C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform$3((function(){var $promiseResolve=aCallable$2(C.resolve);iterate$2(iterable,(function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)}))}));return result.error&&reject(result.value),capability.promise}});var $$5=_export,aCallable$1=aCallable$7,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$2=perform$4,iterate$1=iterate$4;$$5({target:"Promise",stat:!0},{allSettled:function(iterable){var C=this,capability=newPromiseCapabilityModule$2.f(C),resolve=capability.resolve,reject=capability.reject,result=perform$2((function(){var promiseResolve=aCallable$1(C.resolve),values=[],counter=0,remaining=1;iterate$1(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,promiseResolve.call(C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]={status:"fulfilled",value:value},--remaining||resolve(values))}),(function(error){alreadyCalled||(alreadyCalled=!0,values[index]={status:"rejected",reason:error},--remaining||resolve(values))}))})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise}});var $$4=_export,aCallable=aCallable$7,getBuiltIn$1=getBuiltIn$9,newPromiseCapabilityModule$1=newPromiseCapability$2,perform$1=perform$4,iterate=iterate$4,PROMISE_ANY_ERROR="No one promise resolved";$$4({target:"Promise",stat:!0},{any:function(iterable){var C=this,capability=newPromiseCapabilityModule$1.f(C),resolve=capability.resolve,reject=capability.reject,result=perform$1((function(){var promiseResolve=aCallable(C.resolve),errors=[],counter=0,remaining=1,alreadyResolved=!1;iterate(iterable,(function(promise){var index=counter++,alreadyRejected=!1;errors.push(void 0),remaining++,promiseResolve.call(C,promise).then((function(value){alreadyRejected||alreadyResolved||(alreadyResolved=!0,resolve(value))}),(function(error){alreadyRejected||alreadyResolved||(alreadyRejected=!0,errors[index]=error,--remaining||reject(new(getBuiltIn$1("AggregateError"))(errors,PROMISE_ANY_ERROR)))}))})),--remaining||reject(new(getBuiltIn$1("AggregateError"))(errors,PROMISE_ANY_ERROR))}));return result.error&&reject(result.value),capability.promise}});var $$3=_export,NativePromise=nativePromiseConstructor,fails=fails$b,getBuiltIn=getBuiltIn$9,isCallable=isCallable$i,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$2,redefine=redefine$7.exports,NON_GENERIC=!!NativePromise&&fails((function(){NativePromise.prototype.finally.call({then:function(){}},(function(){}))}));if($$3({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction=isCallable(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}}),isCallable(NativePromise)){var method=getBuiltIn("Promise").prototype.finally;NativePromise.prototype.finally!==method&&redefine(NativePromise.prototype,"finally",method,{unsafe:!0})}var path=path$5;path.Promise;var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,global$3=global$n,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty=createNonEnumerableProperty$6,wellKnownSymbol$2=wellKnownSymbol$h,ITERATOR=wellKnownSymbol$2("iterator"),TO_STRING_TAG=wellKnownSymbol$2("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(CollectionPrototype,COLLECTION_NAME){if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$3[COLLECTION_NAME]&&global$3[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var $$2=_export,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$4;$$2({target:"Promise",stat:!0},{try:function(callbackfn){var promiseCapability=newPromiseCapabilityModule.f(this),result=perform(callbackfn);return(result.error?promiseCapability.reject:promiseCapability.resolve)(result.value),promiseCapability.promise}});var isObject$1=isObject$a,classof=classofRaw$1,wellKnownSymbol$1=wellKnownSymbol$h,MATCH$1=wellKnownSymbol$1("match"),isRegexp=function(it){var isRegExp;return isObject$1(it)&&(void 0!==(isRegExp=it[MATCH$1])?!!isRegExp:"RegExp"==classof(it))},isRegExp=isRegexp,notARegexp=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it},wellKnownSymbol=wellKnownSymbol$h,MATCH=wellKnownSymbol("match"),correctIsRegexpLogic=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(error1){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(error2){}}return!1},$$1=_export,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,toLength=toLength$7,toString=toString$5,notARegExp=notARegexp,requireObjectCoercible=requireObjectCoercible$4,correctIsRegExpLogic=correctIsRegexpLogic,$startsWith="".startsWith,min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith"),MDN_POLYFILL_BUG=!(CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable)),descriptor;$$1({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(searchString){var that=toString(requireObjectCoercible(this));notARegExp(searchString);var index=toLength(min(arguments.length>1?arguments[1]:void 0,that.length)),search=toString(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}});var entryUnbind=entryUnbind$4;entryUnbind("String","startsWith");var global$2="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==global$2&&global$2,support={searchParams:"URLSearchParams"in global$2,iterable:"Symbol"in global$2&&"iterator"in Symbol,blob:"FileReader"in global$2&&"Blob"in global$2&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in global$2,arrayBuffer:"ArrayBuffer"in global$2};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name)||""===name)throw new TypeError('Invalid character in header field name: "'+name+'"');return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function readBlobAsText(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}function readArrayBufferAsText(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){this.bodyUsed=this.bodyUsed,this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support.blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support.formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support.arrayBuffer&&support.blob&&isDataView(body)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var isConsumed=consumed(this);return isConsumed||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode$1)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=normalizeMethod(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(body),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==options.cache&&"no-cache"!==options.cache)){var reParamSearch=/([?&])_=[^&]*/;if(reParamSearch.test(this.url))this.url=this.url.replace(reParamSearch,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode$1(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function parseHeaders(rawHeaders){var headers=new Headers;return rawHeaders.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(header){return 0===header.indexOf("\n")?header.substr(1,header.length):header})).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers}function Response(bodyInit,options){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===options.statusText?"":""+options.statusText,this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})};var DOMException=global$2.DOMException;try{new DOMException}catch(err){DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch$1(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;setTimeout((function(){resolve(new Response(body,options))}),0)},xhr.onerror=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.ontimeout=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.onabort=function(){setTimeout((function(){reject(new DOMException("Aborted","AbortError"))}),0)},xhr.open(request.method,function(url){try{return""===url&&global$2.location.href?global$2.location.href:url}catch(e){return url}}(request.url),!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&(support.blob?xhr.responseType="blob":support.arrayBuffer&&request.headers.get("Content-Type")&&-1!==request.headers.get("Content-Type").indexOf("application/octet-stream")&&(xhr.responseType="arraybuffer")),!init||"object"!=typeof init.headers||init.headers instanceof Headers?request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})):Object.getOwnPropertyNames(init.headers).forEach((function(name){xhr.setRequestHeader(name,normalizeValue(init.headers[name]))})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)}))}if(fetch$1.polyfill=!0,global$2.fetch||(global$2.fetch=fetch$1,global$2.Headers=Headers,global$2.Request=Request,global$2.Response=Response),null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var attributes=this.attributes,length=attributes.length,result=new Array(length),i=0;i<length;i++)result[i]=attributes[i].name;return result}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;--i>=0&&matches.item(i)!==this;);return i>-1}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(s){var el=this;do{if(el.matches(s))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null}),void 0!==window.Element&&!("classList"in document.documentElement)){var prototype=Array.prototype,push=prototype.push,splice=prototype.splice,join$1=prototype.join,DOMTokenList=function(el){this.el=el;for(var classes=el.className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=0;i<classes.length;i++)push.call(this,classes[i])};DOMTokenList.prototype={add:function(token){this.contains(token)||(push.call(this,token),this.el.className=this.toString())},contains:function(token){return-1!=this.el.className.indexOf(token)},item:function(index){return this[index]||null},remove:function(token){if(this.contains(token)){var i;for(i=0;i<this.length&&this[i]!=token;i++);splice.call(this,i,1),this.el.className=this.toString()}},toString:function(){return join$1.call(this," ")},toggle:function(token){return this.contains(token)?this.remove(token):this.add(token),this.contains(token)}},window.DOMTokenList=DOMTokenList;var defineElementGetter=function(obj,prop,getter){Object.defineProperty?Object.defineProperty(obj,prop,{get:getter}):obj.__defineGetter__(prop,getter)};defineElementGetter(Element.prototype,"classList",(function(){return new DOMTokenList(this)}))}var eventsource={exports:{}},module,exports;
/** @license
	 * eventsource.js
	 * Available under MIT License (MIT)
	 * https://github.com/Yaffle/EventSource/
	 */function _typeof$1(obj){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$1(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest()}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module=eventsource,exports=eventsource.exports,function(global){var setTimeout=global.setTimeout,clearTimeout=global.clearTimeout,XMLHttpRequest=global.XMLHttpRequest,XDomainRequest=global.XDomainRequest,ActiveXObject=global.ActiveXObject,NativeEventSource=global.EventSource,document=global.document,Promise=global.Promise,fetch=global.fetch,Response=global.Response,TextDecoder=global.TextDecoder,TextEncoder=global.TextEncoder,AbortController=global.AbortController;if("undefined"==typeof window||void 0===document||"readyState"in document||null!=document.body||(document.readyState="loading",window.addEventListener("load",(function(event){document.readyState="complete"}),!1)),null==XMLHttpRequest&&null!=ActiveXObject&&(XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(C){function F(){}return F.prototype=C,new F}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==AbortController){var originalFetch2=fetch;fetch=function(url,options){var signal=options.signal;return originalFetch2(url,{headers:options.headers,credentials:options.credentials,cache:options.cache}).then((function(response){var reader=response.body.getReader();return signal._reader=reader,signal._aborted&&signal._reader.cancel(),{status:response.status,statusText:response.statusText,headers:response.headers,body:{getReader:function(){return reader}}}}))},AbortController=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function TextDecoderPolyfill(){this.bitsNeeded=0,this.codePoint=0}TextDecoderPolyfill.prototype.decode=function(octets){function valid(codePoint,shift,octetsCount){if(1===octetsCount)return codePoint>=128>>shift&&codePoint<<shift<=2047;if(2===octetsCount)return codePoint>=2048>>shift&&codePoint<<shift<=55295||codePoint>=57344>>shift&&codePoint<<shift<=65535;if(3===octetsCount)return codePoint>=65536>>shift&&codePoint<<shift<=1114111;throw new Error}function octetsCount(bitsNeeded,codePoint){if(6===bitsNeeded)return codePoint>>6>15?3:codePoint>31?2:1;if(12===bitsNeeded)return codePoint>15?3:2;if(18===bitsNeeded)return 3;throw new Error}for(var string="",bitsNeeded=this.bitsNeeded,codePoint=this.codePoint,i=0;i<octets.length;i+=1){var octet=octets[i];0!==bitsNeeded&&(octet<128||octet>191||!valid(codePoint<<6|63&octet,bitsNeeded-6,octetsCount(bitsNeeded,codePoint)))&&(bitsNeeded=0,codePoint=65533,string+=String.fromCharCode(codePoint)),0===bitsNeeded?(octet>=0&&octet<=127?(bitsNeeded=0,codePoint=octet):octet>=192&&octet<=223?(bitsNeeded=6,codePoint=31&octet):octet>=224&&octet<=239?(bitsNeeded=12,codePoint=15&octet):octet>=240&&octet<=247?(bitsNeeded=18,codePoint=7&octet):(bitsNeeded=0,codePoint=65533),0===bitsNeeded||valid(codePoint,bitsNeeded,octetsCount(bitsNeeded,codePoint))||(bitsNeeded=0,codePoint=65533)):(bitsNeeded-=6,codePoint=codePoint<<6|63&octet),0===bitsNeeded&&(codePoint<=65535?string+=String.fromCharCode(codePoint):(string+=String.fromCharCode(55296+(codePoint-65535-1>>10)),string+=String.fromCharCode(56320+(codePoint-65535-1&1023))))}return this.bitsNeeded=bitsNeeded,this.codePoint=codePoint,string},null!=TextDecoder&&null!=TextEncoder&&function(){try{return"test"===(new TextDecoder).decode((new TextEncoder).encode("test"),{stream:!0})}catch(error){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+error)}return!1}()||(TextDecoder=TextDecoderPolyfill);var k=function(){};function XHRWrapper(xhr){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=k,this.onload=k,this.onerror=k,this.onreadystatechange=k,this._contentType="",this._xhr=xhr,this._sendTimeout=0,this._abort=k}function toLowerCase(name){return name.replace(/[A-Z]/g,(function(c){return String.fromCharCode(c.charCodeAt(0)+32)}))}function HeadersPolyfill(all){for(var map=Object.create(null),array=all.split("\r\n"),i=0;i<array.length;i+=1){var parts=array[i].split(": "),name=parts.shift(),value=parts.join(": ");map[toLowerCase(name)]=value}this._map=map}function XHRTransport(){}function HeadersWrapper(headers){this._headers=headers}function FetchTransport(){}function EventTarget(){this._listeners=Object.create(null)}function throwError(e){setTimeout((function(){throw e}),0)}function Event(type){this.type=type,this.target=void 0}function MessageEvent(type,options){Event.call(this,type),this.data=options.data,this.lastEventId=options.lastEventId}function ConnectionEvent(type,options){Event.call(this,type),this.status=options.status,this.statusText=options.statusText,this.headers=options.headers}function ErrorEvent(type,options){Event.call(this,type),this.error=options.error}XHRWrapper.prototype.open=function(method,url){this._abort(!0);var that=this,xhr=this._xhr,state=1,timeout=0;this._abort=function(silent){0!==that._sendTimeout&&(clearTimeout(that._sendTimeout),that._sendTimeout=0),1!==state&&2!==state&&3!==state||(state=4,xhr.onload=k,xhr.onerror=k,xhr.onabort=k,xhr.onprogress=k,xhr.onreadystatechange=k,xhr.abort(),0!==timeout&&(clearTimeout(timeout),timeout=0),silent||(that.readyState=4,that.onabort(null),that.onreadystatechange())),state=0};var onStart=function(){if(1===state){var status=0,statusText="",contentType=void 0;if("contentType"in xhr)status=200,statusText="OK",contentType=xhr.contentType;else try{status=xhr.status,statusText=xhr.statusText,contentType=xhr.getResponseHeader("Content-Type")}catch(error){status=0,statusText="",contentType=void 0}0!==status&&(state=2,that.readyState=2,that.status=status,that.statusText=statusText,that._contentType=contentType,that.onreadystatechange())}},onProgress=function(){if(onStart(),2===state||3===state){state=3;var responseText="";try{responseText=xhr.responseText}catch(error){}that.readyState=3,that.responseText=responseText,that.onprogress()}},onFinish=function(type,event){if(null!=event&&null!=event.preventDefault||(event={preventDefault:k}),onProgress(),1===state||2===state||3===state){if(state=4,0!==timeout&&(clearTimeout(timeout),timeout=0),that.readyState=4,"load"===type)that.onload(event);else if("error"===type)that.onerror(event);else{if("abort"!==type)throw new TypeError;that.onabort(event)}that.onreadystatechange()}},onTimeout=function(){timeout=setTimeout((function(){onTimeout()}),500),3===xhr.readyState&&onProgress()};"onload"in xhr&&(xhr.onload=function(event){onFinish("load",event)}),"onerror"in xhr&&(xhr.onerror=function(event){onFinish("error",event)}),"onabort"in xhr&&(xhr.onabort=function(event){onFinish("abort",event)}),"onprogress"in xhr&&(xhr.onprogress=onProgress),"onreadystatechange"in xhr&&(xhr.onreadystatechange=function(event){!function(event){null!=xhr&&(4===xhr.readyState?"onload"in xhr&&"onerror"in xhr&&"onabort"in xhr||onFinish(""===xhr.responseText?"error":"load",event):3===xhr.readyState?"onprogress"in xhr||onProgress():2===xhr.readyState&&onStart())}(event)}),!("contentType"in xhr)&&"ontimeout"in XMLHttpRequest.prototype||(url+=(-1===url.indexOf("?")?"?":"&")+"padding=true"),xhr.open(method,url,!0),"readyState"in xhr&&(timeout=setTimeout((function(){onTimeout()}),0))},XHRWrapper.prototype.abort=function(){this._abort(!1)},XHRWrapper.prototype.getResponseHeader=function(name){return this._contentType},XHRWrapper.prototype.setRequestHeader=function(name,value){var xhr=this._xhr;"setRequestHeader"in xhr&&xhr.setRequestHeader(name,value)},XHRWrapper.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},XHRWrapper.prototype.send=function(){if("ontimeout"in XMLHttpRequest.prototype&&("sendAsBinary"in XMLHttpRequest.prototype||"mozAnon"in XMLHttpRequest.prototype)||null==document||null==document.readyState||"complete"===document.readyState){var xhr=this._xhr;"withCredentials"in xhr&&(xhr.withCredentials=this.withCredentials);try{xhr.send(void 0)}catch(error1){throw error1}}else{var that=this;that._sendTimeout=setTimeout((function(){that._sendTimeout=0,that.send()}),4)}},HeadersPolyfill.prototype.get=function(name){return this._map[toLowerCase(name)]},null!=XMLHttpRequest&&null==XMLHttpRequest.HEADERS_RECEIVED&&(XMLHttpRequest.HEADERS_RECEIVED=2),XHRTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){xhr.open("GET",url);var offset=0;for(var name in xhr.onprogress=function(){var chunk=xhr.responseText.slice(offset);offset+=chunk.length,onProgressCallback(chunk)},xhr.onerror=function(event){event.preventDefault(),onFinishCallback(new Error("NetworkError"))},xhr.onload=function(){onFinishCallback(null)},xhr.onabort=function(){onFinishCallback(null)},xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED){var status=xhr.status,statusText=xhr.statusText,contentType=xhr.getResponseHeader("Content-Type"),headers=xhr.getAllResponseHeaders();onStartCallback(status,statusText,contentType,new HeadersPolyfill(headers))}},xhr.withCredentials=withCredentials,headers)Object.prototype.hasOwnProperty.call(headers,name)&&xhr.setRequestHeader(name,headers[name]);return xhr.send(),xhr},HeadersWrapper.prototype.get=function(name){return this._headers.get(name)},FetchTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){var reader=null,controller=new AbortController,signal=controller.signal,textDecoder=new TextDecoder;return fetch(url,{headers:headers,credentials:withCredentials?"include":"same-origin",signal:signal,cache:"no-store"}).then((function(response){return reader=response.body.getReader(),onStartCallback(response.status,response.statusText,response.headers.get("Content-Type"),new HeadersWrapper(response.headers)),new Promise((function(resolve,reject){var readNextChunk=function(){reader.read().then((function(result){if(result.done)resolve(void 0);else{var chunk=textDecoder.decode(result.value,{stream:!0});onProgressCallback(chunk),readNextChunk()}})).catch((function(error){reject(error)}))};readNextChunk()}))})).catch((function(error){return"AbortError"===error.name?void 0:error})).then((function(error){onFinishCallback(error)})),{abort:function(){null!=reader&&reader.cancel(),controller.abort()}}},EventTarget.prototype.dispatchEvent=function(event){event.target=this;var typeListeners=this._listeners[event.type];if(null!=typeListeners)for(var length=typeListeners.length,i=0;i<length;i+=1){var listener=typeListeners[i];try{"function"==typeof listener.handleEvent?listener.handleEvent(event):listener.call(this,event)}catch(e){throwError(e)}}},EventTarget.prototype.addEventListener=function(type,listener){type=String(type);var listeners=this._listeners,typeListeners=listeners[type];null==typeListeners&&(typeListeners=[],listeners[type]=typeListeners);for(var found=!1,i=0;i<typeListeners.length;i+=1)typeListeners[i]===listener&&(found=!0);found||typeListeners.push(listener)},EventTarget.prototype.removeEventListener=function(type,listener){type=String(type);var listeners=this._listeners,typeListeners=listeners[type];if(null!=typeListeners){for(var filtered=[],i=0;i<typeListeners.length;i+=1)typeListeners[i]!==listener&&filtered.push(typeListeners[i]);0===filtered.length?delete listeners[type]:listeners[type]=filtered}},MessageEvent.prototype=Object.create(Event.prototype),ConnectionEvent.prototype=Object.create(Event.prototype),ErrorEvent.prototype=Object.create(Event.prototype);var contentTypeRegExp=/^text\/event\-stream(;.*)?$/i,parseDuration=function(value,def){var n=null==value?def:parseInt(value,10);return n!=n&&(n=def),clampDuration(n)},clampDuration=function(n){return Math.min(Math.max(n,1e3),18e6)},fire=function(that,f,event){try{"function"==typeof f&&f.call(that,event)}catch(e){throwError(e)}};function EventSourcePolyfill(url,options){EventTarget.call(this),options=options||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(es,url,options){url=String(url);var withCredentials=Boolean(options.withCredentials),lastEventIdQueryParameterName=options.lastEventIdQueryParameterName||"lastEventId",initialRetry=clampDuration(1e3),heartbeatTimeout=parseDuration(options.heartbeatTimeout,45e3),lastEventId="",retry=initialRetry,wasActivity=!1,textLength=0,headers=options.headers||{},TransportOption=options.Transport,xhr=isFetchSupported&&null==TransportOption?void 0:new XHRWrapper(null!=TransportOption?new TransportOption:null!=XMLHttpRequest&&"withCredentials"in XMLHttpRequest.prototype||null==XDomainRequest?new XMLHttpRequest:new XDomainRequest),transport=null!=TransportOption&&"string"!=typeof TransportOption?new TransportOption:null==xhr?new FetchTransport:new XHRTransport,abortController=void 0,timeout=0,currentState=-1,dataBuffer="",lastEventIdBuffer="",eventTypeBuffer="",textBuffer="",state=0,fieldStart=0,valueStart=0,onStart=function(status,statusText,contentType,headers){if(0===currentState)if(200===status&&null!=contentType&&contentTypeRegExp.test(contentType)){currentState=1,wasActivity=Date.now(),retry=initialRetry,es.readyState=1;var event=new ConnectionEvent("open",{status:status,statusText:statusText,headers:headers});es.dispatchEvent(event),fire(es,es.onopen,event)}else{var message="";200!==status?(statusText&&(statusText=statusText.replace(/\s+/g," ")),message="EventSource's response has a status "+status+" "+statusText+" that is not 200. Aborting the connection."):message="EventSource's response has a Content-Type specifying an unsupported type: "+(null==contentType?"-":contentType.replace(/\s+/g," "))+". Aborting the connection.",close(),event=new ConnectionEvent("error",{status:status,statusText:statusText,headers:headers}),es.dispatchEvent(event),fire(es,es.onerror,event),console.error(message)}},onProgress=function(textChunk){if(1===currentState){for(var n=-1,i=0;i<textChunk.length;i+=1)(c=textChunk.charCodeAt(i))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(n=i);var chunk=(-1!==n?textBuffer:"")+textChunk.slice(0,n+1);textBuffer=(-1===n?textBuffer:"")+textChunk.slice(n+1),""!==textChunk&&(wasActivity=Date.now(),textLength+=textChunk.length);for(var position=0;position<chunk.length;position+=1){var c=chunk.charCodeAt(position);if(-1===state&&c==="\n".charCodeAt(0))state=0;else if(-1===state&&(state=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==state){1===state&&(valueStart=position+1);var field=chunk.slice(fieldStart,valueStart-1),value=chunk.slice(valueStart+(valueStart<position&&chunk.charCodeAt(valueStart)===" ".charCodeAt(0)?1:0),position);"data"===field?(dataBuffer+="\n",dataBuffer+=value):"id"===field?lastEventIdBuffer=value:"event"===field?eventTypeBuffer=value:"retry"===field?(initialRetry=parseDuration(value,initialRetry),retry=initialRetry):"heartbeatTimeout"===field&&(heartbeatTimeout=parseDuration(value,heartbeatTimeout),0!==timeout&&(clearTimeout(timeout),timeout=setTimeout((function(){onTimeout()}),heartbeatTimeout)))}if(0===state){if(""!==dataBuffer){lastEventId=lastEventIdBuffer,""===eventTypeBuffer&&(eventTypeBuffer="message");var event=new MessageEvent(eventTypeBuffer,{data:dataBuffer.slice(1),lastEventId:lastEventIdBuffer});if(es.dispatchEvent(event),"open"===eventTypeBuffer?fire(es,es.onopen,event):"message"===eventTypeBuffer?fire(es,es.onmessage,event):"error"===eventTypeBuffer&&fire(es,es.onerror,event),2===currentState)return}dataBuffer="",eventTypeBuffer=""}state=c==="\r".charCodeAt(0)?-1:0}else 0===state&&(fieldStart=position,state=1),1===state?c===":".charCodeAt(0)&&(valueStart=position+1,state=2):2===state&&(state=3)}}},onFinish=function(error){if(1===currentState||0===currentState){currentState=-1,0!==timeout&&(clearTimeout(timeout),timeout=0),timeout=setTimeout((function(){onTimeout()}),retry),retry=clampDuration(Math.min(16*initialRetry,2*retry)),es.readyState=0;var event=new ErrorEvent("error",{error:error});es.dispatchEvent(event),fire(es,es.onerror,event),null!=error&&console.error(error)}},close=function(){currentState=2,null!=abortController&&(abortController.abort(),abortController=void 0),0!==timeout&&(clearTimeout(timeout),timeout=0),es.readyState=2},onTimeout=function(){if(timeout=0,-1===currentState){wasActivity=!1,textLength=0,timeout=setTimeout((function(){onTimeout()}),heartbeatTimeout),currentState=0,dataBuffer="",eventTypeBuffer="",lastEventIdBuffer=lastEventId,textBuffer="",fieldStart=0,valueStart=0,state=0;var requestURL=url;if("data:"!==url.slice(0,5)&&"blob:"!==url.slice(0,5)&&""!==lastEventId){var i=url.indexOf("?");requestURL=-1===i?url:url.slice(0,i+1)+url.slice(i+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(p,paramName){return paramName===lastEventIdQueryParameterName?"":p})),requestURL+=(-1===url.indexOf("?")?"?":"&")+lastEventIdQueryParameterName+"="+encodeURIComponent(lastEventId)}var withCredentials=es.withCredentials,requestHeaders={Accept:"text/event-stream"},headers=es.headers;if(null!=headers)for(var name in headers)Object.prototype.hasOwnProperty.call(headers,name)&&(requestHeaders[name]=headers[name]);try{abortController=transport.open(xhr,onStart,onProgress,onFinish,requestURL,withCredentials,requestHeaders)}catch(error){throw close(),error}}else if(wasActivity||null==abortController){var nextHeartbeat=Math.max((wasActivity||Date.now())+heartbeatTimeout-Date.now(),1);wasActivity=!1,timeout=setTimeout((function(){onTimeout()}),nextHeartbeat)}else onFinish(new Error("No activity within "+heartbeatTimeout+" milliseconds. "+(0===currentState?"No response received.":textLength+" chars received.")+" Reconnecting.")),null!=abortController&&(abortController.abort(),abortController=void 0)};es.url=url,es.readyState=0,es.withCredentials=withCredentials,es.headers=headers,es._close=close,onTimeout()}(this,url,options)}var isFetchSupported=null!=fetch&&null!=Response&&"body"in Response.prototype;EventSourcePolyfill.prototype=Object.create(EventTarget.prototype),EventSourcePolyfill.prototype.CONNECTING=0,EventSourcePolyfill.prototype.OPEN=1,EventSourcePolyfill.prototype.CLOSED=2,EventSourcePolyfill.prototype.close=function(){this._close()},EventSourcePolyfill.CONNECTING=0,EventSourcePolyfill.OPEN=1,EventSourcePolyfill.CLOSED=2,EventSourcePolyfill.prototype.withCredentials=void 0;var v,R=NativeEventSource;null==XMLHttpRequest||null!=NativeEventSource&&"withCredentials"in NativeEventSource.prototype||(R=EventSourcePolyfill),v=function(exports){exports.EventSourcePolyfill=EventSourcePolyfill,exports.NativeEventSource=NativeEventSource,exports.EventSource=R}(exports),void 0!==v&&(module.exports=v)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:commonjsGlobal:globalThis),void 0===window.EventSource&&(window.EventSource=eventsource.exports.NativeEventSource||eventsource.exports.EventSourcePolyfill);var Url=function(){function Url(){_classCallCheck(this,Url)}return _createClass(Url,[{key:"addQueryString",value:function(url,key,value){key=encodeURI(key),value=encodeURI(value);var urlArray=url.split("?"),queryString="",baseUrl=urlArray[0];urlArray.length>1&&(queryString=urlArray[1]);for(var x,kvp=queryString.split("&"),i=kvp.length;i--;)if((x=kvp[i].split("="))[0]===key){x[1]=value,kvp[i]=x.join("=");break}return i<0&&(kvp[kvp.length]=[key,value].join("=")),"&"===(queryString=kvp.join("&")).substr(0,1)&&(queryString=queryString.substr(1)),baseUrl+"?"+queryString}},{key:"replaceParam",value:function(url){for(var available=!0;available;){var matches=url.match(/{([\w]*)}/);if(null!==matches){var key=matches[1],val=null;$("#"+key).length>0&&(val=window.cresenity.value("#"+key)),null===val&&(val=key),url=url.replace("{"+key+"}",val)}else available=!1}return url}}]),Url}();function debounce$1(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}function cresDirectives(el){return new DirectiveManager$1(el)}var DirectiveManager$1=function(){function DirectiveManager(el){_classCallCheck(this,DirectiveManager),this.el=el,this.directives=this.extractTypeModifiersAndValue()}return _createClass(DirectiveManager,[{key:"all",value:function(){return this.directives}},{key:"has",value:function(type){return this.directives.map((function(directive){return directive.type})).includes(type)}},{key:"missing",value:function(type){return!this.has(type)}},{key:"get",value:function(type){return this.directives.find((function(directive){return directive.type===type}))}},{key:"extractTypeModifiersAndValue",value:function(){var _this=this;return Array.from(this.el.getAttributeNames().filter((function(name){return name.match(new RegExp("cres:"))})).map((function(name){var _name$replace$split2=_toArray(name.replace(new RegExp("cres:"),"").split(".")),type=_name$replace$split2[0],modifiers=_name$replace$split2.slice(1);return new Directive(type,modifiers,name,_this.el)})))}}]),DirectiveManager}(),Directive=function(){function Directive(type,modifiers,rawName,el){_classCallCheck(this,Directive),this.type=type,this.modifiers=modifiers,this.rawName=rawName,this.el=el,this.eventContext}return _createClass(Directive,[{key:"setEventContext",value:function(context){this.eventContext=context}},{key:"value",get:function(){return this.el.getAttribute(this.rawName)}},{key:"method",get:function(){return this.parseOutMethodAndParams(this.value).method}},{key:"params",get:function(){return this.parseOutMethodAndParams(this.value).params}},{key:"durationOr",value:function(defaultDuration){var durationInMilliSeconds,durationInMilliSecondsString=this.modifiers.find((function(mod){return mod.match(/([0-9]+)ms/)})),durationInSecondsString=this.modifiers.find((function(mod){return mod.match(/([0-9]+)s/)}));return durationInMilliSecondsString?durationInMilliSeconds=Number(durationInMilliSecondsString.replace("ms","")):durationInSecondsString&&(durationInMilliSeconds=1e3*Number(durationInSecondsString.replace("s",""))),durationInMilliSeconds||defaultDuration}},{key:"parseOutMethodAndParams",value:function parseOutMethodAndParams(rawMethod){var method=rawMethod,params=[],methodAndParamString=method.match(/(.*?)\((.*)\)/);return methodAndParamString&&(this.eventContext,method=methodAndParamString[1],params=eval("(function () {\n                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {\n                    p[k] = arguments[k];\n                }\n                return [].concat(p);\n            })(".concat(methodAndParamString[2],")"))),{method:method,params:params}}},{key:"cardinalDirectionOr",value:function(){var fallback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";return this.modifiers.includes("up")?"up":this.modifiers.includes("down")?"down":this.modifiers.includes("left")?"left":this.modifiers.includes("right")?"right":fallback}}]),Directive}();function walk$1(root,callback){if(!1!==callback(root))for(var node=root.firstElementChild;node;)walk$1(node,callback),node=node.nextElementSibling}function dispatch$1(eventName){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},event=new CustomEvent(eventName,params);return window.dispatchEvent(event),event}function getCsrfToken(){var tokenTag=document.head.querySelector('meta[name="csrf-token"]');return tokenTag?tokenTag.content:window.cresenity_token}var isJson=function(str){try{JSON.parse(str)}catch(e){return!1}return!0},toggleFullscreen=function(element){element||(element=document.documentElement),$("body").hasClass("full-screen")?($("body").removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($("body").addClass("full-screen"),element.requestFullscreen?element.requestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.webkitRequestFullscreen?element.webkitRequestFullscreen():element.msRequestFullscreen&&element.msRequestFullscreen())},initIframeModal=function(){var modal=document.getElementById("capp-html-modal");if(void 0!==modal&&null!=modal)modal.innerHTML="";else{var _iframe=document.createElement("iframe");_iframe.style.backgroundColor="#17161A",_iframe.style.borderRadius="5px",_iframe.style.width="100%",_iframe.style.height="100%",(modal=document.createElement("div")).id="capp-html-modal",modal.style.position="fixed",modal.style.width="100vw",modal.style.height="100vh",modal.style.padding="50px",modal.style.backgroundColor="rgba(0, 0, 0, .6)",modal.style.zIndex=2e5,modal.addEventListener("click",(function(){return hideIframeModal(modal)})),modal.setAttribute("tabindex",0),modal.addEventListener("keydown",(function(e){"Escape"===e.key&&hideIframeModal(modal)})),document.body.prepend(modal),modal.appendChild(_iframe)}return modal.firstChild.contentWindow.document.innerHTML="",document.body.style.overflow="hidden",modal.focus(),modal},showHtmlModal=function(html){isJson(html)&&(html=JSON.parse(html)),"object"===_typeof$1(html)&&(html='<pre style="background-color:#fff">'+(html=JSON.stringify(html,null,4))+"</pre>");var page=document.createElement("html");page.innerHTML=html,page.querySelectorAll("a").forEach((function(a){return a.setAttribute("target","_top")}));var modal=initIframeModal(),iframe=modal.firstChild;return iframe.contentWindow.document.open(),iframe.contentWindow.document.write(page.outerHTML),iframe.contentWindow.document.close(),modal},showUrlModal=function(url){var modal=initIframeModal();return modal.firstChild.src=url,modal},hideIframeModal=function(modal){void 0===modal&&(modal=document.getElementById("capp-html-modal")),void 0!==modal&&(modal.outerHTML="",document.body.style.overflow="visible")};function kebabCase$1(subject){return subject.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}var mergeOptions$1=function mergeOptions(initialOptions,customOptions){var merged=customOptions;for(var prop in initialOptions)merged.hasOwnProperty(prop)?null!==initialOptions[prop]&&initialOptions[prop].constructor===Object&&(merged[prop]=mergeOptions(initialOptions[prop],merged[prop])):merged[prop]=initialOptions[prop];return merged},CF=function(){function CF(){var _this=this;_classCallCheck(this,CF),this.required=void 0===this.required?[]:this.required,this.cssRequired=void 0===this.cssRequired?[]:this.cssRequired,this.window=window,this.document=window.document,this.head=this.document.getElementsByTagName("head")[0],this.beforeInitCallback=[],this.afterInitCallback=[];var cappConfig=window.capp;void 0===cappConfig&&(cappConfig={});this.config=mergeOptions$1({baseUrl:"/",defaultJQueryUrl:"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js",haveScrollToTop:!1,vscode:{liveReload:{enable:!1,protocol:"ws",host:"localhost",port:3717}},requireJs:!1,CFVersion:"1.2",isProduction:!1,react:{enable:!1}},cappConfig),this.config.cssUrl&&this.config.cssUrl.forEach((function(item){_this.required.push(item)})),this.config.jsUrl&&this.config.jsUrl.forEach((function(item){_this.required.push(item)}))}return _createClass(CF,[{key:"debug",value:function(msg){this.getConfig().debug&&window.console.log(msg)}},{key:"onBeforeInit",value:function(callback){return this.beforeInitCallback.push(callback),this}},{key:"onAfterInit",value:function(callback){return this.afterInitCallback.push(callback),this}},{key:"getConfig",value:function(){return this.config}},{key:"isUseRequireJs",value:function(){return this.getConfig().requireJs}},{key:"CFVersion",value:function(){return this.getConfig().CFVersion}},{key:"requireCss",value:function(url,callback){var _this2=this;if(~this.cssRequired.indexOf(url))"function"==typeof callback&&callback();else{if(this.cssRequired.push(url),null!==document.querySelector('link[href="'+url+'"],script[src="'+url+'"]'))return;var el,string="<link rel='stylesheet' type='text/css' href='"+url+"' />";if("loading"===document.readyState&&window.CanvasRenderingContext2D&&self===parent)document.write(string);else(el=this.document.createElement("link")).rel="stylesheet",el.type="text/css",el.href=url,"function"==typeof callback&&(el.onload=callback,el.onreadystatechange=function(){"complete"==_this2.readyState&&callback()}),this.head.appendChild(el)}}},{key:"requireJs",value:function(url,callback){var _this3=this;if(~this.required.indexOf(url))"function"==typeof callback&&callback();else{if(this.required.push(url),null!==document.querySelector('link[href="'+url+'"],script[src="'+url+'"]'))return;var el,string="<script type='text/javascript'  src='"+url+"'><\/script>";if("loading"===document.readyState&&window.CanvasRenderingContext2D&&self===parent)document.write(string);else(el=this.document.createElement("script")).src=url,el.setAttribute("type","text/javascript"),"function"==typeof callback&&(el.onload=callback,el.onreadystatechange=function(){"complete"==_this3.readyState&&(dispatch$1("cresenity:js:loaded",{url:url}),callback())}),this.document.body.appendChild(el)}}},{key:"require",value:function(url,callback){if("string"!=typeof url&&(url=url[0]),url){var toPush=url.trim(),t="js",urlObject=new URL(toPush,document.baseURI);urlObject&&(t=urlObject.pathname.split(".").pop()),"js"==t&&this.requireJs(toPush,callback),"css"==t&&this.requireCss(toPush,callback)}}},{key:"isProduction",value:function(){return"production"==this.config.environment}},{key:"loadReact",value:function(callback){var fileref,_this4=this,afterReactLoaded=function(){dispatch$1("cresenity:react:loaded"),callback()},reactUrl=this.getConfig().isProduction?"https://unpkg.com/react@17/umd/react.production.min.js":"https://unpkg.com/react@17/umd/react.development.js",reactDomUrl=this.getConfig().isProduction?"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js":"https://unpkg.com/react-dom@17/umd/react-dom.development.js";"undefined"==typeof React?((fileref=_this4.document.createElement("script")).setAttribute("type","text/javascript"),fileref.setAttribute("src",reactUrl),"function"==typeof callback&&(fileref.onload=function(){!function(){var fileref=_this4.document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.setAttribute("src",reactDomUrl),"function"==typeof callback&&(fileref.onload=function(){afterReactLoaded()}),_this4.head.appendChild(fileref)}()}),_this4.head.appendChild(fileref)):afterReactLoaded()}},{key:"loadJQuery",value:function(callback){var _this5=this,jqueryUrl=this.getConfig().defaultJQueryUrl,afterJQueryLoaded=function(){_this5.required.push(jqueryUrl),dispatch$1("cresenity:jquery:loaded"),callback()};if("undefined"==typeof jQuery){var fileref=this.document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.setAttribute("src",jqueryUrl),"function"==typeof callback&&(fileref.onload=function(){afterJQueryLoaded()}),this.head.appendChild(fileref)}else afterJQueryLoaded()}},{key:"init",value:function(){var _this6=this;this.beforeInitCallback.forEach((function(item){item()}));var arrayJsUrl=this.getConfig().jsUrl,arrayCssUrl=this.getConfig().cssUrl;void 0!==arrayJsUrl&&arrayJsUrl.forEach((function(item){_this6.required.push(item)})),void 0!==arrayCssUrl&&arrayCssUrl.forEach((function(item){_this6.cssRequired.push(item)})),(this.getConfig().react.enable?function(callback){_this6.loadJQuery(_this6.loadReact(callback))}:function(callback){_this6.loadJQuery(callback)})((function(){_this6.afterInitCallback.forEach((function(item){item()}))}))}}]),CF}(),cf=new CF,ScrollToTop=function(){function ScrollToTop(){_classCallCheck(this,ScrollToTop),this.setting={startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},this.controlHTML=cf.config.scrollToTopHtml||'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAqCAYAAAAeeGN5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM2RTVENEJCODY3RTExRTI5MTFEQzg2NjQyQ0VGQzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM2RTVENEJDODY3RTExRTI5MTFEQzg2NjQyQ0VGQzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzZFNUQ0Qjk4NjdFMTFFMjkxMURDODY2NDJDRUZDOEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzZFNUQ0QkE4NjdFMTFFMjkxMURDODY2NDJDRUZDOEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Mw5vNAAAAkUlEQVR42uzYoRGAMBBEUbKKlqAKKAKKogm6oCWQTAQawd0lE/5Xa5/dNEzL2TWSuoYCAwYMGDBgwIAB8zPMsW99E5gMGef1igApApJ3BEgRkCdvkKIgESBFQrxBioZ4glQC4gVSKYgHSCUh1iCVhliCVAPECqRaIBYg1QT5Ckp8zWDAgAEDBgwYMGDAvHQLMACw9mxL+kYUJQAAAABJRU5ErkJggg==" style="width:51px; height:42px" />',this.controlattrs={offsetx:5,offsety:5},this.anchorkeyword="#top",this.state={isvisible:!1,shouldvisible:!1},this.keepfixed=function(){var $window=jQuery(window),controlx=$window.scrollLeft()+$window.width()-this.$control.width()-this.controlattrs.offsetx,controly=$window.scrollTop()+$window.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:controlx+"px",top:controly+"px"})},this.togglecontrol=function(){var scrolltop=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=scrolltop>=this.setting.startline,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1,zIndex:99999},this.setting.fadeduration[0]),this.state.isvisible=!0):!1===this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0,zIndex:-1},this.setting.fadeduration[1]),this.state.isvisible=!1)},this.init=function(){var _this=this;jQuery(document).ready((function($){var mainobj=_this,iebrws=document.all;mainobj.cssfixedsupport=!iebrws||iebrws&&"CSS1Compat"===document.compatMode&&window.XMLHttpRequest,mainobj.$body=window.opera?"CSS1Compat"===document.compatMode?$("html"):$("body"):$("html,body"),mainobj.$control=$('<div id="cres-topcontrol">'+mainobj.controlHTML+"</div>").css({position:mainobj.cssfixedsupport?"fixed":"absolute",bottom:mainobj.controlattrs.offsety,right:mainobj.controlattrs.offsetx,opacity:0,cursor:"pointer",zIndex:99999}).attr({title:"Scroll Back to Top"}).click((function(){return mainobj.scrollup(),!1})).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!==mainobj.$control.text()&&mainobj.$control.css({width:mainobj.$control.width()}),mainobj.togglecontrol(),$('a[href="'+mainobj.anchorkeyword+'"]').click((function(){return mainobj.scrollup(),!1})),$(window).bind("scroll resize",(function(){mainobj.togglecontrol()}))}))}}return _createClass(ScrollToTop,[{key:"scrollup",value:function(){this.cssfixedsupport||this.$control.css({opacity:0,zIndex:-1});var dest=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);dest="string"==typeof dest&&1==jQuery("#"+dest).length?jQuery("#"+dest).offset().top:0,this.$body.animate({scrollTop:dest},this.setting.scrollduration)}}]),ScrollToTop}(),isobject=function(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)};
/*!
	 * get-value <https://github.com/jonschlinkert/get-value>
	 *
	 * Copyright (c) 2014-2018, Jon Schlinkert.
	 * Released under the MIT License.
	 */
const isObject=isobject;var getValue=function(target,path,options){if(isObject(options)||(options={default:options}),!isValidObject(target))return void 0!==options.default?options.default:target;"number"==typeof path&&(path=String(path));const isArray=Array.isArray(path),isString="string"==typeof path,splitChar=options.separator||".",joinChar=options.joinChar||("string"==typeof splitChar?splitChar:".");if(!isString&&!isArray)return target;if(isString&&path in target)return isValid(path,target,options)?target[path]:options.default;let segs=isArray?path:split(path,splitChar,options),len=segs.length,idx=0;do{let prop=segs[idx];for("number"==typeof prop&&(prop=String(prop));prop&&"\\"===prop.slice(-1);)prop=join([prop.slice(0,-1),segs[++idx]||""],joinChar,options);if(prop in target){if(!isValid(prop,target,options))return options.default;target=target[prop]}else{let hasProp=!1,n=idx+1;for(;n<len;)if(prop=join([prop,segs[n++]],joinChar,options),hasProp=prop in target){if(!isValid(prop,target,options))return options.default;target=target[prop],idx=n-1;break}if(!hasProp)return options.default}}while(++idx<len&&isValidObject(target));return idx===len?target:options.default};function join(segs,joinChar,options){return"function"==typeof options.join?options.join(segs):segs[0]+joinChar+segs[1]}function split(path,splitChar,options){return"function"==typeof options.split?options.split(path):path.split(splitChar)}function isValid(key,target,options){return"function"!=typeof options.isValid||options.isValid(key,target)}function isValidObject(val){return isObject(val)||Array.isArray(val)||"function"==typeof val}var _default$6=function(){function _default(el){var skipWatcher=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,_default),this.el=el,this.skipWatcher=skipWatcher,this.resolveCallback=function(){},this.rejectCallback=function(){}}return _createClass(_default,[{key:"toId",value:function(){return btoa(encodeURIComponent(this.el.outerHTML))}},{key:"onResolve",value:function(callback){this.resolveCallback=callback}},{key:"onReject",value:function(callback){this.rejectCallback=callback}},{key:"resolve",value:function(thing){this.resolveCallback(thing)}},{key:"reject",value:function(thing){this.rejectCallback(thing)}}]),_default}(),_default$5=function(_Action){_inherits(_default,_Action);var _super=_createSuper(_default);function _default(event,params,el){var _this;return _classCallCheck(this,_default),(_this=_super.call(this,el)).type="fireEvent",_this.payload={event:event,params:params},_this}return _createClass(_default,[{key:"toId",value:function(){return btoa(encodeURIComponent(this.type,this.payload.event,JSON.stringify(this.payload.params)))}}]),_default}(_default$6),MessageBus=function(){function MessageBus(){_classCallCheck(this,MessageBus),this.listeners={}}return _createClass(MessageBus,[{key:"register",value:function(name,callback){this.listeners[name]||(this.listeners[name]=[]),this.listeners[name].push(callback)}},{key:"unregister",value:function(name,callback){callback||(this.listeners[name]=[]);var index=this.listeners[name].indexOf(callback);index>-1&&this.listeners[name].splice(index,1)}},{key:"call",value:function(name){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];(this.listeners[name]||[]).forEach((function(callback){callback.apply(void 0,params)}))}},{key:"has",value:function(name){return Object.keys(this.listeners).includes(name)}}]),MessageBus}(),HookManager={availableHooks:["component.initialized","element.initialized","element.updating","element.updated","element.removed","message.sent","message.failed","message.received","message.processed","interceptWireModelSetValue","interceptWireModelAttachListener","beforeReplaceState","beforePushState"],bus:new MessageBus,register:function(name,callback){if(!this.availableHooks.includes(name))throw Error("Cresenity: Referencing unknown hook: [".concat(name,"]"));this.bus.register(name,callback)},call:function(name){for(var _this$bus,_len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];(_this$bus=this.bus).call.apply(_this$bus,[name].concat(params))}},DirectiveManager={directives:new MessageBus,register:function(name,callback){if(this.has(name))throw Error("Cresenity: Directive already registered: [".concat(name,"]"));this.directives.register(name,callback)},call:function(name,el,directive,component){this.directives.call(name,el,directive,component)},has:function(name){return this.directives.has(name)}},store$1={componentsById:{},listeners:new MessageBus,initialRenderIsFinished:!1,cresenityIsInBackground:!1,cresenityIsOffline:!1,sessionHasExpired:!1,directives:DirectiveManager,hooks:HookManager,onErrorCallback:function(){},components:function(){var _this=this;return Object.keys(this.componentsById).map((function(key){return _this.componentsById[key]}))},addComponent:function(component){return this.componentsById[component.id]=component},findComponent:function(id){return this.componentsById[id]},getComponentsByName:function(name){return this.components().filter((function(component){return component.name===name}))},hasComponent:function(id){return!!this.componentsById[id]},tearDownComponents:function(){var _this2=this;this.components().forEach((function(component){_this2.removeComponent(component)}))},on:function(event,callback){this.listeners.register(event,callback)},off:function(event,callback){this.listeners.unregister(event,callback)},emit:function(event){for(var _this$listeners,_len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];(_this$listeners=this.listeners).call.apply(_this$listeners,[event].concat(params)),this.componentsListeningForEvent(event).forEach((function(component){return component.addAction(new _default$5(event,params))}))},emitUp:function(el,event){for(var _len2=arguments.length,params=new Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)params[_key2-2]=arguments[_key2];this.componentsListeningForEventThatAreTreeAncestors(el,event).forEach((function(component){return component.addAction(new _default$5(event,params))}))},emitSelf:function(componentId,event){var component=this.findComponent(componentId);if(component.listeners.includes(event)){for(var _len3=arguments.length,params=new Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++)params[_key3-2]=arguments[_key3];component.addAction(new _default$5(event,params))}},emitTo:function(componentName,event){for(var _len4=arguments.length,params=new Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++)params[_key4-2]=arguments[_key4];var components=this.getComponentsByName(componentName);components.forEach((function(component){component.listeners.includes(event)&&component.addAction(new _default$5(event,params))}))},componentsListeningForEventThatAreTreeAncestors:function(el,event){for(var parentIds=[],parent=el.parentElement.closest("[cres\\:id]");parent;)parentIds.push(parent.getAttribute("cres:id")),parent=parent.parentElement.closest("[cres\\:id]");return this.components().filter((function(component){return component.listeners.includes(event)&&parentIds.includes(component.id)}))},componentsListeningForEvent:function(event){return this.components().filter((function(component){return component.listeners.includes(event)}))},registerDirective:function(name,callback){this.directives.register(name,callback)},registerHook:function(name,callback){this.hooks.register(name,callback)},callHook:function(name){for(var _this$hooks,_len5=arguments.length,params=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)params[_key5-1]=arguments[_key5];(_this$hooks=this.hooks).call.apply(_this$hooks,[name].concat(params))},changeComponentId:function(component,newId){var oldId=component.id;component.id=newId,component.fingerprint.id=newId,this.componentsById[newId]=component,delete this.componentsById[oldId],this.components().forEach((function(component){var children=component.serverMemo.children||{};Object.entries(children).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],_ref2$=_ref2[1],id=_ref2$.id;_ref2$.tagName,id===oldId&&(children[key].id=newId)}))}))},removeComponent:function(component){component.tearDown(),delete this.componentsById[component.id]},onError:function(callback){this.onErrorCallback=callback},getClosestParentId:function(childId,subsetOfParentIds){var _this3=this,distancesByParentId={};subsetOfParentIds.forEach((function(parentId){var distance=_this3.getDistanceToChild(parentId,childId);distance&&(distancesByParentId[parentId]=distance)}));var closestParentId,smallestDistance=Math.min.apply(Math,_toConsumableArray(Object.values(distancesByParentId)));return Object.entries(distancesByParentId).forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),parentId=_ref4[0];_ref4[1]===smallestDistance&&(closestParentId=parentId)})),closestParentId},getDistanceToChild:function(parentId,childId){var distanceMemo=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,parentComponent=this.findComponent(parentId);if(parentComponent){var childIds=parentComponent.childIds;if(childIds.includes(childId))return distanceMemo;for(var i=0;i<childIds.length;i++){var distance=this.getDistanceToChild(childIds[i],childId,distanceMemo+1);if(distance)return distance}}}},DOM={rootComponentElements:function(){return Array.from(document.querySelectorAll("[cres\\:id]"))},rootComponentElementsWithNoParents:function(){var node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===node&&(node=document);var allEls=Array.from(node.querySelectorAll("[cres\\:initial-data]")),onlyChildEls=Array.from(node.querySelectorAll("[cres\\:initial-data] [cres\\:initial-data]"));return allEls.filter((function(el){return!onlyChildEls.includes(el)}))},allModelElementsInside:function(root){return Array.from(root.querySelectorAll("[cres\\:model]"))},getByAttributeAndValue:function(attribute,value){return document.querySelector("[cres\\:".concat(attribute,'="').concat(value,'"]'))},nextFrame:function(fn){var _this=this;requestAnimationFrame((function(){requestAnimationFrame(fn.bind(_this))}))},closestRoot:function(el){return this.closestByAttribute(el,"id")},closestByAttribute:function(el,attribute){var closestEl=el.closest("[cres\\:".concat(attribute,"]"));if(!closestEl)throw"\nCresenity Error:\n\nCannot find parent element in DOM tree containing attribute: [cres:".concat(attribute,"].\n\nUsually this is caused by Cresenity's DOM-differ not being able to properly track changes.\n\nReference the following guide for common causes: https://laravel-cresenity.com/docs/troubleshooting \n\nReferenced element:\n\n").concat(el.outerHTML,"\n");return closestEl},isComponentRootEl:function(el){return this.hasAttribute(el,"id")},hasAttribute:function(el,attribute){return el.hasAttribute("cres:".concat(attribute))},getAttribute:function(el,attribute){return el.getAttribute("cres:".concat(attribute))},removeAttribute:function(el,attribute){return el.removeAttribute("cres:".concat(attribute))},setAttribute:function(el,attribute,value){return el.setAttribute("cres:".concat(attribute),value)},hasFocus:function(el){return el===document.activeElement},isInput:function(el){return["INPUT","TEXTAREA","SELECT"].includes(el.tagName.toUpperCase())},isTextInput:function(el){return["INPUT","TEXTAREA"].includes(el.tagName.toUpperCase())&&!["checkbox","radio"].includes(el.type)},valueFromInput:function(el,component){if("checkbox"===el.type){var modelName=cresDirectives(el).get("model").value,modelValue=component.deferredActions[modelName]?component.deferredActions[modelName].payload.value:getValue(component.data,modelName);return Array.isArray(modelValue)?this.mergeCheckboxValueIntoArray(el,modelValue):!!el.checked&&(el.getAttribute("value")||!0)}return"SELECT"===el.tagName&&el.multiple?this.getSelectValues(el):el.value},mergeCheckboxValueIntoArray:function(el,arrayValue){return el.checked?arrayValue.includes(el.value)?arrayValue:arrayValue.concat(el.value):arrayValue.filter((function(item){return item!==el.value}))},setInputValueFromModel:function(el,component){var modelString=cresDirectives(el).get("model").value,modelValue=getValue(component.data,modelString);"input"===el.tagName.toLowerCase()&&"file"===el.type||this.setInputValue(el,modelValue)},setInputValue:function(el,value){if(store$1.callHook("interceptWireModelSetValue",value,el),"radio"===el.type)el.checked=el.value==value;else if("checkbox"===el.type)if(Array.isArray(value)){var valueFound=!1;value.forEach((function(val){val==el.value&&(valueFound=!0)})),el.checked=valueFound}else el.checked=!!value;else"SELECT"===el.tagName?this.updateSelect(el,value):(value=void 0===value?"":value,el.value=value)},getSelectValues:function(el){return Array.from(el.options).filter((function(option){return option.selected})).map((function(option){return option.value||option.text}))},updateSelect:function(el,value){var arrayWrappedValue=[].concat(value).map((function(value){return value+""}));Array.from(el.options).forEach((function(option){option.selected=arrayWrappedValue.includes(option.value)}))}},Connection=function(){function Connection(){_classCallCheck(this,Connection)}return _createClass(Connection,[{key:"onMessage",value:function(message,payload){message.component.receiveMessage(message,payload)}},{key:"onError",value:function(message,status){return message.component.messageSendFailed(),store$1.onErrorCallback(status)}},{key:"sendMessage",value:function(message){var _this=this,payload=message.payload();if(window.__testing_request_interceptor)return window.__testing_request_interceptor(payload,this);fetch("".concat(window.capp.baseUrl,"cresenity/component/message/").concat(payload.fingerprint.name),{method:"POST",body:JSON.stringify(payload),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"text/html, application/xhtml+xml","X-CSRF-TOKEN":getCsrfToken(),"X-Socket-ID":this.getSocketId(),"X-Cresenity":!0,Referer:window.location.href}}).then((function(response){if(response.ok)response.text().then((function(response){_this.isOutputFromDump(response)?(_this.onError(message),showHtmlModal(response)):_this.onMessage(message,JSON.parse(response))}));else{if(!1===_this.onError(message,response.status))return;if(419===response.status){if(store$1.sessionHasExpired)return;store$1.sessionHasExpired=!0,confirm("This page has expired due to inactivity.\nWould you like to refresh the page?")&&window.location.reload()}else response.text().then((function(response){showHtmlModal(response)}))}})).catch((function(){_this.onError(message)}))}},{key:"isOutputFromDump",value:function(output){return!!output.match(/<script>Sfdump\(".+"\)<\/script>/)}},{key:"getSocketId",value:function(){if(void 0!==window.Echo)return window.Echo.socketId()}}]),Connection}(),_default$4=function(_Action){_inherits(_default,_Action);var _super=_createSuper(_default);function _default(method,params,el){var _this,skipWatcher=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _classCallCheck(this,_default),(_this=_super.call(this,el,skipWatcher)).type="callMethod",_this.method=method,_this.payload={method:method,params:params},_this}return _default}(_default$6);function Polling(){store$1.registerHook("element.initialized",(function(el,component){if(!cresDirectives(el).missing("poll")){var intervalId=fireActionOnInterval(el,component);component.addListenerForTeardown((function(){clearInterval(intervalId)})),el.__cresenity_polling_interval=intervalId}})),store$1.registerHook("element.updating",(function(from,to,component){void 0===from.__cresenity_polling_interval&&cresDirectives(from).missing("poll")&&cresDirectives(to).has("poll")&&setTimeout((function(){var intervalId=fireActionOnInterval(from,component);component.addListenerForTeardown((function(){clearInterval(intervalId)})),from.__cresenity_polling_interval=intervalId}),0)}))}function fireActionOnInterval(node,component){var interval=cresDirectives(node).get("poll").durationOr(2e3);return setInterval((function(){if(!1!==node.isConnected){var directives=cresDirectives(node);if(!directives.missing("poll")){var directive=directives.get("poll"),method=directive.method||"$refresh";store$1.cresenityIsInBackground&&!directive.modifiers.includes("keep-alive")&&Math.random()<.95||store$1.cresenityIsOffline||component.addAction(new _default$4(method,directive.params,node))}}}),interval)}var _default$3=function(){function _default(component,updateQueue){_classCallCheck(this,_default),this.component=component,this.updateQueue=updateQueue}return _createClass(_default,[{key:"payload",value:function(){return{fingerprint:this.component.fingerprint,serverMemo:this.component.serverMemo,updates:this.updateQueue.map((function(update){return{type:update.type,payload:update.payload}}))}}},{key:"shouldSkipWatcherForDataKey",value:function(dataKey){if(this.response.effects.dirty.includes(dataKey))return!1;return this.updateQueue.filter((function(update){return subject=update.name,value=dataKey,"string"==typeof subject&&"string"==typeof value&&subject.split(".")[0]===value.split(".")[0];var subject,value})).some((function(update){return update.skipWatcher}))}},{key:"storeResponse",value:function(payload){return this.response=payload}},{key:"resolve",value:function(){var returns=this.response.effects.returns||[];this.updateQueue.forEach((function(update){"callMethod"===update.type&&update.resolve(void 0!==returns[update.method]?returns[update.method]:null)}))}},{key:"reject",value:function(){this.updateQueue.forEach((function(update){update.reject()}))}}]),_default}(),_default$2=function(_Message){_inherits(_default,_Message);var _super=_createSuper(_default);function _default(component,action){return _classCallCheck(this,_default),_super.call(this,component,[action])}return _createClass(_default,[{key:"prefetchId",get:function(){return this.updateQueue[0].toId()}}]),_default}(_default$3),range;function morphAttrs(fromNode,toNode){var i,attr,attrName,attrNamespaceURI,attrValue,attrs=toNode.attributes;for(i=attrs.length-1;i>=0;--i)attrName=(attr=attrs[i]).name,attrNamespaceURI=attr.namespaceURI,attrValue=attr.value,attrNamespaceURI?(attrName=attr.localName||attrName,fromNode.getAttributeNS(attrNamespaceURI,attrName)!==attrValue&&("xmlns"===attr.prefix&&(attrName=attr.name),fromNode.setAttributeNS(attrNamespaceURI,attrName,attrValue))):fromNode.getAttribute(attrName)!==attrValue&&fromNode.setAttribute(attrName,attrValue);for(i=(attrs=fromNode.attributes).length-1;i>=0;--i)!1!==(attr=attrs[i]).specified&&(attrName=attr.name,(attrNamespaceURI=attr.namespaceURI)?(attrName=attr.localName||attrName,toNode.hasAttributeNS(attrNamespaceURI,attrName)||fromNode.removeAttributeNS(attrNamespaceURI,attrName)):toNode.hasAttribute(attrName)||fromNode.removeAttribute(attrName))}var NS_XHTML="http://www.w3.org/1999/xhtml",doc="undefined"==typeof document?void 0:document,HAS_TEMPLATE_SUPPORT=!!doc&&"content"in doc.createElement("template"),HAS_RANGE_SUPPORT=!!doc&&doc.createRange&&"createContextualFragment"in doc.createRange();function createFragmentFromTemplate(str){var template=doc.createElement("template");return template.innerHTML=str,template.content.childNodes[0]}function createFragmentFromRange(str){return range||(range=doc.createRange()).selectNode(doc.body),range.createContextualFragment(str).childNodes[0]}function createFragmentFromWrap(str){var fragment=doc.createElement("body");return fragment.innerHTML=str,fragment.childNodes[0]}function toElement(str){return str=str.trim(),HAS_TEMPLATE_SUPPORT?createFragmentFromTemplate(str):HAS_RANGE_SUPPORT?createFragmentFromRange(str):createFragmentFromWrap(str)}function compareNodeNames(fromEl,toEl){var fromNodeName=fromEl.nodeName,toNodeName=toEl.nodeName;return fromNodeName===toNodeName||!!(toEl.actualize&&fromNodeName.charCodeAt(0)<91&&toNodeName.charCodeAt(0)>90)&&fromNodeName===toNodeName.toUpperCase()}function createElementNS(name,namespaceURI){return namespaceURI&&namespaceURI!==NS_XHTML?doc.createElementNS(namespaceURI,name):doc.createElement(name)}function moveChildren(fromEl,toEl){for(var curChild=fromEl.firstChild;curChild;){var nextChild=curChild.nextSibling;toEl.appendChild(curChild),curChild=nextChild}return toEl}function syncBooleanAttrProp(fromEl,toEl,name){fromEl[name]!==toEl[name]&&(fromEl[name]=toEl[name],fromEl[name]?fromEl.setAttribute(name,""):fromEl.removeAttribute(name))}var specialElHandlers={OPTION:function(fromEl,toEl){var parentNode=fromEl.parentNode;if(parentNode){var parentName=parentNode.nodeName.toUpperCase();"OPTGROUP"===parentName&&(parentName=(parentNode=parentNode.parentNode)&&parentNode.nodeName.toUpperCase()),"SELECT"!==parentName||parentNode.hasAttribute("multiple")||(fromEl.hasAttribute("selected")&&!toEl.selected&&(fromEl.setAttribute("selected","selected"),fromEl.removeAttribute("selected")),parentNode.selectedIndex=-1)}syncBooleanAttrProp(fromEl,toEl,"selected")},INPUT:function(fromEl,toEl){syncBooleanAttrProp(fromEl,toEl,"checked"),syncBooleanAttrProp(fromEl,toEl,"disabled"),fromEl.value!==toEl.value&&(fromEl.value=toEl.value),toEl.hasAttribute("value")||fromEl.removeAttribute("value")},TEXTAREA:function(fromEl,toEl){var newValue=toEl.value;fromEl.value!==newValue&&(fromEl.value=newValue);var firstChild=fromEl.firstChild;if(firstChild){var oldValue=firstChild.nodeValue;if(oldValue==newValue||!newValue&&oldValue==fromEl.placeholder)return;firstChild.nodeValue=newValue}},SELECT:function(fromEl,toEl){if(!toEl.hasAttribute("multiple")){for(var optgroup,nodeName,selectedIndex=-1,i=0,curChild=fromEl.firstChild;curChild;)if("OPTGROUP"===(nodeName=curChild.nodeName&&curChild.nodeName.toUpperCase()))curChild=(optgroup=curChild).firstChild;else{if("OPTION"===nodeName){if(curChild.hasAttribute("selected")){selectedIndex=i;break}i++}!(curChild=curChild.nextSibling)&&optgroup&&(curChild=optgroup.nextSibling,optgroup=null)}fromEl.selectedIndex=selectedIndex}}},ELEMENT_NODE=1,DOCUMENT_FRAGMENT_NODE=11,TEXT_NODE=3,COMMENT_NODE=8;function noop(){}function defaultGetNodeKey(node){return node.id}function callHook(hook){"getNodeKey"!==hook.name&&hook.name;for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];if("function"==typeof params[0].hasAttribute)return hook.apply(void 0,params)}function morphdomFactory(morphAttrs){return function(fromNode,toNode,options){if(options||(options={}),"string"==typeof toNode)if("#document"===fromNode.nodeName||"HTML"===fromNode.nodeName){var toNodeHtml=toNode;(toNode=doc.createElement("html")).innerHTML=toNodeHtml}else toNode=toElement(toNode);var getNodeKey=options.getNodeKey||defaultGetNodeKey,onBeforeNodeAdded=options.onBeforeNodeAdded||noop,onNodeAdded=options.onNodeAdded||noop,onBeforeElUpdated=options.onBeforeElUpdated||noop,onElUpdated=options.onElUpdated||noop,onBeforeNodeDiscarded=options.onBeforeNodeDiscarded||noop,onNodeDiscarded=options.onNodeDiscarded||noop,onBeforeElChildrenUpdated=options.onBeforeElChildrenUpdated||noop,childrenOnly=!0===options.childrenOnly,fromNodesLookup=Object.create(null),keyedRemovalList=[];function addKeyedRemoval(key){keyedRemovalList.push(key)}function walkDiscardedChildNodes(node,skipKeyedNodes){if(node.nodeType===ELEMENT_NODE)for(var curChild=node.firstChild;curChild;){var key=void 0;skipKeyedNodes&&(key=callHook(getNodeKey,curChild))?addKeyedRemoval(key):(callHook(onNodeDiscarded,curChild),curChild.firstChild&&walkDiscardedChildNodes(curChild,skipKeyedNodes)),curChild=curChild.nextSibling}}function removeNode(node,parentNode,skipKeyedNodes){!1!==callHook(onBeforeNodeDiscarded,node)&&(parentNode&&parentNode.removeChild(node),callHook(onNodeDiscarded,node),walkDiscardedChildNodes(node,skipKeyedNodes))}function handleNodeAdded(el){if(callHook(onNodeAdded,el),!el.skipAddingChildren)for(var curChild=el.firstChild;curChild;){var nextSibling=curChild.nextSibling,key=callHook(getNodeKey,curChild);if(key){var unmatchedFromEl=fromNodesLookup[key];unmatchedFromEl&&compareNodeNames(curChild,unmatchedFromEl)&&(curChild.parentNode.replaceChild(unmatchedFromEl,curChild),morphEl(unmatchedFromEl,curChild),curChild=unmatchedFromEl)}handleNodeAdded(curChild),curChild=nextSibling}}function morphEl(fromEl,toEl,childrenOnly){var toElKey=callHook(getNodeKey,toEl);if(toElKey&&delete fromNodesLookup[toElKey],!childrenOnly){if(!1===callHook(onBeforeElUpdated,fromEl,toEl))return;if(fromEl.skipElUpdatingButStillUpdateChildren||morphAttrs(fromEl,toEl),callHook(onElUpdated,fromEl),!1===callHook(onBeforeElChildrenUpdated,fromEl,toEl))return}"TEXTAREA"!==fromEl.nodeName?function(fromEl,toEl){var curToNodeKey,curFromNodeKey,fromNextSibling,toNextSibling,matchingFromEl,curToNodeChild=toEl.firstChild,curFromNodeChild=fromEl.firstChild;outer:for(;curToNodeChild;){for(toNextSibling=curToNodeChild.nextSibling,curToNodeKey=callHook(getNodeKey,curToNodeChild);curFromNodeChild;){if(fromNextSibling=curFromNodeChild.nextSibling,curToNodeChild.isSameNode&&curToNodeChild.isSameNode(curFromNodeChild)){curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling;continue outer}curFromNodeKey=callHook(getNodeKey,curFromNodeChild);var curFromNodeType=curFromNodeChild.nodeType,isCompatible=void 0;if(curFromNodeType===curToNodeChild.nodeType&&(curFromNodeType===ELEMENT_NODE?(curToNodeKey?curToNodeKey!==curFromNodeKey&&((matchingFromEl=fromNodesLookup[curToNodeKey])?fromNextSibling===matchingFromEl?isCompatible=!1:(fromEl.insertBefore(matchingFromEl,curFromNodeChild),curFromNodeKey?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeChild=matchingFromEl):isCompatible=!1):curFromNodeKey&&(isCompatible=!1),(isCompatible=!1!==isCompatible&&compareNodeNames(curFromNodeChild,curToNodeChild))&&(!curToNodeChild.isEqualNode(curFromNodeChild)&&curToNodeChild.nextElementSibling&&curToNodeChild.nextElementSibling.isEqualNode(curFromNodeChild)?isCompatible=!1:morphEl(curFromNodeChild,curToNodeChild))):curFromNodeType!==TEXT_NODE&&curFromNodeType!=COMMENT_NODE||(isCompatible=!0,curFromNodeChild.nodeValue!==curToNodeChild.nodeValue&&(curFromNodeChild.nodeValue=curToNodeChild.nodeValue))),isCompatible){curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling;continue outer}if(curToNodeChild.nextElementSibling&&curToNodeChild.nextElementSibling.isEqualNode(curFromNodeChild)){var nodeToBeAdded=curToNodeChild.cloneNode(!0);fromEl.insertBefore(nodeToBeAdded,curFromNodeChild),handleNodeAdded(nodeToBeAdded),curToNodeChild=curToNodeChild.nextElementSibling.nextSibling,curFromNodeChild=fromNextSibling;continue outer}curFromNodeKey?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeChild=fromNextSibling}if(curToNodeKey&&(matchingFromEl=fromNodesLookup[curToNodeKey])&&compareNodeNames(matchingFromEl,curToNodeChild))fromEl.appendChild(matchingFromEl),morphEl(matchingFromEl,curToNodeChild);else{var onBeforeNodeAddedResult=callHook(onBeforeNodeAdded,curToNodeChild);!1!==onBeforeNodeAddedResult&&(onBeforeNodeAddedResult&&(curToNodeChild=onBeforeNodeAddedResult),curToNodeChild.actualize&&(curToNodeChild=curToNodeChild.actualize(fromEl.ownerDocument||doc)),fromEl.appendChild(curToNodeChild),handleNodeAdded(curToNodeChild))}curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling}!function(fromEl,curFromNodeChild,curFromNodeKey){for(;curFromNodeChild;){var fromNextSibling=curFromNodeChild.nextSibling;(curFromNodeKey=callHook(getNodeKey,curFromNodeChild))?addKeyedRemoval(curFromNodeKey):removeNode(curFromNodeChild,fromEl,!0),curFromNodeChild=fromNextSibling}}(fromEl,curFromNodeChild,curFromNodeKey);var specialElHandler=specialElHandlers[fromEl.nodeName];specialElHandler&&!fromEl.isCresenityModel&&specialElHandler(fromEl,toEl)}(fromEl,toEl):fromEl.innerHTML!=toEl.innerHTML&&specialElHandlers.TEXTAREA(fromEl,toEl)}!function indexTree(node){if(node.nodeType===ELEMENT_NODE||node.nodeType===DOCUMENT_FRAGMENT_NODE)for(var curChild=node.firstChild;curChild;){var key=callHook(getNodeKey,curChild);key&&(fromNodesLookup[key]=curChild),indexTree(curChild),curChild=curChild.nextSibling}}(fromNode);var morphedNode=fromNode,morphedNodeType=morphedNode.nodeType,toNodeType=toNode.nodeType;if(!childrenOnly)if(morphedNodeType===ELEMENT_NODE)toNodeType===ELEMENT_NODE?compareNodeNames(fromNode,toNode)||(callHook(onNodeDiscarded,fromNode),morphedNode=moveChildren(fromNode,createElementNS(toNode.nodeName,toNode.namespaceURI))):morphedNode=toNode;else if(morphedNodeType===TEXT_NODE||morphedNodeType===COMMENT_NODE){if(toNodeType===morphedNodeType)return morphedNode.nodeValue!==toNode.nodeValue&&(morphedNode.nodeValue=toNode.nodeValue),morphedNode;morphedNode=toNode}if(morphedNode===toNode)callHook(onNodeDiscarded,fromNode);else{if(toNode.isSameNode&&toNode.isSameNode(morphedNode))return;if(morphEl(morphedNode,toNode,childrenOnly),keyedRemovalList)for(var i=0,len=keyedRemovalList.length;i<len;i++){var elToRemove=fromNodesLookup[keyedRemovalList[i]];elToRemove&&removeNode(elToRemove,elToRemove.parentNode,!1)}}return!childrenOnly&&morphedNode!==fromNode&&fromNode.parentNode&&(morphedNode.actualize&&(morphedNode=morphedNode.actualize(fromNode.ownerDocument||doc)),fromNode.parentNode.replaceChild(morphedNode,fromNode)),morphedNode}}var morphdom=morphdomFactory(morphAttrs),_default$1=function(_Action){_inherits(_default,_Action);var _super=_createSuper(_default);function _default(name,value,el){var _this;return _classCallCheck(this,_default),(_this=_super.call(this,el)).type="syncInput",_this.name=name,_this.payload={name:name,value:value},_this}return _default}(_default$6),_default=function(_Action){_inherits(_default,_Action);var _super=_createSuper(_default);function _default(name,value,el){var _this,skipWatcher=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _classCallCheck(this,_default),(_this=_super.call(this,el,skipWatcher)).type="syncInput",_this.name=name,_this.payload={name:name,value:value},_this}return _default}(_default$6),nodeInitializer={initialize:function initialize(el,component){var _this=this;if(store$1.initialRenderIsFinished&&"script"===el.tagName.toLowerCase())return eval(el.innerHTML),!1;cresDirectives(el).all().forEach((function(directive){switch(directive.type){case"init":_this.fireActionRightAway(el,directive,component);break;case"model":DOM.setInputValueFromModel(el,component),_this.attachModelListener(el,directive,component);break;default:store$1.directives.has(directive.type)&&store$1.directives.call(directive.type,el,directive,component),_this.attachDomListener(el,directive,component)}})),store$1.callHook("element.initialized",el,component)},fireActionRightAway:function(el,directive,component){var method=directive.value?directive.method:"$refresh";component.addAction(new _default$4(method,directive.params,el))},attachModelListener:function(el,directive,component){el.isCresenityModel=!0;var isLazy=directive.modifiers.includes("lazy"),hasDebounceModifier=directive.modifiers.includes("debounce");if(store$1.callHook("interceptWireModelAttachListener",directive,el,component),"input"!==el.tagName.toLowerCase()||"file"!==el.type){var condition,callback,time,event="select"===el.tagName.toLowerCase()||["checkbox","radio"].includes(el.type)||directive.modifiers.includes("lazy")?"change":"input",handler=(condition=hasDebounceModifier||DOM.isTextInput(el)&&(!isLazy||!el.wasRecentlyAutofilled),callback=function(e){var model=directive.value,el=e.target,value=e instanceof CustomEvent&&void 0!==e.detail&&void 0===window.document.documentMode?e.detail:DOM.valueFromInput(el,component);el.wasRecentlyAutofilled&&e instanceof CustomEvent&&null===e.detail&&(value=DOM.valueFromInput(el,component)),directive.modifiers.includes("defer")?component.addAction(new _default(model,value,el)):component.addAction(new _default$1(model,value,el))},time=directive.durationOr(150),condition?component.modelSyncDebounce(callback,time):callback);el.addEventListener(event,handler),component.addListenerForTeardown((function(){el.removeEventListener(event,handler)})),el.addEventListener("animationstart",(function(e){"cresenityautofill"===e.animationName&&(e.target.wasRecentlyAutofilled=!0,setTimeout((function(){delete e.target.wasRecentlyAutofilled}),1e3))}))}},attachDomListener:function(el,directive,component){switch(directive.type){case"keydown":case"keyup":this.attachListener(el,directive,component,(function(e){var selectedSystemKeyModifiers=["ctrl","shift","alt","meta","cmd","super"].filter((function(key){return directive.modifiers.includes(key)}));if(selectedSystemKeyModifiers.length>0&&selectedSystemKeyModifiers.filter((function(key){return"cmd"!==key&&"super"!==key||(key="meta"),!e["".concat(key,"Key")]})).length>0)return!1;if(32===e.keyCode||" "===e.key||"Spacebar"===e.key)return directive.modifiers.includes("space");var modifiers=directive.modifiers.filter((function(modifier){return!modifier.match(/^debounce$/)&&!modifier.match(/^[0-9]+m?s$/)}));return Boolean(0===modifiers.length||e.key&&modifiers.includes(kebabCase$1(e.key)))}));break;case"click":this.attachListener(el,directive,component,(function(e){if(directive.modifiers.includes("self"))return el.isSameNode(e.target)}));break;default:this.attachListener(el,directive,component)}},attachListener:function(el,directive,component,callback){var _this2=this;directive.modifiers.includes("prefetch")&&el.addEventListener("mouseenter",(function(){component.addPrefetchAction(new _default$4(directive.method,directive.params,el))}));var event=directive.type,debouncedHandler=function(condition,callback,time){return condition?debounce$1(callback,time):callback}(directive.modifiers.includes("debounce"),(function(e){callback&&!1===callback(e)||component.callAfterModelDebounce((function(){var el=e.target;directive.setEventContext(e),_this2.preventAndStop(e,directive.modifiers);var _component$scopedList,method=directive.method,params=directive.params;if(0===params.length&&e instanceof CustomEvent&&e.detail&&params.push(e.detail),"$emit"===method)return(_component$scopedList=component.scopedListeners).call.apply(_component$scopedList,_toConsumableArray(params)),void store$1.emit.apply(store$1,_toConsumableArray(params));"$emitUp"!==method?"$emitSelf"!==method?"$emitTo"!==method?directive.value&&component.addAction(new _default$4(method,params,el)):store$1.emitTo.apply(store$1,_toConsumableArray(params)):store$1.emitSelf.apply(store$1,[component.id].concat(_toConsumableArray(params))):store$1.emitUp.apply(store$1,[el].concat(_toConsumableArray(params)))}))}),directive.durationOr(150));el.addEventListener(event,debouncedHandler),component.addListenerForTeardown((function(){el.removeEventListener(event,debouncedHandler)}))},preventAndStop:function(event,modifiers){modifiers.includes("prevent")&&event.preventDefault(),modifiers.includes("stop")&&event.stopPropagation()}},PrefetchManager=function(){function PrefetchManager(component){_classCallCheck(this,PrefetchManager),this.component=component,this.prefetchMessagesByActionId={}}return _createClass(PrefetchManager,[{key:"addMessage",value:function(message){this.prefetchMessagesByActionId[message.prefetchId]=message}},{key:"actionHasPrefetch",value:function(action){return Object.keys(this.prefetchMessagesByActionId).includes(action.toId())}},{key:"actionPrefetchResponseHasBeenReceived",value:function(action){return!!this.getPrefetchMessageByAction(action).response}},{key:"getPrefetchMessageByAction",value:function(action){return this.prefetchMessagesByActionId[action.toId()]}},{key:"clearPrefetches",value:function(){this.prefetchMessagesByActionId={}}}]),PrefetchManager}();function LoadingStates(){store$1.registerHook("component.initialized",(function(component){component.targetedLoadingElsByAction={},component.genericLoadingEls=[],component.currentlyActiveLoadingEls=[],component.currentlyActiveUploadLoadingEls=[]})),store$1.registerHook("element.initialized",(function(el,component){var directives=cresDirectives(el);directives.missing("loading")||directives.directives.filter((function(i){return"loading"===i.type})).forEach((function(directive){processLoadingDirective(component,el,directive)}))})),store$1.registerHook("message.sent",(function(message,component){var actions=message.updateQueue.filter((function(action){return"callMethod"===action.type})).map((function(action){return action.payload.method})),models=message.updateQueue.filter((function(action){return"syncInput"===action.type})).map((function(action){return action.payload.name}));setLoading(component,actions.concat(models))})),store$1.registerHook("message.failed",(function(message,component){unsetLoading(component)})),store$1.registerHook("message.received",(function(message,component){unsetLoading(component)})),store$1.registerHook("element.removed",(function(el,component){removeLoadingEl(component,el)}))}function processLoadingDirective(component,el,directive){el.__cresenity_on_finish_loading=[];var actionNames=!1,directives=cresDirectives(el);if(directives.get("target"))actionNames=directives.get("target").value.split(",").map((function(s){return s.trim()}));else{var nonActionOrModelCresenityDirectives=["init","dirty","offline","target","loading","poll","ignore","key","id"];(actionNames=directives.all().filter((function(i){return!nonActionOrModelCresenityDirectives.includes(i.type)})).map((function(i){return i.method}))).length<1&&(actionNames=!1)}addLoadingEl(component,el,directive,actionNames)}function addLoadingEl(component,el,directive,actionsNames){actionsNames?actionsNames.forEach((function(actionsName){component.targetedLoadingElsByAction[actionsName]?component.targetedLoadingElsByAction[actionsName].push({el:el,directive:directive}):component.targetedLoadingElsByAction[actionsName]=[{el:el,directive:directive}]})):component.genericLoadingEls.push({el:el,directive:directive})}function removeLoadingEl(component,el){component.genericLoadingEls.forEach((function(element,index){element.el.isSameNode(el)&&component.genericLoadingEls.splice(index,1)})),Object.keys(component.targetedLoadingElsByAction).forEach((function(key){component.targetedLoadingElsByAction[key]=component.targetedLoadingElsByAction[key].filter((function(element){return!element.el.isSameNode(el)}))}))}function setLoading(component,actions){var actionTargetedEls=actions.map((function(action){return component.targetedLoadingElsByAction[action]})).filter((function(el){return el})).flat(),allEls=component.genericLoadingEls.concat(actionTargetedEls);startLoading(allEls),component.currentlyActiveLoadingEls=allEls}function setUploadLoading(component,modelName){var actionTargetedEls=component.targetedLoadingElsByAction[modelName]||[],allEls=component.genericLoadingEls.concat(actionTargetedEls);startLoading(allEls),component.currentlyActiveUploadLoadingEls=allEls}function unsetUploadLoading(component){endLoading(component.currentlyActiveUploadLoadingEls),component.currentlyActiveUploadLoadingEls=[]}function unsetLoading(component){endLoading(component.currentlyActiveLoadingEls),component.currentlyActiveLoadingEls=[]}function startLoading(els){els.forEach((function(_ref){var el=_ref.el,directive=_ref.directive;if(directive.modifiers.includes("class")){var classes=directive.value.split(" ").filter(Boolean);doAndSetCallbackOnElToUndo(el,directive,(function(){var _el$classList;return(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(classes))}),(function(){var _el$classList2;return(_el$classList2=el.classList).remove.apply(_el$classList2,_toConsumableArray(classes))}))}else if(directive.modifiers.includes("attr"))doAndSetCallbackOnElToUndo(el,directive,(function(){return el.setAttribute(directive.value,!0)}),(function(){return el.removeAttribute(directive.value)}));else{var cache=window.getComputedStyle(el,null).getPropertyValue("display");doAndSetCallbackOnElToUndo(el,directive,(function(){el.style.display=directive.modifiers.includes("remove")?cache:getDisplayProperty(directive)}),(function(){el.style.display="none"}))}}))}function getDisplayProperty(directive){return["inline","block","table","flex","grid"].filter((function(i){return directive.modifiers.includes(i)}))[0]||"inline-block"}function doAndSetCallbackOnElToUndo(el,directive,doCallback,undoCallback){if(directive.modifiers.includes("remove")){var _ref2=[undoCallback,doCallback];doCallback=_ref2[0],undoCallback=_ref2[1]}if(directive.modifiers.includes("delay")){var timeout=setTimeout((function(){doCallback(),el.__cresenity_on_finish_loading.push((function(){return undoCallback()}))}),200);el.__cresenity_on_finish_loading.push((function(){return clearTimeout(timeout)}))}else doCallback(),el.__cresenity_on_finish_loading.push((function(){return undoCallback()}))}function endLoading(els){els.forEach((function(_ref3){for(var el=_ref3.el;el.__cresenity_on_finish_loading.length>0;)el.__cresenity_on_finish_loading.shift()()}))}var MessageBag=function(){function MessageBag(){_classCallCheck(this,MessageBag),this.bag={}}return _createClass(MessageBag,[{key:"add",value:function(name,thing){this.bag[name]||(this.bag[name]=[]),this.bag[name].push(thing)}},{key:"push",value:function(name,thing){this.add(name,thing)}},{key:"first",value:function(name){return this.bag[name]?this.bag[name][0]:null}},{key:"last",value:function(name){return this.bag[name].slice(-1)[0]}},{key:"get",value:function(name){return this.bag[name]}},{key:"shift",value:function(name){return this.bag[name].shift()}},{key:"call",value:function(name){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];(this.listeners[name]||[]).forEach((function(callback){callback.apply(void 0,params)}))}},{key:"has",value:function(name){return Object.keys(this.listeners).includes(name)}}]),MessageBag}(),UploadManager=function(){function UploadManager(component){_classCallCheck(this,UploadManager),this.component=component,this.uploadBag=new MessageBag,this.removeBag=new MessageBag}return _createClass(UploadManager,[{key:"registerListeners",value:function(){var _this=this;this.component.on("upload:generatedSignedUrl",(function(name,url){setUploadLoading(_this.component,name),_this.handleSignedUrl(name,url)})),this.component.on("upload:generatedSignedUrlForS3",(function(name,payload){setUploadLoading(_this.component,name),_this.handleS3PreSignedUrl(name,payload)})),this.component.on("upload:finished",(function(name,tmpFilenames){return _this.markUploadFinished(name,tmpFilenames)})),this.component.on("upload:errored",(function(name){return _this.markUploadErrored(name)})),this.component.on("upload:removed",(function(name,tmpFilename){return _this.removeBag.shift(name).finishCallback(tmpFilename)}))}},{key:"upload",value:function(name,file,finishCallback,errorCallback,progressCallback){this.setUpload(name,{files:[file],multiple:!1,finishCallback:finishCallback,errorCallback:errorCallback,progressCallback:progressCallback})}},{key:"uploadMultiple",value:function(name,files,finishCallback,errorCallback,progressCallback){this.setUpload(name,{files:Array.from(files),multiple:!0,finishCallback:finishCallback,errorCallback:errorCallback,progressCallback:progressCallback})}},{key:"removeUpload",value:function(name,tmpFilename,finishCallback){this.removeBag.push(name,{tmpFilename:tmpFilename,finishCallback:finishCallback}),this.component.call("removeUpload",name,tmpFilename)}},{key:"setUpload",value:function(name,uploadObject){this.uploadBag.add(name,uploadObject),1===this.uploadBag.get(name).length&&this.startUpload(name,uploadObject)}},{key:"handleSignedUrl",value:function(name,url){var formData=new FormData;Array.from(this.uploadBag.first(name).files).forEach((function(file){return formData.append("files[]",file)}));var headers={"X-CSRF-TOKEN":getCsrfToken(),Accept:"application/json"};this.makeRequest(name,formData,"post",url,headers,(function(response){return response.paths}))}},{key:"handleS3PreSignedUrl",value:function(name,payload){var formData=this.uploadBag.first(name).files[0],headers=payload.headers;"Host"in headers&&delete headers.Host;var url=payload.url;this.makeRequest(name,formData,"put",url,headers,(function(response){return[payload.path]}))}},{key:"makeRequest",value:function(name,formData,method,url,headers,retrievePaths){var _this2=this,request=new XMLHttpRequest;request.open(method,url),Object.entries(headers).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];request.setRequestHeader(key,value)})),request.upload.addEventListener("progress",(function(e){e.detail={},e.detail.progress=Math.round(100*e.loaded/e.total),_this2.uploadBag.first(name).progressCallback(e)})),request.addEventListener("load",(function(){if("2"!==(request.status+"")[0]){var errors=null;422===request.status&&(errors=request.response),_this2.component.call("uploadErrored",name,errors,_this2.uploadBag.first(name).multiple)}else{var paths=retrievePaths(request.response&&JSON.parse(request.response));_this2.component.call("finishUpload",name,paths,_this2.uploadBag.first(name).multiple)}})),request.send(formData)}},{key:"startUpload",value:function(name,uploadObject){var fileInfos=uploadObject.files.map((function(file){return{name:file.name,size:file.size,type:file.type}}));this.component.call("startUpload",name,fileInfos,uploadObject.multiple),setUploadLoading(this.component,name)}},{key:"markUploadFinished",value:function(name,tmpFilenames){unsetUploadLoading(this.component);var uploadObject=this.uploadBag.shift(name);uploadObject.finishCallback(uploadObject.multiple?tmpFilenames:tmpFilenames[0]),this.uploadBag.get(name).length>0&&this.startUpload(name,this.uploadBag.last(name))}},{key:"markUploadErrored",value:function(name){unsetUploadLoading(this.component),this.uploadBag.shift(name).errorCallback(),this.uploadBag.get(name).length>0&&this.startUpload(name,this.uploadBag.last(name))}}]),UploadManager}();function SupportAlpine(){window.addEventListener("cresenity:ui:start",(function(){window.Alpine&&(refreshAlpineAfterEveryCresenityRequest(),addDollarSignCres(),supportEntangle())}))}function refreshAlpineAfterEveryCresenityRequest(){isV3()?store$1.registerHook("message.processed",(function(message,cresenityComponent){walk$1(cresenityComponent.el,(function(el){el._x_hidePromise||el._x_runEffects&&el._x_runEffects()}))})):window.Alpine.onComponentInitialized&&window.Alpine.onComponentInitialized((function(component){var cresenityEl=component.$el.closest("[cres\\:id]");cresenityEl&&cresenityEl.__cresenity&&store$1.registerHook("message.processed",(function(message,cresenityComponent){cresenityComponent===cresenityEl.__cresenity&&component.updateElements(component.$el)}))}))}function addDollarSignCres(){isV3()?window.Alpine.magic("cres",(function(el){var cresEl=el.closest("[cres\\:id]");return cresEl||console.warn('Alpine: Cannot reference "$cres" outside a Cresenity component.'),cresEl.__cresenity.$cres})):window.Alpine.addMagicProperty&&window.Alpine.addMagicProperty("cres",(function(componentEl){var cresEl=componentEl.closest("[cres\\:id]");return cresEl||console.warn('Alpine: Cannot reference "$cres" outside a Cresenity component.'),cresEl.__cresenity.$cres}))}function supportEntangle(){isV3()||window.Alpine.onBeforeComponentInitialized&&window.Alpine.onBeforeComponentInitialized((function(component){var cresenityEl=component.$el.closest("[cres\\:id]");cresenityEl&&cresenityEl.__cresenity&&Object.entries(component.unobservedData).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(value&&"object"===_typeof$1(value)&&value.cresenityEntangle){var cresenityProperty=value.cresenityEntangle,isDeferred=value.isDeferred,cresenityComponent=cresenityEl.__cresenity,cresenityPropertyValue=cresenityEl.__cresenity.get(cresenityProperty);if(void 0===cresenityPropertyValue)return void console.error("Cresenity Component Entangle Error: Cresenity Component property '".concat(cresenityProperty,"' cannot be found"));component.unobservedData[key]=JSON.parse(JSON.stringify(cresenityPropertyValue));var blockAlpineWatcher=!1;component.unobservedData.$watch(key,(function(value){!0!==blockAlpineWatcher?JSON.stringify(value)!=JSON.stringify(cresenityEl.__cresenity.getPropertyValueIncludingDefers(cresenityProperty))&&cresenityComponent.set(cresenityProperty,value,isDeferred,!isDeferred):blockAlpineWatcher=!1})),cresenityComponent.watch(cresenityProperty,(function(value){component.$data[key]=void 0!==value?JSON.parse(JSON.stringify(value)):value}))}}))}))}function alpinifyElementsForMorphdom(from,to){if(isV3())return alpinifyElementsForMorphdomV3(from,to);if(from.__x&&window.Alpine.clone(from.__x,to),Array.from(from.attributes).map((function(attr){return attr.name})).some((function(name){return/x-show/.test(name)})))if(from.__x_transition)from.skipElUpdatingButStillUpdateChildren=!0;else if(isHiding(from,to)){var style=to.getAttribute("style");style&&to.setAttribute("style",style.replace("display: none;",""))}else isShowing(from,to)&&(to.style.display=from.style.display)}function alpinifyElementsForMorphdomV3(from,to){1===from.nodeType&&from._x_dataStack&&window.Alpine.clone(from,to)}function isHiding(from,to){return beforeAlpineTwoPointSevenPointThree()?""===from.style.display&&"none"===to.style.display:from.__x_is_shown&&!to.__x_is_shown}function isShowing(from,to){return beforeAlpineTwoPointSevenPointThree()?"none"===from.style.display&&""===to.style.display:!from.__x_is_shown&&to.__x_is_shown}function beforeAlpineTwoPointSevenPointThree(){var _window$Alpine$versio2=_slicedToArray(window.Alpine.version.split(".").map((function(i){return Number(i)})),3),major=_window$Alpine$versio2[0],minor=_window$Alpine$versio2[1],patch=_window$Alpine$versio2[2];return major<=2&&minor<=7&&patch<=2}function isV3(){return window.Alpine&&window.Alpine.version&&/^3\..+\..+$/.test(window.Alpine.version)}var Component=function(){function Component(el,connection){_classCallCheck(this,Component),el.__cresenity=this,this.el=el,this.lastFreshHtml=this.el.outerHTML,this.id=this.el.getAttribute("cres:id"),this.connection=connection;var initialData=JSON.parse(this.el.getAttribute("cres:initial-data"));if(this.el.removeAttribute("cres:initial-data"),this.fingerprint=initialData.fingerprint,this.serverMemo=initialData.serverMemo,this.effects=initialData.effects,this.listeners=this.effects.listeners,this.updateQueue=[],this.deferredActions={},this.tearDownCallbacks=[],this.messageInTransit=void 0,this.scopedListeners=new MessageBus,this.prefetchManager=new PrefetchManager(this),this.uploadManager=new UploadManager(this),this.watchers={},store$1.callHook("component.initialized",this),this.initialize(),this.uploadManager.registerListeners(),this.effects.redirect)return this.redirect(this.effects.redirect)}return _createClass(Component,[{key:"name",get:function(){return this.fingerprint.name}},{key:"data",get:function(){return this.serverMemo.data}},{key:"childIds",get:function(){return Object.values(this.serverMemo.children).map((function(child){return child.id}))}},{key:"initialize",value:function(){var _this=this;this.walk((function(el){return nodeInitializer.initialize(el,_this)}),(function(el){return store$1.addComponent(new Component(el,_this.connection))}))}},{key:"get",value:function(name){return name.split(".").reduce((function(carry,segment){return carry[segment]}),this.data)}},{key:"getPropertyValueIncludingDefers",value:function(name){var action=this.deferredActions[name];return action?action.payload.value:this.get(name)}},{key:"updateServerMemoFromResponseAndMergeBackIntoResponse",value:function(message){var _this2=this;Object.entries(message.response.serverMemo).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];"data"===key?Object.entries(value||{}).forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),dataKey=_ref4[0],dataValue=_ref4[1];_this2.serverMemo.data[dataKey]=dataValue,message.shouldSkipWatcherForDataKey(dataKey)||Object.entries(_this2.watchers).forEach((function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],watchers=_ref6[1],originalSplitKey=key.split("."),basePropertyName=originalSplitKey.shift(),restOfPropertyName=originalSplitKey.join(".");if(basePropertyName==dataKey){var potentiallyNestedValue=restOfPropertyName?getValue(dataValue,restOfPropertyName):dataValue;watchers.forEach((function(watcher){return watcher(potentiallyNestedValue)}))}}))})):_this2.serverMemo[key]=value})),message.response.serverMemo=Object.assign({},this.serverMemo)}},{key:"watch",value:function(name,callback){this.watchers[name]||(this.watchers[name]=[]),this.watchers[name].push(callback)}},{key:"set",value:function(name,value){var defer=arguments.length>2&&void 0!==arguments[2]&&arguments[2],skipWatcher=arguments.length>3&&void 0!==arguments[3]&&arguments[3];defer?this.addAction(new _default(name,value,this.el,skipWatcher)):this.addAction(new _default$4("$set",[name,value],this.el,skipWatcher))}},{key:"sync",value:function(name,value){var defer=arguments.length>2&&void 0!==arguments[2]&&arguments[2];defer?this.addAction(new _default(name,value,this.el)):this.addAction(new _default$1(name,value,this.el))}},{key:"call",value:function(method){for(var _this3=this,_len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return new Promise((function(resolve,reject){var action=new _default$4(method,params,_this3.el);_this3.addAction(action),action.onResolve((function(thing){return resolve(thing)})),action.onReject((function(thing){return reject(thing)}))}))}},{key:"on",value:function(event,callback){this.scopedListeners.register(event,callback)}},{key:"addAction",value:function(action){if(action instanceof _default)this.deferredActions[action.name]=action;else{if(this.prefetchManager.actionHasPrefetch(action)&&this.prefetchManager.actionPrefetchResponseHasBeenReceived(action)){var message=this.prefetchManager.getPrefetchMessageByAction(action);return this.handleResponse(message),void this.prefetchManager.clearPrefetches()}this.updateQueue.push(action),debounce$1(this.fireMessage,5).apply(this),this.prefetchManager.clearPrefetches()}}},{key:"fireMessage",value:function(){var _this4=this;if(!this.messageInTransit){Object.entries(this.deferredActions).forEach((function(_ref7){var _ref8=_slicedToArray(_ref7,2);_ref8[0];var action=_ref8[1];_this4.updateQueue.unshift(action)})),this.deferredActions={},this.messageInTransit=new _default$3(this,this.updateQueue);var sendMessage=function(){_this4.connection.sendMessage(_this4.messageInTransit),store$1.callHook("message.sent",_this4.messageInTransit,_this4),_this4.updateQueue=[]};window.capturedRequestsForDusk?window.capturedRequestsForDusk.push(sendMessage):sendMessage()}}},{key:"messageSendFailed",value:function(){store$1.callHook("message.failed",this.messageInTransit,this),this.messageInTransit.reject(),this.messageInTransit=null}},{key:"receiveMessage",value:function(message,payload){message.storeResponse(payload),message instanceof _default$2||(this.handleResponse(message),this.updateQueue.length>0&&this.fireMessage(),dispatch$1("cresenity:update"))}},{key:"handleResponse",value:function(message){var _this5=this,response=message.response;response.effects.redirect?this.redirect(response.effects.redirect):(this.updateServerMemoFromResponseAndMergeBackIntoResponse(message),store$1.callHook("message.received",message,this),response.effects.html?(this.lastFreshHtml=response.effects.html,this.handleMorph(response.effects.html.trim())):this.handleMorph(this.lastFreshHtml),response.effects.dirty&&this.forceRefreshDataBoundElementsMarkedAsDirty(response.effects.dirty),message.replaying||(this.messageInTransit&&this.messageInTransit.resolve(),this.messageInTransit=null,response.effects.emits&&response.effects.emits.length>0&&response.effects.emits.forEach((function(event){var _this5$scopedListener;(_this5$scopedListener=_this5.scopedListeners).call.apply(_this5$scopedListener,[event.event].concat(_toConsumableArray(event.params))),event.selfOnly?store$1.emitSelf.apply(store$1,[_this5.id,event.event].concat(_toConsumableArray(event.params))):event.to?store$1.emitTo.apply(store$1,[event.to,event.event].concat(_toConsumableArray(event.params))):event.ancestorsOnly?store$1.emitUp.apply(store$1,[_this5.el,event.event].concat(_toConsumableArray(event.params))):store$1.emit.apply(store$1,[event.event].concat(_toConsumableArray(event.params)))})),response.effects.dispatches&&response.effects.dispatches.length>0&&response.effects.dispatches.forEach((function(event){var data=event.data?event.data:{},e=new CustomEvent(event.event,{bubbles:!0,detail:data});_this5.el.dispatchEvent(e)}))),store$1.callHook("message.processed",message,this))}},{key:"redirect",value:function(url){window.Turbolinks&&window.Turbolinks.supported?window.Turbolinks.visit(url):window.location.href=url}},{key:"forceRefreshDataBoundElementsMarkedAsDirty",value:function(dirtyInputs){var _this6=this;this.walk((function(el){var directives=cresDirectives(el);if(!directives.missing("model")){var modelValue=directives.get("model").value;DOM.hasFocus(el)&&!dirtyInputs.includes(modelValue)||el.wasRecentlyAutofilled||DOM.setInputValueFromModel(el,_this6)}}))}},{key:"addPrefetchAction",value:function(action){if(!this.prefetchManager.actionHasPrefetch(action)){var message=new _default$2(this,action);this.prefetchManager.addMessage(message),this.connection.sendMessage(message)}}},{key:"handleMorph",value:function(dom){var _this7=this;this.morphChanges={changed:[],added:[],removed:[]},morphdom(this.el,dom,{childrenOnly:!1,getNodeKey:function(node){return node.hasAttribute("cres:key")?node.getAttribute("cres:key"):node.hasAttribute("cres:id")?node.getAttribute("cres:id"):node.id},onBeforeNodeAdded:function(node){},onBeforeNodeDiscarded:function(node){if(node.__x_inserted_me&&Array.from(node.attributes).some((function(attr){return/x-transition/.test(attr.name)})))return!1},onNodeDiscarded:function(node){store$1.callHook("element.removed",node,_this7),node.__cresenity&&store$1.removeComponent(node.__cresenity),_this7.morphChanges.removed.push(node)},onBeforeElChildrenUpdated:function(node){},onBeforeElUpdated:function(from,to){if(from.isEqualNode(to))return!1;store$1.callHook("element.updating",from,to,_this7),from.hasAttribute("cres:model")&&"SELECT"===from.tagName.toUpperCase()&&(to.selectedIndex=-1);var fromDirectives=cresDirectives(from);if(fromDirectives.has("ignore")||!0===from.__cresenity_ignore||!0===from.__cresenity_ignore_self){if(!(fromDirectives.has("ignore")&&fromDirectives.get("ignore").modifiers.includes("self")||!0===from.__cresenity_ignore_self))return!1;from.skipElUpdatingButStillUpdateChildren=!0}if(DOM.isComponentRootEl(from)&&from.getAttribute("cres:id")!==_this7.id)return!1;DOM.isComponentRootEl(from)&&(to.__cresenity=_this7),alpinifyElementsForMorphdom(from,to)},onElUpdated:function(node){_this7.morphChanges.changed.push(node),store$1.callHook("element.updated",node,_this7)},onNodeAdded:function(node){if(DOM.closestRoot(node).getAttribute("cres:id")===_this7.id){if(!1===nodeInitializer.initialize(node,_this7))return!1}else DOM.isComponentRootEl(node)&&(store$1.addComponent(new Component(node,_this7.connection)),node.skipAddingChildren=!0);_this7.morphChanges.added.push(node)}}),window.skipShow=!1}},{key:"walk",value:function(callback){var _this8=this,callbackWhenNewComponentIsEncountered=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(el){};walk$1(this.el,(function(el){if(!el.isSameNode(_this8.el))return el.hasAttribute("cres:id")?(callbackWhenNewComponentIsEncountered(el),!1):!1!==callback(el)&&void 0;callback(el)}))}},{key:"modelSyncDebounce",value:function(callback,time){this.modelDebounceCallbacks||(this.modelDebounceCallbacks=[]);var timeout,callbackRegister={callback:function(){}};return this.modelDebounceCallbacks.push(callbackRegister),function(e){clearTimeout(timeout),timeout=setTimeout((function(){callback(e),timeout=void 0,callbackRegister.callback=function(){}}),time),callbackRegister.callback=function(){clearTimeout(timeout),callback(e)}}}},{key:"callAfterModelDebounce",value:function(callback){this.modelDebounceCallbacks&&this.modelDebounceCallbacks.forEach((function(callbackRegister){callbackRegister.callback(),callbackRegister=function(){}})),callback()}},{key:"addListenerForTeardown",value:function(teardownCallback){this.tearDownCallbacks.push(teardownCallback)}},{key:"tearDown",value:function(){this.tearDownCallbacks.forEach((function(callback){return callback()}))}},{key:"upload",value:function(name,file){var finishCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},errorCallback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},progressCallback=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};this.uploadManager.upload(name,file,finishCallback,errorCallback,progressCallback)}},{key:"uploadMultiple",value:function(name,files){var finishCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},errorCallback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},progressCallback=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};this.uploadManager.uploadMultiple(name,files,finishCallback,errorCallback,progressCallback)}},{key:"removeUpload",value:function(name,tmpFilename){var finishCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},errorCallback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this.uploadManager.removeUpload(name,tmpFilename,finishCallback,errorCallback)}},{key:"$cres",get:function(){if(this.dollarWireProxy)return this.dollarWireProxy;var component=this;return this.dollarWireProxy=new Proxy({},{get:function(object,property){if("entangle"===property)return function(name){var defer=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{isDeferred:defer,cresenityEntangle:name,get defer(){return this.isDeferred=!0,this}}};if("__instance"===property)return component;if("string"==typeof property&&property.match(/^emit.*/))return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return"emitSelf"===property?store$1.emitSelf.apply(store$1,[component.id].concat(args)):store$1[property].apply(component,args)};if(["get","set","sync","call","on","upload","uploadMultiple","removeUpload"].includes(property))return function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return component[property].apply(component,args)};var getResult=component.get(property);return void 0===getResult?function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return component.call.apply(component,[property].concat(args))}:getResult},set:function(obj,prop,value){return component.set(prop,value),!0}})}}]),Component}();function FileUploads(){var _this=this;store$1.registerHook("interceptWireModelAttachListener",(function(directive,el,component){if("input"===el.tagName.toLowerCase()&&"file"===el.type){var finish=function(){return el.dispatchEvent(new CustomEvent("cresenity-upload-finish",{bubbles:!0}))},error=function(){return el.dispatchEvent(new CustomEvent("cresenity-upload-error",{bubbles:!0}))},progress=function(progressEvent){var percentCompleted=Math.round(100*progressEvent.loaded/progressEvent.total);el.dispatchEvent(new CustomEvent("cresenity-upload-progress",{bubbles:!0,detail:{progress:percentCompleted}}))},eventHandler=function(e){0!==e.target.files.length&&(el.dispatchEvent(new CustomEvent("cresenity-upload-start",{bubbles:!0})),e.target.multiple?component.uploadMultiple(directive.value,e.target.files,finish,error,progress):component.upload(directive.value,e.target.files[0],finish,error,progress))};el.addEventListener("change",eventHandler);var clearFileInputValue=function(e){_this.value=null};el.addEventListener("click",clearFileInputValue),component.addListenerForTeardown((function(){el.removeEventListener("change",eventHandler),el.removeEventListener("click",clearFileInputValue)}))}}))}function LaravelEcho(){store$1.registerHook("component.initialized",(function(component){Array.isArray(component.listeners)&&component.listeners.forEach((function(event){if(event.startsWith("echo")){if("undefined"==typeof Echo)return void console.warn("Laravel Echo cannot be found");var event_parts=event.split(/(echo:|echo-)|:|,/);"echo:"==event_parts[1]&&event_parts.splice(2,0,"channel",void 0),"notification"==event_parts[2]&&event_parts.push(void 0,void 0);var _event_parts=_slicedToArray(event_parts,7);_event_parts[0],_event_parts[1];var channel_type=_event_parts[2];_event_parts[3];var channel=_event_parts[4];_event_parts[5];var event_name=_event_parts[6];["channel","private"].includes(channel_type)?Echo[channel_type](channel).listen(event_name,(function(e){store$1.emit(event,e)})):"presence"==channel_type?Echo.join(channel)[event_name]((function(e){store$1.emit(event,e)})):"notification"==channel_type?Echo.private(channel).notification((function(notification){store$1.emit(event,notification)})):console.warn("Echo channel type not yet supported")}}))}))}function DirtyStates(){store$1.registerHook("component.initialized",(function(component){component.dirtyEls=[]})),store$1.registerHook("element.initialized",(function(el,component){cresDirectives(el).missing("dirty")||component.dirtyEls.push(el)})),store$1.registerHook("interceptWireModelAttachListener",(function(directive,el,component){var property=directive.value;el.addEventListener("input",(function(){component.dirtyEls.forEach((function(dirtyEl){var directives=cresDirectives(dirtyEl);(directives.has("model")&&directives.get("model").value===property||directives.has("target")&&directives.get("target").value.split(",").map((function(s){return s.trim()})).includes(property))&&setDirtyState(dirtyEl,DOM.valueFromInput(el,component)!=component.get(property))}))}))})),store$1.registerHook("message.received",(function(message,component){component.dirtyEls.forEach((function(element){element.__cresenity_dirty_cleanup&&(element.__cresenity_dirty_cleanup(),delete element.__cresenity_dirty_cleanup)}))})),store$1.registerHook("element.removed",(function(el,component){component.dirtyEls.forEach((function(element,index){element.isSameNode(el)&&component.dirtyEls.splice(index,1)}))}))}function setDirtyState(el,isDirty){var directive=cresDirectives(el).get("dirty");if(directive.modifiers.includes("class")){var _el$classList,_el$classList3,classes=directive.value.split(" ");if(directive.modifiers.includes("remove")!==isDirty)(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(classes)),el.__cresenity_dirty_cleanup=function(){var _el$classList2;return(_el$classList2=el.classList).remove.apply(_el$classList2,_toConsumableArray(classes))};else(_el$classList3=el.classList).remove.apply(_el$classList3,_toConsumableArray(classes)),el.__cresenity_dirty_cleanup=function(){var _el$classList4;return(_el$classList4=el.classList).add.apply(_el$classList4,_toConsumableArray(classes))}}else directive.modifiers.includes("attr")?directive.modifiers.includes("remove")!==isDirty?(el.setAttribute(directive.value,!0),el.__cresenity_dirty_cleanup=function(){return el.removeAttribute(directive.value)}):(el.removeAttribute(directive.value),el.__cresenity_dirty_cleanup=function(){return el.setAttribute(directive.value,!0)}):cresDirectives(el).get("model")||(el.style.display=isDirty?"inline-block":"none",el.__cresenity_dirty_cleanup=function(){return el.style.display=isDirty?"none":"inline-block"})}var cleanupStackByComponentId={};function DisableForms(){store$1.registerHook("element.initialized",(function(el,component){cresDirectives(el).missing("submit")||el.addEventListener("submit",(function(){cleanupStackByComponentId[component.id]=[],component.walk((function(node){if(el.contains(node))return!node.hasAttribute("cres:ignore")&&void("button"===node.tagName.toLowerCase()&&"submit"===node.type||"select"===node.tagName.toLowerCase()||"input"===node.tagName.toLowerCase()&&("checkbox"===node.type||"radio"===node.type)?(node.disabled||cleanupStackByComponentId[component.id].push((function(){return node.disabled=!1})),node.disabled=!0):"input"!==node.tagName.toLowerCase()&&"textarea"!==node.tagName.toLowerCase()||(node.readOnly||cleanupStackByComponentId[component.id].push((function(){return node.readOnly=!1})),node.readOnly=!0))}))}))})),store$1.registerHook("message.failed",(function(message,component){return cleanup(component)})),store$1.registerHook("message.received",(function(message,component){return cleanup(component)}))}function cleanup(component){if(cleanupStackByComponentId[component.id])for(;cleanupStackByComponentId[component.id].length>0;)cleanupStackByComponentId[component.id].shift()()}function FileDownloads(){store$1.registerHook("message.received",(function(message,component){var response=message.response;if(response.effects.download){var urlObject=window.webkitURL||window.URL,url=urlObject.createObjectURL(base64toBlob(response.effects.download.content)),invisibleLink=document.createElement("a");invisibleLink.style.display="none",invisibleLink.href=url,invisibleLink.download=response.effects.download.name,document.body.appendChild(invisibleLink),invisibleLink.click(),setTimeout((function(){urlObject.revokeObjectURL(url)}),0)}}))}function base64toBlob(b64Data){for(var contentType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",sliceSize=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,byteCharacters=atob(b64Data),byteArrays=[],offset=0;offset<byteCharacters.length;offset+=sliceSize){for(var slice=byteCharacters.slice(offset,offset+sliceSize),byteNumbers=new Array(slice.length),i=0;i<slice.length;i++)byteNumbers[i]=slice.charCodeAt(i);var byteArray=new Uint8Array(byteNumbers);byteArrays.push(byteArray)}return new Blob(byteArrays,{type:contentType})}var offlineEls=[];function OfflineStates(){store$1.registerHook("element.initialized",(function(el){cresDirectives(el).missing("offline")||offlineEls.push(el)})),window.addEventListener("offline",(function(){store$1.cresenityIsOffline=!0,offlineEls.forEach((function(el){toggleOffline(el,!0)}))})),window.addEventListener("online",(function(){store$1.cresenityIsOffline=!1,offlineEls.forEach((function(el){toggleOffline(el,!1)}))})),store$1.registerHook("element.removed",(function(el){offlineEls=offlineEls.filter((function(el){return!el.isSameNode(el)}))}))}function toggleOffline(el,isOffline){var directives=cresDirectives(el),directive=directives.get("offline");if(directive.modifiers.includes("class")){var _el$classList,_el$classList2,classes=directive.value.split(" ");if(directive.modifiers.includes("remove")!==isOffline)(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(classes));else(_el$classList2=el.classList).remove.apply(_el$classList2,_toConsumableArray(classes))}else directive.modifiers.includes("attr")?directive.modifiers.includes("remove")!==isOffline?el.setAttribute(directive.value,!0):el.removeAttribute(directive.value):directives.get("model")||(el.style.display=isOffline?"inline-block":"none")}function SyncBrowserHistory(){var initializedPath=!1,componentIdsThatAreWritingToHistoryState=new Set;function normalizeResponse(response,component){response.effects.dirty=Object.keys(response.serverMemo.data),response.effects.html=component.lastFreshHtml}function onlyChangeThePathAndQueryString(url){if(url){var destination=new URL(url),afterOrigin=destination.href.replace(destination.origin,"");return window.location.origin+afterOrigin+window.location.hash}}CresenityStateManager.clearState(),store$1.registerHook("component.initialized",(function(component){component.effects.path&&setTimeout((function(){var url=onlyChangeThePathAndQueryString(initializedPath?void 0:component.effects.path),response={serverMemo:component.serverMemo,effects:component.effects};normalizeResponse(response,component),CresenityStateManager.replaceState(url,response,component),componentIdsThatAreWritingToHistoryState.add(component.id),initializedPath=!0}))})),store$1.registerHook("message.processed",(function(message,component){if(!message.replaying){var response=message.response,effects=response.effects||{};if(normalizeResponse(response,component),"path"in effects&&effects.path!==window.location.href){var url=onlyChangeThePathAndQueryString(effects.path);CresenityStateManager.pushState(url,response,component),componentIdsThatAreWritingToHistoryState.add(component.id)}else componentIdsThatAreWritingToHistoryState.has(component.id)&&CresenityStateManager.replaceState(window.location.href,response,component)}})),window.addEventListener("popstate",(function(event){CresenityStateManager.missingState(event)||CresenityStateManager.replayResponses(event,(function(response,component){var message=new _default$3(component,[]);message.storeResponse(response),message.replaying=!0,component.handleResponse(message)}))})),store$1.registerHook("element.updating",(function(from,to,component){from.getAttribute("cres:id")===component.id&&(component.lastKnownDomId=component.id)})),store$1.registerHook("element.updated",(function(node,component){component.lastKnownDomId&&(node.getAttribute("cres:id")!==component.lastKnownDomId&&store$1.changeComponentId(component,node.getAttribute("cres:id")),delete component.lastKnownDomId)}))}var CresenityStateManager={replaceState:function(url,response,component){this.updateState("replaceState",url,response,component)},pushState:function(url,response,component){this.updateState("pushState",url,response,component)},updateState:function(method,url,response,component){var state=this.currentState();state.storeResponse(response,component);var subject,stateArray=state.toStateArray(),fullstateObject=Object.assign(history.state||{},{cresenity:stateArray});store$1.callHook("before"+((subject=method).charAt(0).toUpperCase()+subject.slice(1)),fullstateObject,url,component);try{history[method](fullstateObject,"",url)}catch(error){if("NS_ERROR_ILLEGAL_VALUE"===error.name){var key=this.storeInSession(stateArray);fullstateObject.cresenity=key,history[method](fullstateObject,"",url)}}},replayResponses:function(event,callback){event.state.cresenity&&("string"==typeof event.state.cresenity?new CresenityState(this.getFromSession(event.state.cresenity)):new CresenityState(event.state.cresenity)).replayResponses(callback)},currentState:function(){return history.state&&history.state.cresenity?"string"==typeof history.state.cresenity?new CresenityState(this.getFromSession(history.state.cresenity)):new CresenityState(history.state.cresenity):new CresenityState},missingState:function(event){return!(event.state&&event.state.cresenity)},clearState:function(){window.history.state&&(window.history.state.cresenity=(new CresenityState).toStateArray())},storeInSession:function(value){var key="cresenity:"+(new Date).getTime(),stringifiedValue=JSON.stringify(value);return this.tryToStoreInSession(key,stringifiedValue),key},tryToStoreInSession:function(key,value){try{sessionStorage.setItem(key,value)}catch(error){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(error.code))return;var oldestTimestamp=Object.keys(sessionStorage).map((function(key){return Number(key.replace("cresenity:",""))})).sort().shift();if(!oldestTimestamp)return;sessionStorage.removeItem("cresenity:"+oldestTimestamp),this.tryToStoreInSession(key,value)}},getFromSession:function(key){var item=sessionStorage.getItem(key);if(item)return JSON.parse(item)}},CresenityState=function(){function CresenityState(){var stateArray=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,CresenityState),this.items=stateArray}return _createClass(CresenityState,[{key:"toStateArray",value:function(){return this.items}},{key:"pushItemInProperOrder",value:function(signature,response,component){var _this=this,targetItem={signature:signature,response:response},existingIndex=this.items.findIndex((function(item){return item.signature===signature}));if(-1!==existingIndex)return this.items[existingIndex]=targetItem;var closestParentId=store$1.getClosestParentId(component.id,this.componentIdsWithStoredResponses());if(!closestParentId)return this.items.unshift(targetItem);var closestParentIndex=this.items.findIndex((function(item){if(_this.parseSignature(item.signature).originalComponentId===closestParentId)return!0}));this.items.splice(closestParentIndex,0,targetItem)}},{key:"storeResponse",value:function(response,component){var signature=this.getComponentNameBasedSignature(component);this.pushItemInProperOrder(signature,response,component)}},{key:"replayResponses",value:function(callback){var _this2=this;this.items.forEach((function(_ref){var signature=_ref.signature,response=_ref.response,component=_this2.findComponentBySignature(signature);component&&callback(response,component)}))}},{key:"getComponentNameBasedSignature",value:function(component){var componentName=component.fingerprint.name,componentIndex=store$1.getComponentsByName(componentName).indexOf(component);return"".concat(component.id,":").concat(componentName,":").concat(componentIndex)}},{key:"findComponentBySignature",value:function(signature){var _this$parseSignature2=this.parseSignature(signature),componentName=_this$parseSignature2.componentName,componentIndex=_this$parseSignature2.componentIndex,sameNamedComponents=store$1.getComponentsByName(componentName);return sameNamedComponents[componentIndex]||sameNamedComponents[0]||console.warn("Cresenity: couldn't find component on page: ".concat(componentName))}},{key:"parseSignature",value:function(signature){var _signature$split2=_slicedToArray(signature.split(":"),3);return{originalComponentId:_signature$split2[0],componentName:_signature$split2[1],componentIndex:_signature$split2[2]}}},{key:"componentIdsWithStoredResponses",value:function(){var _this3=this;return this.items.map((function(_ref2){var signature=_ref2.signature;return _this3.parseSignature(signature).originalComponentId}))}}]),CresenityState}();function isWindow(obj){return null!==obj&&obj===obj.window}function getWindow(elem){return isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}function offset(elem){var docElem,win,box={top:0,left:0},doc=elem&&elem.ownerDocument;return docElem=doc.documentElement,"undefined"!==_typeof$1(elem.getBoundingClientRect)&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}}function convertStyle(obj){var style="";for(var a in obj)obj.hasOwnProperty(a)&&(style+=a+":"+obj[a]+";");return style}var Effect={duration:750,show:function(e,element){if(2===e.button)return!1;var el=element||this,ripple=document.createElement("div");ripple.className="cres-waves-ripple",el.appendChild(ripple);var pos=offset(el),relativeY=e.pageY-pos.top,relativeX=e.pageX-pos.left,scale="scale("+el.clientWidth/100*10+")";"touches"in e&&(relativeY=e.touches[0].pageY-pos.top,relativeX=e.touches[0].pageX-pos.left),ripple.setAttribute("data-hold",Date.now()),ripple.setAttribute("data-scale",scale),ripple.setAttribute("data-x",relativeX),ripple.setAttribute("data-y",relativeY);var rippleStyle={top:relativeY+"px",left:relativeX+"px"};ripple.className=ripple.className+" waves-notransition",ripple.setAttribute("style",convertStyle(rippleStyle)),ripple.className=ripple.className.replace("waves-notransition",""),rippleStyle["-webkit-transform"]=scale,rippleStyle["-moz-transform"]=scale,rippleStyle["-ms-transform"]=scale,rippleStyle["-o-transform"]=scale,rippleStyle.transform=scale,rippleStyle.opacity="1",rippleStyle["-webkit-transition-duration"]=Effect.duration+"ms",rippleStyle["-moz-transition-duration"]=Effect.duration+"ms",rippleStyle["-o-transition-duration"]=Effect.duration+"ms",rippleStyle["transition-duration"]=Effect.duration+"ms",rippleStyle["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rippleStyle["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rippleStyle["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rippleStyle["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ripple.setAttribute("style",convertStyle(rippleStyle))},hide:function(e){TouchHandler.touchup(e);var el=this,ripple=null,ripples=el.getElementsByClassName("cres-waves-ripple");if(!(ripples.length>0))return!1;var relativeX=(ripple=ripples[ripples.length-1]).getAttribute("data-x"),relativeY=ripple.getAttribute("data-y"),scale=ripple.getAttribute("data-scale"),delay=350-(Date.now()-Number(ripple.getAttribute("data-hold")));delay<0&&(delay=0),setTimeout((function(){var style={top:relativeY+"px",left:relativeX+"px",opacity:"0","-webkit-transition-duration":Effect.duration+"ms","-moz-transition-duration":Effect.duration+"ms","-o-transition-duration":Effect.duration+"ms","transition-duration":Effect.duration+"ms","-webkit-transform":scale,"-moz-transform":scale,"-ms-transform":scale,"-o-transform":scale,transform:scale};ripple.setAttribute("style",convertStyle(style)),setTimeout((function(){try{el.removeChild(ripple)}catch(eee){return!1}}),Effect.duration)}),delay)},wrapInput:function(elements){for(var a=0;a<elements.length;a++){var el=elements[a];if("input"===el.tagName.toLowerCase()){var parent=el.parentNode;if("i"===parent.tagName.toLowerCase()&&-1!==parent.className.indexOf("waves-effect"))continue;var wrapper=document.createElement("i");wrapper.className=el.className+" waves-input-wrapper";var elementStyle=el.getAttribute("style");elementStyle||(elementStyle=""),wrapper.setAttribute("style",elementStyle),el.className="waves-button-input",el.removeAttribute("style"),parent.replaceChild(wrapper,el),wrapper.appendChild(el)}}}},TouchHandler={touches:0,allowEvent:function(e){var allow=!0;return"touchstart"===e.type?TouchHandler.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){TouchHandler.touches>0&&(TouchHandler.touches-=1)}),500):"mousedown"===e.type&&TouchHandler.touches>0&&(allow=!1),allow},touchup:function(e){TouchHandler.allowEvent(e)}};function getWavesEffectElement(e){if(!1===TouchHandler.allowEvent(e))return null;for(var element=null,target=e.target||e.srcElement;null!==target.parentNode;){if(!(target instanceof SVGElement)&&-1!==target.className.indexOf("waves-effect")){element=target;break}target=target.parentNode}return element}function showEffect(e){var element=getWavesEffectElement(e);null!==element&&(Effect.show(e,element),"ontouchstart"in window&&(element.addEventListener("touchend",Effect.hide,!1),element.addEventListener("touchcancel",Effect.hide,!1)),element.addEventListener("mouseup",Effect.hide,!1),element.addEventListener("mouseleave",Effect.hide,!1),element.addEventListener("dragend",Effect.hide,!1))}var attachWaves=function(element){"input"===element.tagName.toLowerCase()&&(Effect.wrapInput([element]),element=element.parentNode),"ontouchstart"in window&&element.addEventListener("touchstart",showEffect,!1),element.addEventListener("mousedown",showEffect,!1)},UI=function(){function UI(){_classCallCheck(this,UI),this.connection=new Connection,this.components=store$1,this.devToolsEnabled=!1,this.onLoadCallback=function(){},this.waves={attach:attachWaves}}return _createClass(UI,[{key:"first",value:function(){return Object.values(this.components.componentsById)[0].$cres}},{key:"find",value:function(componentId){return this.components.componentsById[componentId].$cres}},{key:"all",value:function(){return Object.values(this.components.componentsById).map((function(component){return component.$cres}))}},{key:"directive",value:function(name,callback){this.components.registerDirective(name,callback)}},{key:"hook",value:function(name,callback){this.components.registerHook(name,callback)}},{key:"onLoad",value:function(callback){this.onLoadCallback=callback}},{key:"onError",value:function(callback){this.components.onErrorCallback=callback}},{key:"emit",value:function(event){for(var _this$components,_len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];(_this$components=this.components).emit.apply(_this$components,[event].concat(params))}},{key:"emitTo",value:function(name,event){for(var _this$components2,_len2=arguments.length,params=new Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)params[_key2-2]=arguments[_key2];(_this$components2=this.components).emitTo.apply(_this$components2,[name,event].concat(params))}},{key:"on",value:function(event,callback){this.components.on(event,callback)}},{key:"off",value:function(event,callback){this.components.off(event,callback)}},{key:"devTools",value:function(enableDevtools){this.devToolsEnabled=enableDevtools}},{key:"restart",value:function(){this.stop(),this.start()}},{key:"stop",value:function(){this.components.tearDownComponents()}},{key:"start",value:function(){var _this=this;DOM.rootComponentElementsWithNoParents().forEach((function(el){_this.components.addComponent(new Component(el,_this.connection))})),this.onLoadCallback(),dispatch$1("cresenity:ui:start"),document.addEventListener("visibilitychange",(function(){_this.components.cresenityIsInBackground=document.hidden}),!1),this.components.initialRenderIsFinished=!0}},{key:"rescan",value:function(){var _this2=this,node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;DOM.rootComponentElementsWithNoParents(node).forEach((function(el){var componentId=cresDirectives(el).get("id").value;_this2.components.hasComponent(componentId)||_this2.components.addComponent(new Component(el,_this2.connection))}))}}]),UI}();SyncBrowserHistory(),SupportAlpine(),FileDownloads(),OfflineStates(),LoadingStates(),DisableForms(),FileUploads(),LaravelEcho(),DirtyStates(),Polling();var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",utf8Encode=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},utf8Decode=function(e){for(var t="",n=0,c2=0,c3=0,r=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t},encode=function(e){var n,r,i,s,o,u,a,t="",f=0;for(e=utf8Encode(e);f<e.length;)s=(n=e.charCodeAt(f++))>>2,o=(3&n)<<4|(r=e.charCodeAt(f++))>>4,u=(15&r)<<2|(i=e.charCodeAt(f++))>>6,a=63&i,isNaN(r)?u=a=64:isNaN(i)&&(a=64),t=t+keyStr.charAt(s)+keyStr.charAt(o)+keyStr.charAt(u)+keyStr.charAt(a);return t},decode=function(e){var n,r,i,o,u,a,t="",f=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");f<e.length;)n=keyStr.indexOf(e.charAt(f++))<<2|(o=keyStr.indexOf(e.charAt(f++)))>>4,r=(15&o)<<4|(u=keyStr.indexOf(e.charAt(f++)))>>2,i=(3&u)<<6|(a=keyStr.indexOf(e.charAt(f++))),t+=String.fromCharCode(n),64!=u&&(t+=String.fromCharCode(r)),64!=a&&(t+=String.fromCharCode(i));return t=utf8Decode(t)},echo=function(){var args=Array.prototype.slice.call(arguments);return console.log(args.join(" "))},ucfirst=function(str){return(str+="").charAt(0).toUpperCase()+str.substr(1)},reSpace="[ \\t]+",reSpaceOpt="[ \\t]*",reMeridian="(?:([ap])\\.?m\\.?([\\t ]|$))",reHour24="(2[0-4]|[01]?[0-9])",reHour24lz="([01][0-9]|2[0-4])",reHour12="(0?[1-9]|1[0-2])",reMinute="([0-5]?[0-9])",reMinutelz="([0-5][0-9])",reSecond="(60|[0-5]?[0-9])",reSecondlz="(60|[0-5][0-9])",reFrac="(?:\\.([0-9]+))",reDayfull="sunday|monday|tuesday|wednesday|thursday|friday|saturday",reDayabbr="sun|mon|tue|wed|thu|fri|sat",reDaytext=reDayfull+"|"+reDayabbr+"|weekdays?",reReltextnumber="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",reReltexttext="next|last|previous|this",reReltextunit="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+reDaytext,reYear="([0-9]{1,4})",reYear2="([0-9]{2})",reYear4="([0-9]{4})",reYear4withSign="([+-]?[0-9]{4})",reMonth="(1[0-2]|0?[0-9])",reMonthlz="(0[0-9]|1[0-2])",reDay="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",reDaylz="(0[0-9]|[1-2][0-9]|3[01])",reMonthFull="january|february|march|april|may|june|july|august|september|october|november|december",reMonthAbbr="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",reMonthroman="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",reMonthText="("+reMonthFull+"|"+reMonthAbbr+"|"+reMonthroman+")",reTzCorrection="((?:GMT)?([+-])"+reHour24+":?"+reMinute+"?)",reTzAbbr="\\(?([a-zA-Z]{1,6})\\)?",reDayOfYear="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",reWeekOfYear="(0[1-9]|[1-4][0-9]|5[0-3])",reDateNoYear=reMonthText+"[ .\\t-]*"+reDay+"[,.stndrh\\t ]*";function processMeridian(hour,meridian){switch(meridian=meridian&&meridian.toLowerCase()){case"a":hour+=12===hour?-12:0;break;case"p":hour+=12!==hour?12:0}return hour}function processYear(yearStr){var year=+yearStr;return yearStr.length<4&&year<100&&(year+=year<70?2e3:1900),year}function lookupMonth(monthStr){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[monthStr.toLowerCase()]}function lookupWeekday(dayStr){var desiredSundayNumber=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,dayNumbers={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return dayNumbers[dayStr.toLowerCase()]||desiredSundayNumber}function lookupRelative(relText){var relTextLower=relText.toLowerCase();return{amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[relTextLower],behavior:{this:1}[relTextLower]||0}}function processTzCorrection(tzOffset,oldValue){if(!(tzOffset=tzOffset&&tzOffset.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i)))return oldValue;var sign="-"===tzOffset[1]?-1:1,hours=+tzOffset[2],minutes=+tzOffset[4];return tzOffset[4]||tzOffset[3]||(minutes=Math.floor(hours%100),hours=Math.floor(hours/100)),sign*(60*hours+minutes)*60}var tzAbbrOffsets={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},formats={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(match,timestamp){return this.rs+=+timestamp,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(match,day){"first"===day.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+reHour24+reSpaceOpt+reMeridian+"?","i"),name:"backof | frontof",callback:function(match,side,hours,meridian){var hour=+hours,minute=15;return"back"===side.toLowerCase()||(hour-=1,minute=45),hour=processMeridian(hour,meridian),this.resetTime()&&this.time(hour,minute,0,0)}},weekdayOf:{regex:RegExp("^("+reReltextnumber+"|"+reReltexttext+")"+reSpace+"("+reDayfull+"|"+reDayabbr+")"+reSpace+"of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+reHour12+":"+reMinutelz+":"+reSecondlz+"[:.]([0-9]+)"+reMeridian,"i"),name:"mssqltime",callback:function(match,hour,minute,second,frac,meridian){return this.time(processMeridian(+hour,meridian),+minute,+second,+frac.substr(0,3))}},timeLong12:{regex:RegExp("^"+reHour12+"[:.]"+reMinute+"[:.]"+reSecondlz+reSpaceOpt+reMeridian,"i"),name:"timelong12",callback:function(match,hour,minute,second,meridian){return this.time(processMeridian(+hour,meridian),+minute,+second,0)}},timeShort12:{regex:RegExp("^"+reHour12+"[:.]"+reMinutelz+reSpaceOpt+reMeridian,"i"),name:"timeshort12",callback:function(match,hour,minute,meridian){return this.time(processMeridian(+hour,meridian),+minute,0,0)}},timeTiny12:{regex:RegExp("^"+reHour12+reSpaceOpt+reMeridian,"i"),name:"timetiny12",callback:function(match,hour,meridian){return this.time(processMeridian(+hour,meridian),0,0,0)}},soap:{regex:RegExp("^"+reYear4+"-"+reMonthlz+"-"+reDaylz+"T"+reHour24lz+":"+reMinutelz+":"+reSecondlz+reFrac+reTzCorrection+"?","i"),name:"soap",callback:function(match,year,month,day,hour,minute,second,frac,tzCorrection){return this.ymd(+year,month-1,+day)&&this.time(+hour,+minute,+second,+frac.substr(0,3))&&this.zone(processTzCorrection(tzCorrection))}},wddx:{regex:RegExp("^"+reYear4+"-"+reMonth+"-"+reDay+"T"+reHour24+":"+reMinute+":"+reSecond),name:"wddx",callback:function(match,year,month,day,hour,minute,second){return this.ymd(+year,month-1,+day)&&this.time(+hour,+minute,+second,0)}},exif:{regex:RegExp("^"+reYear4+":"+reMonthlz+":"+reDaylz+" "+reHour24lz+":"+reMinutelz+":"+reSecondlz,"i"),name:"exif",callback:function(match,year,month,day,hour,minute,second){return this.ymd(+year,month-1,+day)&&this.time(+hour,+minute,+second,0)}},xmlRpc:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz+"T"+reHour24+":"+reMinutelz+":"+reSecondlz),name:"xmlrpc",callback:function(match,year,month,day,hour,minute,second){return this.ymd(+year,month-1,+day)&&this.time(+hour,+minute,+second,0)}},xmlRpcNoColon:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz+"[Tt]"+reHour24+reMinutelz+reSecondlz),name:"xmlrpcnocolon",callback:function(match,year,month,day,hour,minute,second){return this.ymd(+year,month-1,+day)&&this.time(+hour,+minute,+second,0)}},clf:{regex:RegExp("^"+reDay+"/("+reMonthAbbr+")/"+reYear4+":"+reHour24lz+":"+reMinutelz+":"+reSecondlz+reSpace+reTzCorrection,"i"),name:"clf",callback:function(match,day,month,year,hour,minute,second,tzCorrection){return this.ymd(+year,lookupMonth(month),+day)&&this.time(+hour,+minute,+second,0)&&this.zone(processTzCorrection(tzCorrection))}},iso8601long:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond+reFrac,"i"),name:"iso8601long",callback:function(match,hour,minute,second,frac){return this.time(+hour,+minute,+second,+frac.substr(0,3))}},dateTextual:{regex:RegExp("^"+reMonthText+"[ .\\t-]*"+reDay+"[,.stndrh\\t ]+"+reYear,"i"),name:"datetextual",callback:function(match,month,day,year){return this.ymd(processYear(year),lookupMonth(month),+day)}},pointedDate4:{regex:RegExp("^"+reDay+"[.\\t-]"+reMonth+"[.-]"+reYear4),name:"pointeddate4",callback:function(match,day,month,year){return this.ymd(+year,month-1,+day)}},pointedDate2:{regex:RegExp("^"+reDay+"[.\\t]"+reMonth+"\\."+reYear2),name:"pointeddate2",callback:function(match,day,month,year){return this.ymd(processYear(year),month-1,+day)}},timeLong24:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond),name:"timelong24",callback:function(match,hour,minute,second){return this.time(+hour,+minute,+second,0)}},dateNoColon:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz),name:"datenocolon",callback:function(match,year,month,day){return this.ymd(+year,month-1,+day)}},pgydotd:{regex:RegExp("^"+reYear4+"\\.?"+reDayOfYear),name:"pgydotd",callback:function(match,year,day){return this.ymd(+year,0,+day)}},timeShort24:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute,"i"),name:"timeshort24",callback:function(match,hour,minute){return this.time(+hour,+minute,0,0)}},iso8601noColon:{regex:RegExp("^t?"+reHour24lz+reMinutelz+reSecondlz,"i"),name:"iso8601nocolon",callback:function(match,hour,minute,second){return this.time(+hour,+minute,+second,0)}},iso8601dateSlash:{regex:RegExp("^"+reYear4+"/"+reMonthlz+"/"+reDaylz+"/"),name:"iso8601dateslash",callback:function(match,year,month,day){return this.ymd(+year,month-1,+day)}},dateSlash:{regex:RegExp("^"+reYear4+"/"+reMonth+"/"+reDay),name:"dateslash",callback:function(match,year,month,day){return this.ymd(+year,month-1,+day)}},american:{regex:RegExp("^"+reMonth+"/"+reDay+"/"+reYear),name:"american",callback:function(match,month,day,year){return this.ymd(processYear(year),month-1,+day)}},americanShort:{regex:RegExp("^"+reMonth+"/"+reDay),name:"americanshort",callback:function(match,month,day){return this.ymd(this.y,month-1,+day)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+reYear+"-"+reMonth+"-"+reDay),name:"gnudateshort | iso8601date2",callback:function(match,year,month,day){return this.ymd(processYear(year),month-1,+day)}},iso8601date4:{regex:RegExp("^"+reYear4withSign+"-"+reMonthlz+"-"+reDaylz),name:"iso8601date4",callback:function(match,year,month,day){return this.ymd(+year,month-1,+day)}},gnuNoColon:{regex:RegExp("^t?"+reHour24lz+reMinutelz,"i"),name:"gnunocolon",callback:function(match,hour,minute){switch(this.times){case 0:return this.time(+hour,+minute,0,this.f);case 1:return this.y=100*hour+ +minute,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+reYear4+"-"+reMonth),name:"gnudateshorter",callback:function(match,year,month){return this.ymd(+year,month-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+reMonthAbbr+")-"+reDaylz,"i"),name:"pgtextreverse",callback:function(match,year,month,day){return this.ymd(processYear(year),lookupMonth(month),+day)}},dateFull:{regex:RegExp("^"+reDay+"[ \\t.-]*"+reMonthText+"[ \\t.-]*"+reYear,"i"),name:"datefull",callback:function(match,day,month,year){return this.ymd(processYear(year),lookupMonth(month),+day)}},dateNoDay:{regex:RegExp("^"+reMonthText+"[ .\\t-]*"+reYear4,"i"),name:"datenoday",callback:function(match,month,year){return this.ymd(+year,lookupMonth(month),1)}},dateNoDayRev:{regex:RegExp("^"+reYear4+"[ .\\t-]*"+reMonthText,"i"),name:"datenodayrev",callback:function(match,year,month){return this.ymd(+year,lookupMonth(month),1)}},pgTextShort:{regex:RegExp("^("+reMonthAbbr+")-"+reDaylz+"-"+reYear,"i"),name:"pgtextshort",callback:function(match,month,day,year){return this.ymd(processYear(year),lookupMonth(month),+day)}},dateNoYear:{regex:RegExp("^"+reDateNoYear,"i"),name:"datenoyear",callback:function(match,month,day){return this.ymd(this.y,lookupMonth(month),+day)}},dateNoYearRev:{regex:RegExp("^"+reDay+"[ .\\t-]*"+reMonthText,"i"),name:"datenoyearrev",callback:function(match,day,month){return this.ymd(this.y,lookupMonth(month),+day)}},isoWeekDay:{regex:RegExp("^"+reYear4+"-?W"+reWeekOfYear+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(match,year,week,day){if(day=day?+day:1,!this.ymd(+year,0,1))return!1;var dayOfWeek=new Date(this.y,this.m,this.d).getDay();dayOfWeek=0-(dayOfWeek>4?dayOfWeek-7:dayOfWeek),this.rd+=dayOfWeek+7*(week-1)+day}},relativeText:{regex:RegExp("^("+reReltextnumber+"|"+reReltexttext+")"+reSpace+"("+reReltextunit+")","i"),name:"relativetext",callback:function(match,relValue,relUnit){var amount=lookupRelative(relValue).amount;switch(relUnit.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=amount;break;case"min":case"mins":case"minute":case"minutes":this.ri+=amount;break;case"hour":case"hours":this.rh+=amount;break;case"day":case"days":this.rd+=amount;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*amount;break;case"week":case"weeks":this.rd+=7*amount;break;case"month":case"months":this.rm+=amount;break;case"year":case"years":this.ry+=amount;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=lookupWeekday(relUnit,7),this.weekdayBehavior=1,this.rd+=7*(amount>0?amount-1:amount)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+reSpaceOpt+"("+reReltextunit+"|week)","i"),name:"relative",callback:function(match,signs,relValue,relUnit){var minuses=signs.replace(/[^-]/g,"").length,amount=+relValue*Math.pow(-1,minuses);switch(relUnit.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=amount;break;case"min":case"mins":case"minute":case"minutes":this.ri+=amount;break;case"hour":case"hours":this.rh+=amount;break;case"day":case"days":this.rd+=amount;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*amount;break;case"week":case"weeks":this.rd+=7*amount;break;case"month":case"months":this.rm+=amount;break;case"year":case"years":this.ry+=amount;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=lookupWeekday(relUnit,7),this.weekdayBehavior=1,this.rd+=7*(amount>0?amount-1:amount)}}},dayText:{regex:RegExp("^("+reDaytext+")","i"),name:"daytext",callback:function(match,dayText){this.resetTime(),this.weekday=lookupWeekday(dayText,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+reReltexttext+")"+reSpace+"week","i"),name:"relativetextweek",callback:function(match,relText){switch(this.weekdayBehavior=2,relText.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+reMonthFull+"|"+reMonthAbbr+")","i"),name:"monthfull | monthabbr",callback:function(match,month){return this.ymd(this.y,lookupMonth(month),this.d)}},tzCorrection:{regex:RegExp("^"+reTzCorrection,"i"),name:"tzcorrection",callback:function(tzCorrection){return this.zone(processTzCorrection(tzCorrection))}},tzAbbr:{regex:RegExp("^"+reTzAbbr),name:"tzabbr",callback:function(match,abbr){var offset=tzAbbrOffsets[abbr.toLowerCase()];return!isNaN(offset)&&this.zone(offset)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+reYear4),name:"year4",callback:function(match,year){return this.y=+year,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+reDateNoYear+"t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond,"i"),name:"dateshortwithtimelong",callback:function(match,month,day,hour,minute,second){return this.ymd(this.y,lookupMonth(month),+day)&&this.time(+hour,+minute,+second,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+reDateNoYear+reHour12+"[:.]"+reMinute+"[:.]"+reSecondlz+reSpaceOpt+reMeridian,"i"),name:"dateshortwithtimelong12",callback:function(match,month,day,hour,minute,second,meridian){return this.ymd(this.y,lookupMonth(month),+day)&&this.time(processMeridian(+hour,meridian),+minute,+second,0)}},dateShortWithTimeShort:{regex:RegExp("^"+reDateNoYear+"t?"+reHour24+"[:.]"+reMinute,"i"),name:"dateshortwithtimeshort",callback:function(match,month,day,hour,minute){return this.ymd(this.y,lookupMonth(month),+day)&&this.time(+hour,+minute,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+reDateNoYear+reHour12+"[:.]"+reMinutelz+reSpaceOpt+reMeridian,"i"),name:"dateshortwithtimeshort12",callback:function(match,month,day,hour,minute,meridian){return this.ymd(this.y,lookupMonth(month),+day)&&this.time(processMeridian(+hour,meridian),+minute,0,0)}}},resultProto={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(y,m,d){return!(this.dates>0)&&(this.dates++,this.y=y,this.m=m,this.d=d,!0)},time:function(h,i,s,f){return!(this.times>0)&&(this.times++,this.h=h,this.i=i,this.s=s,this.f=f,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(minutes){return this.zones<=1&&(this.zones++,this.z=minutes,!0)},toDate:function(relativeTo){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=relativeTo.getFullYear()),isNaN(this.m)&&(this.m=relativeTo.getMonth()),isNaN(this.d)&&(this.d=relativeTo.getDate()),isNaN(this.h)&&(this.h=relativeTo.getHours()),isNaN(this.i)&&(this.i=relativeTo.getMinutes()),isNaN(this.s)&&(this.s=relativeTo.getSeconds()),isNaN(this.f)&&(this.f=relativeTo.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}if(!isNaN(this.weekday)){var date=new Date(relativeTo.getTime());date.setFullYear(this.y,this.m,this.d),date.setHours(this.h,this.i,this.s,this.f);var dow=date.getDay();if(2===this.weekdayBehavior)0===dow&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==dow&&(this.weekday=7),this.d-=dow,this.d+=this.weekday;else{var diff=this.weekday-dow;(this.rd<0&&diff<0||this.rd>=0&&diff<=-this.weekdayBehavior)&&(diff+=7),this.weekday>=0?this.d+=diff:this.d-=7-(Math.abs(this.weekday)-dow),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var result=new Date(relativeTo.getTime());switch(result.setFullYear(this.y,this.m,this.d),result.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:result.setDate(1);break;case-1:result.setMonth(result.getMonth()+1,0)}return isNaN(this.z)||result.getTimezoneOffset()===this.z||(result.setUTCFullYear(result.getFullYear(),result.getMonth(),result.getDate()),result.setUTCHours(result.getHours(),result.getMinutes(),result.getSeconds()-this.z,result.getMilliseconds())),result}},strtotime=function(str,now){null==now&&(now=Math.floor(Date.now()/1e3));for(var rules=[formats.yesterday,formats.now,formats.noon,formats.midnightOrToday,formats.tomorrow,formats.timestamp,formats.firstOrLastDay,formats.backOrFrontOf,formats.timeTiny12,formats.timeShort12,formats.timeLong12,formats.mssqltime,formats.timeShort24,formats.timeLong24,formats.iso8601long,formats.gnuNoColon,formats.iso8601noColon,formats.americanShort,formats.american,formats.iso8601date4,formats.iso8601dateSlash,formats.dateSlash,formats.gnuDateShortOrIso8601date2,formats.gnuDateShorter,formats.dateFull,formats.pointedDate4,formats.pointedDate2,formats.dateNoDay,formats.dateNoDayRev,formats.dateTextual,formats.dateNoYear,formats.dateNoYearRev,formats.dateNoColon,formats.xmlRpc,formats.xmlRpcNoColon,formats.soap,formats.wddx,formats.exif,formats.pgydotd,formats.isoWeekDay,formats.pgTextShort,formats.pgTextReverse,formats.clf,formats.year4,formats.ago,formats.dayText,formats.relativeTextWeek,formats.relativeText,formats.monthFullOrMonthAbbr,formats.tzCorrection,formats.tzAbbr,formats.dateShortWithTimeShort12,formats.dateShortWithTimeLong12,formats.dateShortWithTimeShort,formats.dateShortWithTimeLong,formats.relative,formats.whitespace],result=Object.create(resultProto);str.length;){for(var longestMatch=null,finalRule=null,i=0,l=rules.length;i<l;i++){var format=rules[i],match=str.match(format.regex);match&&(!longestMatch||match[0].length>longestMatch[0].length)&&(longestMatch=match,finalRule=format)}if(!finalRule||finalRule.callback&&!1===finalRule.callback.apply(result,longestMatch))return!1;str=str.substr(longestMatch[0].length),finalRule=null,longestMatch=null}return Math.floor(result.toDate(new Date(1e3*now))/1e3)},is_numeric=function(mixedVar){var whitespace=[" ","\n","\r","\t","\f","\v","Â ","â","â","â","â","â","â","â","â","â","â","â","â","\u2028","\u2029","ã"].join("");return("number"==typeof mixedVar||"string"==typeof mixedVar&&-1===whitespace.indexOf(mixedVar.slice(-1)))&&""!==mixedVar&&!isNaN(mixedVar)},array_diff=function(arr1){var retArr={},argl=arguments.length,k1="",i=1,k="",arr={};arr1keys:for(k1 in arr1)for(i=1;i<argl;i++){for(k in arr=arguments[i])if(arr[k]===arr1[k1])continue arr1keys;retArr[k1]=arr1[k1]}return retArr},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},str_replace=function(search,replace,subject,countObj){var sl,i=0,j=0,temp="",repl="",fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra="[object Array]"===Object.prototype.toString.call(r),sa="[object Array]"===Object.prototype.toString.call(s);s=[].concat(s);var $global="undefined"!=typeof window?window:commonjsGlobal;$global.$locutus=$global.$locutus||{};var $locutus=$global.$locutus;if($locutus.php=$locutus.php||{},"object"===(void 0===search?"undefined":_typeof(search))&&"string"==typeof replace){for(temp=replace,replace=[],i=0;i<search.length;i+=1)replace[i]=temp;temp="",r=[].concat(replace),ra="[object Array]"===Object.prototype.toString.call(r)}for(void 0!==countObj&&(countObj.value=0),i=0,sl=s.length;i<sl;i++)if(""!==s[i])for(j=0,fl=f.length;j<fl;j++)""!==f[j]&&(temp=s[i]+"",repl=ra?void 0!==r[j]?r[j]:"":r[0],s[i]=temp.split(f[j]).join(repl),void 0!==countObj&&(countObj.value+=temp.split(f[j]).length-1));return sa?s:s[0]},php={echo:echo,strtotime:strtotime,is_numeric:is_numeric,array_diff:array_diff,ucfirst:ucfirst,str_replace:str_replace},elementReady=function(selector){return new Promise((function(resolve,reject){var observer=new MutationObserver((function(mutations){document.querySelectorAll(selector).forEach((function(element){element.ready||(element.ready=!0,observer.disconnect(),resolve(element))}))}));observer.observe(document.documentElement,{childList:!0,subtree:!0})}))},elementRendered=function(selector,callback){var renderedElements=[],observer=new MutationObserver((function(mutations){document.querySelectorAll(selector).forEach((function(element){renderedElements.includes(element)||(renderedElements.push(element),callback(element))}))}));return observer.observe(document.documentElement,{childList:!0,subtree:!0}),observer},defaultConfirmHandler=function(el,options,confirmCallback){if(window.bootbox)return bootboxConfirmhandler(el,options,confirmCallback);confirmCallback(window.confirm(options.message))},bootboxConfirmhandler=function(el,options,confirmCallback){window.bootbox.confirm({className:"capp-modal-confirm",message:options.message,callback:confirmCallback})},confirmFromElement=function(el,handler,defaultMessage){var ahref=$(el).attr("href"),message=$(el).attr("data-confirm-message"),noDouble=$(el).attr("data-no-double"),clicked=$(el).attr("data-clicked"),btn=$(el);if(btn.attr("data-clicked","1"),"submit"===btn.attr("type")&&btn.attr("data-submitted","1"),noDouble&&clicked)return!1;handler(btn,{message:message=message||(defaultMessage||"Are you sure?")},(function(confirmed){confirmed?ahref?window.location.href=ahref:"submit"===btn.attr("type")?btn.closest("form").submit():btn.on("click"):(btn.removeAttr("data-clicked"),btn.removeAttr("data-submitted")),setTimeout((function(){$(".modal:visible").length>0?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),750)}))},ini_get=function(varname){var $global="undefined"!=typeof window?window:commonjsGlobal;$global.$locutus=$global.$locutus||{};var $locutus=$global.$locutus;return $locutus.php=$locutus.php||{},$locutus.php.ini=$locutus.php.ini||{},$locutus.php.ini[varname]&&void 0!==$locutus.php.ini[varname].local_value?null===$locutus.php.ini[varname].local_value?"":$locutus.php.ini[varname].local_value:""},strlen=function(string){var str=string+"";if("off"===((void 0!==commonjsRequire?ini_get("unicode.semantics"):void 0)||"off"))return str.length;var i=0,lgth=0,getWholeChar=function(str,i){var code=str.charCodeAt(i),next="",prev="";if(code>=55296&&code<=56319){if(str.length<=i+1)throw new Error("High surrogate without following low surrogate");if((next=str.charCodeAt(i+1))<56320||next>57343)throw new Error("High surrogate without following low surrogate");return str.charAt(i)+str.charAt(i+1)}if(code>=56320&&code<=57343){if(0===i)throw new Error("Low surrogate without preceding high surrogate");if((prev=str.charCodeAt(i-1))<55296||prev>56319)throw new Error("Low surrogate without preceding high surrogate");return!1}return str.charAt(i)};for(i=0,lgth=0;i<str.length;i++)!1!==getWholeChar(str,i)&&lgth++;return lgth},DateFormatter,$h;$h={DAY:864e5,HOUR:3600,defaults:{dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(number){var n=number%10,suffixes={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(number%100/10)&&suffixes[n]?suffixes[n]:"th"}},separators:/[ \-+\/.:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},getInt:function(str,radix){return parseInt(str,radix||10)},compare:function(str1,str2){return"string"==typeof str1&&"string"==typeof str2&&str1.toLowerCase()===str2.toLowerCase()},lpad:function(value,length,chr){var val=value.toString();return chr=chr||"0",val.length<length?$h.lpad(chr+val,length):val},merge:function(out){var i,obj;for(out=out||{},i=1;i<arguments.length;i++)if(obj=arguments[i])for(var key in obj)obj.hasOwnProperty(key)&&("object"===_typeof$1(obj[key])?$h.merge(out[key],obj[key]):out[key]=obj[key]);return out},getIndex:function(val,arr){for(var i=0;i<arr.length;i++)if(arr[i].toLowerCase()===val.toLowerCase())return i;return-1}},DateFormatter=function(options){var config=$h.merge($h.defaults,options);this.dateSettings=config.dateSettings,this.separators=config.separators,this.validParts=config.validParts,this.intParts=config.intParts,this.tzParts=config.tzParts,this.tzClip=config.tzClip},DateFormatter.prototype={constructor:DateFormatter,getMonth:function(val){var i;return 0===(i=$h.getIndex(val,this.dateSettings.monthsShort)+1)&&(i=$h.getIndex(val,this.dateSettings.months)+1),i},parseDate:function(vDate,vFormat){var vFormatParts,vDateParts,i,vDatePart,iDatePart,vMonth,vMeriIndex,vMeriOffset,len,mer,vDateFlag=!1,vTimeFlag=!1,vSettings=this.dateSettings,out={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!vDate)return null;if(vDate instanceof Date)return vDate;if("U"===vFormat)return(i=$h.getInt(vDate))?new Date(1e3*i):vDate;switch(_typeof$1(vDate)){case"number":return new Date(vDate);case"string":break;default:return null}if(!(vFormatParts=vFormat.match(this.validParts))||0===vFormatParts.length)throw new Error("Invalid date format definition.");for(i=vFormatParts.length-1;i>=0;i--)"S"===vFormatParts[i]&&vFormatParts.splice(i,1);for(vDateParts=vDate.replace(this.separators,"\0").split("\0"),i=0;i<vDateParts.length;i++)switch(vDatePart=vDateParts[i],iDatePart=$h.getInt(vDatePart),vFormatParts[i]){case"y":case"Y":if(!iDatePart)return null;len=vDatePart.length,out.year=2===len?$h.getInt((iDatePart<70?"20":"19")+vDatePart):iDatePart,vDateFlag=!0;break;case"m":case"n":case"M":case"F":if(isNaN(iDatePart)){if(!((vMonth=this.getMonth(vDatePart))>0))return null;out.month=vMonth}else{if(!(iDatePart>=1&&iDatePart<=12))return null;out.month=iDatePart}vDateFlag=!0;break;case"d":case"j":if(!(iDatePart>=1&&iDatePart<=31))return null;out.day=iDatePart,vDateFlag=!0;break;case"g":case"h":if(mer=vDateParts[vMeriIndex=vFormatParts.indexOf("a")>-1?vFormatParts.indexOf("a"):vFormatParts.indexOf("A")>-1?vFormatParts.indexOf("A"):-1],-1!==vMeriIndex)vMeriOffset=$h.compare(mer,vSettings.meridiem[0])?0:$h.compare(mer,vSettings.meridiem[1])?12:-1,iDatePart>=1&&iDatePart<=12&&-1!==vMeriOffset?out.hour=iDatePart%12==0?vMeriOffset:iDatePart+vMeriOffset:iDatePart>=0&&iDatePart<=23&&(out.hour=iDatePart);else{if(!(iDatePart>=0&&iDatePart<=23))return null;out.hour=iDatePart}vTimeFlag=!0;break;case"G":case"H":if(!(iDatePart>=0&&iDatePart<=23))return null;out.hour=iDatePart,vTimeFlag=!0;break;case"i":if(!(iDatePart>=0&&iDatePart<=59))return null;out.min=iDatePart,vTimeFlag=!0;break;case"s":if(!(iDatePart>=0&&iDatePart<=59))return null;out.sec=iDatePart,vTimeFlag=!0}if(!0===vDateFlag){var varY=out.year||0,varM=out.month?out.month-1:0,varD=out.day||1;out.date=new Date(varY,varM,varD,out.hour,out.min,out.sec,0)}else{if(!0!==vTimeFlag)return null;out.date=new Date(0,0,0,out.hour,out.min,out.sec,0)}return out.date},guessDate:function(vDateStr,vFormat){if("string"!=typeof vDateStr)return vDateStr;var len,vYear,i,n,iPart,iSec,vParts=vDateStr.replace(this.separators,"\0").split("\0"),vFormatParts=vFormat.match(this.validParts),vDate=new Date,vDigit=0;if(!/^[djmn]/g.test(vFormatParts[0]))return vDateStr;for(i=0;i<vParts.length;i++){if(vDigit=2,iPart=vParts[i],iSec=$h.getInt(iPart.substr(0,2)),isNaN(iSec))return null;switch(i){case 0:"m"===vFormatParts[0]||"n"===vFormatParts[0]?vDate.setMonth(iSec-1):vDate.setDate(iSec);break;case 1:"m"===vFormatParts[0]||"n"===vFormatParts[0]?vDate.setDate(iSec):vDate.setMonth(iSec-1);break;case 2:if(vYear=vDate.getFullYear(),vDigit=(len=iPart.length)<4?len:4,!(vYear=$h.getInt(len<4?vYear.toString().substr(0,4-len)+iPart:iPart.substr(0,4))))return null;vDate.setFullYear(vYear);break;case 3:vDate.setHours(iSec);break;case 4:vDate.setMinutes(iSec);break;case 5:vDate.setSeconds(iSec)}(n=iPart.substr(vDigit)).length>0&&vParts.splice(i+1,0,n)}return vDate},parseFormat:function(vChar,vDate){var fmt,self=this,vSettings=self.dateSettings,backslash=/\\?(.?)/gi,doFormat=function(t,s){return fmt[t]?fmt[t]():s};return fmt={d:function(){return $h.lpad(fmt.j(),2)},D:function(){return vSettings.daysShort[fmt.w()]},j:function(){return vDate.getDate()},l:function(){return vSettings.days[fmt.w()]},N:function(){return fmt.w()||7},w:function(){return vDate.getDay()},z:function(){var a=new Date(fmt.Y(),fmt.n()-1,fmt.j()),b=new Date(fmt.Y(),0,1);return Math.round((a-b)/$h.DAY)},W:function(){var a=new Date(fmt.Y(),fmt.n()-1,fmt.j()-fmt.N()+3),b=new Date(a.getFullYear(),0,4);return $h.lpad(1+Math.round((a-b)/$h.DAY/7),2)},F:function(){return vSettings.months[vDate.getMonth()]},m:function(){return $h.lpad(fmt.n(),2)},M:function(){return vSettings.monthsShort[vDate.getMonth()]},n:function(){return vDate.getMonth()+1},t:function(){return new Date(fmt.Y(),fmt.n(),0).getDate()},L:function(){var Y=fmt.Y();return Y%4==0&&Y%100!=0||Y%400==0?1:0},o:function(){var n=fmt.n(),W=fmt.W();return fmt.Y()+(12===n&&W<9?1:1===n&&W>9?-1:0)},Y:function(){return vDate.getFullYear()},y:function(){return fmt.Y().toString().slice(-2)},a:function(){return fmt.A().toLowerCase()},A:function(){var n=fmt.G()<12?0:1;return vSettings.meridiem[n]},B:function(){var H=vDate.getUTCHours()*$h.HOUR,i=60*vDate.getUTCMinutes(),s=vDate.getUTCSeconds();return $h.lpad(Math.floor((H+i+s+$h.HOUR)/86.4)%1e3,3)},g:function(){return fmt.G()%12||12},G:function(){return vDate.getHours()},h:function(){return $h.lpad(fmt.g(),2)},H:function(){return $h.lpad(fmt.G(),2)},i:function(){return $h.lpad(vDate.getMinutes(),2)},s:function(){return $h.lpad(vDate.getSeconds(),2)},u:function(){return $h.lpad(1e3*vDate.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(vDate))[1]||"Coordinated Universal Time"},I:function(){return new Date(fmt.Y(),0)-Date.UTC(fmt.Y(),0)!=new Date(fmt.Y(),6)-Date.UTC(fmt.Y(),6)?1:0},O:function(){var tzo=vDate.getTimezoneOffset(),a=Math.abs(tzo);return(tzo>0?"-":"+")+$h.lpad(100*Math.floor(a/60)+a%60,4)},P:function(){var O=fmt.O();return O.substr(0,3)+":"+O.substr(3,2)},T:function(){return(String(vDate).match(self.tzParts)||[""]).pop().replace(self.tzClip,"")||"UTC"},Z:function(){return 60*-vDate.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(backslash,doFormat)},r:function(){return"D, d M Y H:i:s O".replace(backslash,doFormat)},U:function(){return vDate.getTime()/1e3||0}},doFormat(vChar,vChar)},formatDate:function(vDate,vFormat){var i,n,len,str,vChar,vDateStr="";if("string"==typeof vDate&&!(vDate=this.parseDate(vDate,vFormat)))return null;if(vDate instanceof Date){for(len=vFormat.length,i=0;i<len;i++)"S"!==(vChar=vFormat.charAt(i))&&"\\"!==vChar&&(i>0&&"\\"===vFormat.charAt(i-1)?vDateStr+=vChar:(str=this.parseFormat(vChar,vDate),i!==len-1&&this.intParts.test(vChar)&&"S"===vFormat.charAt(i+1)&&(n=$h.getInt(str)||0,str+=this.dateSettings.ordinal(n)),vDateStr+=str));return vDateStr}return""}};var DateFormatter$1=DateFormatter,appValidation={implicitRules:["Required","Confirmed"],init:function(){$.validator&&($.validator.classRuleSettings={},$.validator.attributeRules=function(){this.rules={}},$.validator.dataRules=this.arrayRules,$.validator.prototype.arrayRulesCache={},this.setupValidations())},arrayRules:function(element){var rules={},validator=$.data(element.form,"validator"),cache=validator.arrayRulesCache;return-1===element.name.indexOf("[")||(element.name in cache||(cache[element.name]={}),$.each(validator.settings.rules,(function(name,tmpRules){if(name in cache[element.name])$.extend(rules,cache[element.name][name]);else{cache[element.name][name]={};var nameRegExp=appValidation.helpers.regexFromWildcard(name);if(element.name.match(nameRegExp)){var newRules=$.validator.normalizeRule(tmpRules)||{};cache[element.name][name]=newRules,$.extend(rules,newRules)}}}))),rules},setupValidations:function(){$.validator.addMethod("appValidation",(function(value,element,params){var validator=this,validated=!0,previous=this.previousValue(element),rules=[];return $.each(params,(function(i,param){param[3]||-1!==appValidation.implicitRules.indexOf(param[0])?rules.unshift(param):rules.push(param)})),$.each(rules,(function(i,param){var implicit=param[3]||-1!==appValidation.implicitRules.indexOf(param[0]),rule=param[0],message=param[2];return!implicit&&validator.optional(element)?(validated="dependency-mismatch",!1):!0!==(validated=void 0!==appValidation.methods[rule]&&appValidation.methods[rule].call(validator,value,element,param[1],(function(valid){if(validator.settings.messages[element.name].appValidationRemote=previous.originalMessage,valid){var submitted=validator.formSubmitted;validator.prepareElement(element),validator.formSubmitted=submitted,validator.successList.push(element),delete validator.invalid[element.name],validator.showErrors()}else{var errors={};errors[element.name]=previous.message=$.isFunction(message)?message(value):message,validator.invalid[element.name]=!0,validator.showErrors(errors)}validator.showErrors(validator.errorMap),previous.valid=valid})))?(validator.settings.messages[element.name]||(validator.settings.messages[element.name]={}),validator.settings.messages[element.name].appValidation=message,!1):void 0})),validated}),""),$.validator.addMethod("appValidationRemote",(function(value,element,params){var implicit=!1,check=params[0][1],attribute=element.name,token=check[1],validateAll=check[2];if($.each(params,(function(i,parameters){implicit=implicit||parameters[3]})),!implicit&&this.optional(element))return"dependency-mismatch";var validator,data,previous=this.previousValue(element);this.settings.messages[element.name]||(this.settings.messages[element.name]={}),previous.originalMessage=this.settings.messages[element.name].appValidationRemote,this.settings.messages[element.name].appValidationRemote=previous.message;var param="string"==typeof params&&{url:params}||params;if(appValidation.helpers.arrayEquals(previous.old,value)||previous.old===value)return previous.valid;previous.old=value,validator=this,this.startRequest(element),(data=$(validator.currentForm).serializeArray()).push({name:"_jsvalidation",value:attribute}),data.push({name:"_jsvalidation_validate_all",value:validateAll});var formMethod=$(validator.currentForm).attr("method");return $(validator.currentForm).find('input[name="_method"]').length&&(formMethod=$(validator.currentForm).find('input[name="_method"]').val()),$.ajax($.extend(!0,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,url:$(validator.currentForm).attr("remote-validation-url"),type:formMethod,beforeSend:function(xhr){if("get"!==$(validator.currentForm).attr("method").toLowerCase()&&token)return xhr.setRequestHeader("X-XSRF-TOKEN",token)}},param)).always((function(response,textStatus){var errors,message,submitted,valid;if("error"===textStatus)valid=!1,response=appValidation.helpers.parseErrorResponse(response);else{if("success"!==textStatus)return;valid=!0===response||"true"===response}validator.settings.messages[element.name].appValidationRemote=previous.originalMessage,valid?(submitted=validator.formSubmitted,validator.prepareElement(element),validator.formSubmitted=submitted,validator.successList.push(element),delete validator.invalid[element.name],validator.showErrors()):(errors={},message=response||validator.defaultMessage(element,"remote"),errors[element.name]=previous.message=$.isFunction(message)?message(value):message[0],validator.invalid[element.name]=!0,validator.showErrors(errors)),validator.showErrors(validator.errorMap),previous.valid=valid,validator.stopRequest(element,valid)})),"pending"}),"")}},initValidation=function initValidation(){$.extend(!0,appValidation,{helpers:{numericRules:["Integer","Numeric"],fileinfo:function(fieldObj,index){var FileName=fieldObj.value;return index=void 0!==index?index:0,null!==fieldObj.files&&void 0!==fieldObj.files[index]&&{file:FileName,extension:FileName.substr(FileName.lastIndexOf(".")+1),size:fieldObj.files[index].size/1024,type:fieldObj.files[index].type}},selector:function(names){var selector=[];$.isArray(names)||(names=[names]);for(var i=0;i<names.length;i++)selector.push("[name='"+names[i]+"']");return selector.join()},hasNumericRules:function(element){return this.hasRules(element,this.numericRules)},hasRules:function(element,rules){var found=!1;"string"==typeof rules&&(rules=[rules]);var validator=$.data(element.form,"validator"),listRules=[],cache=validator.arrayRulesCache;return element.name in cache&&$.each(cache[element.name],(function(index,arrayRule){listRules.push(arrayRule)})),element.name in validator.settings.rules&&listRules.push(validator.settings.rules[element.name]),$.each(listRules,(function(index,objRules){if("appValidation"in objRules)for(var valRules=objRules.appValidation,i=0;i<valRules.length;i++)if(-1!==$.inArray(valRules[i][0],rules))return found=!0,!1})),found},strlen:function(string){return strlen(string)},getSize:function(obj,element,value){return this.hasNumericRules(element)&&this.is_numeric(value)?parseFloat(value):$.isArray(value)?parseFloat(value.length):"file"===element.type?parseFloat(Math.floor(this.fileinfo(element).size)):parseFloat(this.strlen(value))},getAppValidation:function(rule,element){var found;return $.each($.validator.staticRules(element),(function(key,rules){"appValidation"===key&&$.each(rules,(function(i,value){value[0]===rule&&(found=value)}))})),found},parseTime:function(value,format){var timeValue=!1,fmt=new DateFormatter$1;if("object"===$.type(format)){var dateRule=this.getAppValidation("DateFormat",format);format=void 0!==dateRule?dateRule[1][0]:null}return null==format?timeValue=this.strtotime(value):(timeValue=fmt.parseDate(value,format))&&(timeValue=Math.round(timeValue.getTime()/1e3)),timeValue},guessDate:function(value,format){return(new DateFormatter$1).guessDate(value,format)},strtotime:function(text,now){return strtotime(text,now)},is_numeric:function(mixed_var){return is_numeric(mixed_var)},arrayDiff:function(arr1,arr2){return array_diff(arr1,arr2)},arrayEquals:function(arr1,arr2){return!(!$.isArray(arr1)||!$.isArray(arr2))&&(arr1.length===arr2.length&&$.isEmptyObject(this.arrayDiff(arr1,arr2)))},dependentElement:function(validator,element,name){var el=validator.findByName(name);if(void 0!==el[0]&&validator.settings.onfocusout){var event="blur";"SELECT"!==el[0].tagName&&"OPTION"!==el[0].tagName&&"checkbox"!==el[0].type&&"radio"!==el[0].type||(event="click");var ruleName=".validate-appValidation";el.off(ruleName).off(event+ruleName+"-"+element.name).on(event+ruleName+"-"+element.name,(function(){$(element).valid()}))}return el[0]},parseErrorResponse:function(response){var newResponse=["Whoops, looks like something went wrong."];if("responseText"in response){var errorMsg=response.responseText.match(/<h1\s*>(.*)<\/h1\s*>/i);$.isArray(errorMsg)&&(newResponse=[errorMsg[1]])}return newResponse},escapeRegExp:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexFromWildcard:function(name){var nameParts=name.split("[*]");1===nameParts.length&&nameParts.push("");var regexpParts=nameParts.map((function(currentValue,index){return index%2==0?currentValue+="[":currentValue="]"+currentValue,appValidation.helpers.escapeRegExp(currentValue)}));return new RegExp("^"+regexpParts.join(".*")+"$")}}}),$.extend(!0,appValidation,{helpers:{isTimezone:function(value){var timezones={africa:["abidjan","accra","addis_ababa","algiers","asmara","bamako","bangui","banjul","bissau","blantyre","brazzaville","bujumbura","cairo","casablanca","ceuta","conakry","dakar","dar_es_salaam","djibouti","douala","el_aaiun","freetown","gaborone","harare","johannesburg","juba","kampala","khartoum","kigali","kinshasa","lagos","libreville","lome","luanda","lubumbashi","lusaka","malabo","maputo","maseru","mbabane","mogadishu","monrovia","nairobi","ndjamena","niamey","nouakchott","ouagadougou","porto-novo","sao_tome","tripoli","tunis","windhoek"],america:["adak","anchorage","anguilla","antigua","araguaina","argentina/buenos_aires","argentina/catamarca","argentina/cordoba","argentina/jujuy","argentina/la_rioja","argentina/mendoza","argentina/rio_gallegos","argentina/salta","argentina/san_juan","argentina/san_luis","argentina/tucuman","argentina/ushuaia","aruba","asuncion","atikokan","bahia","bahia_banderas","barbados","belem","belize","blanc-sablon","boa_vista","bogota","boise","cambridge_bay","campo_grande","cancun","caracas","cayenne","cayman","chicago","chihuahua","costa_rica","creston","cuiaba","curacao","danmarkshavn","dawson","dawson_creek","denver","detroit","dominica","edmonton","eirunepe","el_salvador","fortaleza","glace_bay","godthab","goose_bay","grand_turk","grenada","guadeloupe","guatemala","guayaquil","guyana","halifax","havana","hermosillo","indiana/indianapolis","indiana/knox","indiana/marengo","indiana/petersburg","indiana/tell_city","indiana/vevay","indiana/vincennes","indiana/winamac","inuvik","iqaluit","jamaica","juneau","kentucky/louisville","kentucky/monticello","kralendijk","la_paz","lima","los_angeles","lower_princes","maceio","managua","manaus","marigot","martinique","matamoros","mazatlan","menominee","merida","metlakatla","mexico_city","miquelon","moncton","monterrey","montevideo","montreal","montserrat","nassau","new_york","nipigon","nome","noronha","north_dakota/beulah","north_dakota/center","north_dakota/new_salem","ojinaga","panama","pangnirtung","paramaribo","phoenix","port-au-prince","port_of_spain","porto_velho","puerto_rico","rainy_river","rankin_inlet","recife","regina","resolute","rio_branco","santa_isabel","santarem","santiago","santo_domingo","sao_paulo","scoresbysund","shiprock","sitka","st_barthelemy","st_johns","st_kitts","st_lucia","st_thomas","st_vincent","swift_current","tegucigalpa","thule","thunder_bay","tijuana","toronto","tortola","vancouver","whitehorse","winnipeg","yakutat","yellowknife"],antarctica:["casey","davis","dumontdurville","macquarie","mawson","mcmurdo","palmer","rothera","south_pole","syowa","vostok"],arctic:["longyearbyen"],asia:["aden","almaty","amman","anadyr","aqtau","aqtobe","ashgabat","baghdad","bahrain","baku","bangkok","beirut","bishkek","brunei","choibalsan","chongqing","colombo","damascus","dhaka","dili","dubai","dushanbe","gaza","harbin","hebron","ho_chi_minh","hong_kong","hovd","irkutsk","jakarta","jayapura","jerusalem","kabul","kamchatka","karachi","kashgar","kathmandu","khandyga","kolkata","krasnoyarsk","kuala_lumpur","kuching","kuwait","macau","magadan","makassar","manila","muscat","nicosia","novokuznetsk","novosibirsk","omsk","oral","phnom_penh","pontianak","pyongyang","qatar","qyzylorda","rangoon","riyadh","sakhalin","samarkand","seoul","shanghai","singapore","taipei","tashkent","tbilisi","tehran","thimphu","tokyo","ulaanbaatar","urumqi","ust-nera","vientiane","vladivostok","yakutsk","yekaterinburg","yerevan"],atlantic:["azores","bermuda","canary","cape_verde","faroe","madeira","reykjavik","south_georgia","st_helena","stanley"],australia:["adelaide","brisbane","broken_hill","currie","darwin","eucla","hobart","lindeman","lord_howe","melbourne","perth","sydney"],europe:["amsterdam","andorra","athens","belgrade","berlin","bratislava","brussels","bucharest","budapest","busingen","chisinau","copenhagen","dublin","gibraltar","guernsey","helsinki","isle_of_man","istanbul","jersey","kaliningrad","kiev","lisbon","ljubljana","london","luxembourg","madrid","malta","mariehamn","minsk","monaco","moscow","oslo","paris","podgorica","prague","riga","rome","samara","san_marino","sarajevo","simferopol","skopje","sofia","stockholm","tallinn","tirane","uzhgorod","vaduz","vatican","vienna","vilnius","volgograd","warsaw","zagreb","zaporozhye","zurich"],indian:["antananarivo","chagos","christmas","cocos","comoro","kerguelen","mahe","maldives","mauritius","mayotte","reunion"],pacific:["apia","auckland","chatham","chuuk","easter","efate","enderbury","fakaofo","fiji","funafuti","galapagos","gambier","guadalcanal","guam","honolulu","johnston","kiritimati","kosrae","kwajalein","majuro","marquesas","midway","nauru","niue","norfolk","noumea","pago_pago","palau","pitcairn","pohnpei","port_moresby","rarotonga","saipan","tahiti","tarawa","tongatapu","wake","wallis"],utc:[""]},tzparts=value.split("/",2),continent=tzparts[0].toLowerCase(),city="";return tzparts[1]&&(city=tzparts[1].toLowerCase()),continent in timezones&&(0===timezones[continent].length||-1!==timezones[continent].indexOf(city))}}}),
/*!
	   * Methods that implement CApp Validations
	   */
$.extend(!0,appValidation,{methods:{helpers:appValidation.helpers,jsRemoteTimer:0,Sometimes:function(){return!0},Bail:function(){return!0},Nullable:function(){return!0},Filled:function(value,element){return $.validator.methods.required.call(this,value,element,!0)},Required:function(value,element){return $.validator.methods.required.call(this,value,element)},RequiredWith:function(value,element,params){var validator=this,required=!1,currentObject=this;return $.each(params,(function(i,param){var target=appValidation.helpers.dependentElement(currentObject,element,param);required=required||void 0!==target&&$.validator.methods.required.call(validator,currentObject.elementValue(target),target,!0)})),!required||$.validator.methods.required.call(this,value,element,!0)},RequiredWithAll:function(value,element,params){var validator=this,required=!0,currentObject=this;return $.each(params,(function(i,param){var target=appValidation.helpers.dependentElement(currentObject,element,param);required=required&&void 0!==target&&$.validator.methods.required.call(validator,currentObject.elementValue(target),target,!0)})),!required||$.validator.methods.required.call(this,value,element,!0)},RequiredWithout:function(value,element,params){var validator=this,required=!1,currentObject=this;return $.each(params,(function(i,param){var target=appValidation.helpers.dependentElement(currentObject,element,param);required=required||void 0===target||!$.validator.methods.required.call(validator,currentObject.elementValue(target),target,!0)})),!required||$.validator.methods.required.call(this,value,element,!0)},RequiredWithoutAll:function(value,element,params){var validator=this,required=!0,currentObject=this;return $.each(params,(function(i,param){var target=appValidation.helpers.dependentElement(currentObject,element,param);required=required&&(void 0===target||!$.validator.methods.required.call(validator,currentObject.elementValue(target),target,!0))})),!required||$.validator.methods.required.call(this,value,element,!0)},RequiredIf:function(value,element,params){var target=appValidation.helpers.dependentElement(this,element,params[0]);if(void 0!==target){var val=String(this.elementValue(target));if(void 0!==val){var data=params.slice(1);if(-1!==$.inArray(val,data))return $.validator.methods.required.call(this,value,element,!0)}}return!0},RequiredUnless:function(value,element,params){var target=appValidation.helpers.dependentElement(this,element,params[0]);if(void 0!==target){var val=String(this.elementValue(target));if(void 0!==val){var data=params.slice(1);if(-1!==$.inArray(val,data))return!0}}return $.validator.methods.required.call(this,value,element,!0)},Confirmed:function(value,element,params){return appValidation.methods.Same.call(this,value,element,params)},Same:function(value,element,params){var target=appValidation.helpers.dependentElement(this,element,params[0]);return void 0!==target&&String(value)===String(this.elementValue(target))},InArray:function(value,element,params){if(void 0===params[0])return!1;for(var elements=this.elements(),found=!1,nameRegExp=appValidation.helpers.regexFromWildcard(params[0]),i=0;i<elements.length;i++){var targetName=elements[i].name;if(targetName.match(nameRegExp)){var equals=appValidation.methods.Same.call(this,value,element,[targetName]);found=found||equals}}return found},Distinct:function(value,element,params){if(void 0===params[0])return!1;for(var elements=this.elements(),found=!1,nameRegExp=appValidation.helpers.regexFromWildcard(params[0]),i=0;i<elements.length;i++){var targetName=elements[i].name;if(targetName!==element.name&&targetName.match(nameRegExp)){var equals=appValidation.methods.Same.call(this,value,element,[targetName]);found=found||equals}}return!found},Different:function(value,element,params){return!appValidation.methods.Same.call(this,value,element,params)},Accepted:function(value){return new RegExp("^(?:(yes|on|1|true))$","i").test(value)},Array:function(value,element){return-1!==element.name.indexOf("[")&&-1!==element.name.indexOf("]")||$.isArray(value)},Boolean:function(value){return new RegExp("^(?:(true|false|1|0))$","i").test(value)},Integer:function(value){return new RegExp("^(?:-?\\d+)$","i").test(value)},Numeric:function(value,element){return $.validator.methods.number.call(this,value,element,!0)},String:function(value){return"string"==typeof value},Digits:function(value,element,params){return $.validator.methods.number.call(this,value,element,!0)&&value.length===parseInt(params,10)},DigitsBetween:function(value,element,params){return $.validator.methods.number.call(this,value,element,!0)&&value.length>=parseFloat(params[0])&&value.length<=parseFloat(params[1])},Size:function(value,element,params){return appValidation.helpers.getSize(this,element,value)===parseFloat(params[0])},Between:function(value,element,params){return appValidation.helpers.getSize(this,element,value)>=parseFloat(params[0])&&appValidation.helpers.getSize(this,element,value)<=parseFloat(params[1])},Min:function(value,element,params){return appValidation.helpers.getSize(this,element,value)>=parseFloat(params[0])},Max:function(value,element,params){return appValidation.helpers.getSize(this,element,value)<=parseFloat(params[0])},In:function(value,element,params){if($.isArray(value)&&appValidation.helpers.hasRules(element,"Array")){var diff=appValidation.helpers.arrayDiff(value,params);return 0===Object.keys(diff).length}return-1!==params.indexOf(value.toString())},NotIn:function(value,element,params){return-1===params.indexOf(value.toString())},Ip:function(value){return/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(value)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},Email:function(value,element){return $.validator.methods.email.call(this,value,element,!0)},Url:function(value,element){return $.validator.methods.url.call(this,value,element,!0)},File:function(value,element){return!(window.File&&window.FileReader&&window.FileList&&window.Blob)||"files"in element&&element.files.length>0},Mimes:function(value,element,params){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;var lowerParams=$.map(params,(function(item){return item.toLowerCase()})),fileinfo=appValidation.helpers.fileinfo(element);return!1!==fileinfo&&-1!==lowerParams.indexOf(fileinfo.extension.toLowerCase())},Mimetypes:function(value,element,params){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;var lowerParams=$.map(params,(function(item){return item.toLowerCase()})),fileinfo=appValidation.helpers.fileinfo(element);return!1!==fileinfo&&-1!==lowerParams.indexOf(fileinfo.type.toLowerCase())},Image:function(value,element){return appValidation.methods.Mimes.call(this,value,element,["jpg","png","gif","bmp","svg","jpeg"])},Dimensions:function Dimensions(value,element,params,callback){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;if(null===element.files||void 0===element.files[0])return!1;var fr=new FileReader;return fr.onload=function(){var img=new Image;img.onload=function(){var height=parseFloat(img.naturalHeight),width=parseFloat(img.naturalWidth),ratio=width/height,notValid=params.width&&parseFloat(params.width!==width)||params.min_width&&parseFloat(params.min_width)>width||params.max_width&&parseFloat(params.max_width)<width||params.height&&parseFloat(params.height)!==height||params.min_height&&parseFloat(params.min_height)>height||params.max_height&&parseFloat(params.max_height)<height||params.ratio&&ratio!==parseFloat(eval(params.ratio));callback(!notValid)},img.onerror=function(){callback(!1)},img.src=fr.result},fr.readAsDataURL(element.files[0]),"pending"},Alpha:function(value){return"string"==typeof value&&new RegExp("^(?:^[a-zÃ -Ã¼]+$)$","i").test(value)},AlphaNum:function(value){return"string"==typeof value&&new RegExp("^(?:^[a-z0-9Ã -Ã¼]+$)$","i").test(value)},AlphaDash:function(value){return"string"==typeof value&&new RegExp("^(?:^[a-z0-9Ã -Ã¼_-]+$)$","i").test(value)},Regex:function(value,element,params){var invalidModifiers=["x","s","u","X","U","A"],phpReg=new RegExp("^(?:/)(.*\\/?[^/]*|[^/]*)(?:/)([gmixXsuUAJ]*)?$"),matches=params[0].match(phpReg);if(null===matches)return!1;var php_modifiers=[];if(void 0!==matches[2]){php_modifiers=matches[2].split("");for(var i=0;i<php_modifiers.length<i;i++)if(-1!==invalidModifiers.indexOf(php_modifiers[i]))return!0}return new RegExp("^(?:"+matches[1]+")$",php_modifiers.join()).test(value)},Date:function(value){return!1!==appValidation.helpers.strtotime(value)},DateFormat:function(value,element,params){return!1!==appValidation.helpers.parseTime(value,params[0])},Before:function(value,element,params){var timeCompare=parseFloat(params);if(isNaN(timeCompare)){var target=appValidation.helpers.dependentElement(this,element,params);if(void 0===target)return!1;timeCompare=appValidation.helpers.parseTime(this.elementValue(target),target)}var timeValue=appValidation.helpers.parseTime(value,element);return!1!==timeValue&&timeValue<timeCompare},After:function(value,element,params){var timeCompare=parseFloat(params);if(isNaN(timeCompare)){var target=appValidation.helpers.dependentElement(this,element,params);if(void 0===target)return!1;timeCompare=appValidation.helpers.parseTime(this.elementValue(target),target)}var timeValue=appValidation.helpers.parseTime(value,element);return!1!==timeValue&&timeValue>timeCompare},Timezone:function(value){return appValidation.helpers.isTimezone(value)},Json:function(value){var result=!0;try{JSON.parse(value)}catch(e){result=!1}return result}}}),appValidation.init()},global$1=void 0!==global$1?global$1:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},__create=Object.create,__defProp=Object.defineProperty,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__markAsModule=target=>__defProp(target,"__esModule",{value:!0}),__commonJS=(callback,module)=>()=>(module||callback((module={exports:{}}).exports,module),module.exports),__exportStar=(target,module,desc)=>{if(module&&"object"==typeof module||"function"==typeof module)for(let key of __getOwnPropNames(module))__hasOwnProp.call(target,key)||"default"===key||__defProp(target,key,{get:()=>module[key],enumerable:!(desc=__getOwnPropDesc(module,key))||desc.enumerable});return target},__toModule=module=>__exportStar(__markAsModule(__defProp(null!=module?__create(__getProtoOf(module)):{},"default",module&&module.__esModule&&"default"in module?{get:()=>module.default,enumerable:!0}:{value:module,enumerable:!0})),module),require_shared_cjs=__commonJS((exports=>{function makeMap(str,expectsLowerCase){const map=Object.create(null),list=str.split(",");for(let i=0;i<list.length;i++)map[list[i]]=!0;return expectsLowerCase?val=>!!map[val.toLowerCase()]:val=>!!map[val]}Object.defineProperty(exports,"__esModule",{value:!0});var PatchFlagNames={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},slotFlagsText={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},isGloballyWhitelisted=makeMap("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");var specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs),isBooleanAttr2=makeMap(specialBooleanAttrs+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),unsafeAttrCharRE=/[>/="'\u0009\u000a\u000c\u0020]/,attrValidationCache={};var isNoUnitNumericStyleProp=makeMap("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),isKnownAttr=makeMap("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");var listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(cssText){const ret={};return cssText.split(listDelimiterRE).forEach((item=>{if(item){const tmp=item.split(propertyDelimiterRE);tmp.length>1&&(ret[tmp[0].trim()]=tmp[1].trim())}})),ret}var isHTMLTag=makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),isSVGTag=makeMap("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),isVoidTag=makeMap("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),escapeRE=/["'&<>]/;var commentStripRE=/^-?>|<!--|-->|--!>|<!-$/g;function looseEqual(a,b){if(a===b)return!0;let aValidType=isDate(a),bValidType=isDate(b);if(aValidType||bValidType)return!(!aValidType||!bValidType)&&a.getTime()===b.getTime();if(aValidType=isArray(a),bValidType=isArray(b),aValidType||bValidType)return!(!aValidType||!bValidType)&&function(a,b){if(a.length!==b.length)return!1;let equal=!0;for(let i=0;equal&&i<a.length;i++)equal=looseEqual(a[i],b[i]);return equal}(a,b);if(aValidType=isObject(a),bValidType=isObject(b),aValidType||bValidType){if(!aValidType||!bValidType)return!1;if(Object.keys(a).length!==Object.keys(b).length)return!1;for(const key in a){const aHasKey=a.hasOwnProperty(key),bHasKey=b.hasOwnProperty(key);if(aHasKey&&!bHasKey||!aHasKey&&bHasKey||!looseEqual(a[key],b[key]))return!1}}return String(a)===String(b)}var _globalThis,replacer=(_key,val)=>isMap(val)?{[`Map(${val.size})`]:[...val.entries()].reduce(((entries,[key,val2])=>(entries[`${key} =>`]=val2,entries)),{})}:isSet(val)?{[`Set(${val.size})`]:[...val.values()]}:!isObject(val)||isArray(val)||isPlainObject(val)?val:String(val),EMPTY_OBJ=Object.freeze({}),EMPTY_ARR=Object.freeze([]),onRE=/^on[^a-z]/,extend=Object.assign,hasOwnProperty=Object.prototype.hasOwnProperty,isArray=Array.isArray,isMap=val=>"[object Map]"===toTypeString(val),isSet=val=>"[object Set]"===toTypeString(val),isDate=val=>val instanceof Date,isFunction=val=>"function"==typeof val,isString=val=>"string"==typeof val,isObject=val=>null!==val&&"object"==typeof val,objectToString=Object.prototype.toString,toTypeString=value=>objectToString.call(value),isPlainObject=val=>"[object Object]"===toTypeString(val),isReservedProp=makeMap(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=fn=>{const cache=Object.create(null);return str=>cache[str]||(cache[str]=fn(str))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction((str=>str.replace(camelizeRE,((_,c)=>c?c.toUpperCase():"")))),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction((str=>str.replace(hyphenateRE,"-$1").toLowerCase())),capitalize=cacheStringFunction((str=>str.charAt(0).toUpperCase()+str.slice(1))),toHandlerKey=cacheStringFunction((str=>str?`on${capitalize(str)}`:""));exports.EMPTY_ARR=EMPTY_ARR,exports.EMPTY_OBJ=EMPTY_OBJ,exports.NO=()=>!1,exports.NOOP=()=>{},exports.PatchFlagNames=PatchFlagNames,exports.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"],exports.camelize=camelize,exports.capitalize=capitalize,exports.def=(obj,key,value)=>{Object.defineProperty(obj,key,{configurable:!0,enumerable:!1,value:value})},exports.escapeHtml=function(string){const str=""+string,match=escapeRE.exec(str);if(!match)return str;let escaped,index,html="",lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escaped="&quot;";break;case 38:escaped="&amp;";break;case 39:escaped="&#39;";break;case 60:escaped="&lt;";break;case 62:escaped="&gt;";break;default:continue}lastIndex!==index&&(html+=str.substring(lastIndex,index)),lastIndex=index+1,html+=escaped}return lastIndex!==index?html+str.substring(lastIndex,index):html},exports.escapeHtmlComment=function(src){return src.replace(commentStripRE,"")},exports.extend=extend,exports.generateCodeFrame=function(source,start2=0,end=source.length){const lines=source.split(/\r?\n/);let count=0;const res=[];for(let i=0;i<lines.length;i++)if(count+=lines[i].length+1,count>=start2){for(let j=i-2;j<=i+2||end>count;j++){if(j<0||j>=lines.length)continue;const line=j+1;res.push(`${line}${" ".repeat(Math.max(3-String(line).length,0))}|  ${lines[j]}`);const lineLength=lines[j].length;if(j===i){const pad=start2-(count-lineLength)+1,length=Math.max(1,end>count?lineLength-pad:end-start2);res.push("   |  "+" ".repeat(pad)+"^".repeat(length))}else if(j>i){if(end>count){const length=Math.max(Math.min(end-count,lineLength),1);res.push("   |  "+"^".repeat(length))}count+=lineLength+1}}break}return res.join("\n")},exports.getGlobalThis=()=>_globalThis||(_globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global$1?global$1:{}),exports.hasChanged=(value,oldValue)=>value!==oldValue&&(value==value||oldValue==oldValue),exports.hasOwn=(val,key)=>hasOwnProperty.call(val,key),exports.hyphenate=hyphenate,exports.invokeArrayFns=(fns,arg)=>{for(let i=0;i<fns.length;i++)fns[i](arg)},exports.isArray=isArray,exports.isBooleanAttr=isBooleanAttr2,exports.isDate=isDate,exports.isFunction=isFunction,exports.isGloballyWhitelisted=isGloballyWhitelisted,exports.isHTMLTag=isHTMLTag,exports.isIntegerKey=key=>isString(key)&&"NaN"!==key&&"-"!==key[0]&&""+parseInt(key,10)===key,exports.isKnownAttr=isKnownAttr,exports.isMap=isMap,exports.isModelListener=key=>key.startsWith("onUpdate:"),exports.isNoUnitNumericStyleProp=isNoUnitNumericStyleProp,exports.isObject=isObject,exports.isOn=key=>onRE.test(key),exports.isPlainObject=isPlainObject,exports.isPromise=val=>isObject(val)&&isFunction(val.then)&&isFunction(val.catch),exports.isReservedProp=isReservedProp,exports.isSSRSafeAttrName=function(name){if(attrValidationCache.hasOwnProperty(name))return attrValidationCache[name];const isUnsafe=unsafeAttrCharRE.test(name);return isUnsafe&&console.error(`unsafe attribute name: ${name}`),attrValidationCache[name]=!isUnsafe},exports.isSVGTag=isSVGTag,exports.isSet=isSet,exports.isSpecialBooleanAttr=isSpecialBooleanAttr,exports.isString=isString,exports.isSymbol=val=>"symbol"==typeof val,exports.isVoidTag=isVoidTag,exports.looseEqual=looseEqual,exports.looseIndexOf=function(arr,val){return arr.findIndex((item=>looseEqual(item,val)))},exports.makeMap=makeMap,exports.normalizeClass=function normalizeClass(value){let res="";if(isString(value))res=value;else if(isArray(value))for(let i=0;i<value.length;i++){const normalized=normalizeClass(value[i]);normalized&&(res+=normalized+" ")}else if(isObject(value))for(const name in value)value[name]&&(res+=name+" ");return res.trim()},exports.normalizeStyle=function normalizeStyle(value){if(isArray(value)){const res={};for(let i=0;i<value.length;i++){const item=value[i],normalized=normalizeStyle(isString(item)?parseStringStyle(item):item);if(normalized)for(const key in normalized)res[key]=normalized[key]}return res}if(isObject(value))return value},exports.objectToString=objectToString,exports.parseStringStyle=parseStringStyle,exports.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},exports.remove=(arr,el)=>{const i=arr.indexOf(el);i>-1&&arr.splice(i,1)},exports.slotFlagsText=slotFlagsText,exports.stringifyStyle=function(styles){let ret="";if(!styles)return ret;for(const key in styles){const value=styles[key],normalizedKey=key.startsWith("--")?key:hyphenate(key);(isString(value)||"number"==typeof value&&isNoUnitNumericStyleProp(normalizedKey))&&(ret+=`${normalizedKey}:${value};`)}return ret},exports.toDisplayString=val=>null==val?"":isObject(val)?JSON.stringify(val,replacer,2):String(val),exports.toHandlerKey=toHandlerKey,exports.toNumber=val=>{const n=parseFloat(val);return isNaN(n)?val:n},exports.toRawType=value=>toTypeString(value).slice(8,-1),exports.toTypeString=toTypeString})),require_shared=__commonJS(((exports,module)=>{module.exports=require_shared_cjs()})),require_reactivity_cjs=__commonJS((exports=>{Object.defineProperty(exports,"__esModule",{value:!0});var activeEffect,shared=require_shared(),targetMap=new WeakMap,effectStack=[],ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function effect3(fn,options=shared.EMPTY_OBJ){(function(fn){return fn&&!0===fn._isEffect})(fn)&&(fn=fn.raw);const effect4=function(fn,options){const effect4=function(){if(!effect4.active)return fn();if(!effectStack.includes(effect4)){cleanup(effect4);try{return enableTracking(),effectStack.push(effect4),activeEffect=effect4,fn()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return effect4.id=uid++,effect4.allowRecurse=!!options.allowRecurse,effect4._isEffect=!0,effect4.active=!0,effect4.raw=fn,effect4.deps=[],effect4.options=options,effect4}(fn,options);return options.lazy||effect4(),effect4}var uid=0;function cleanup(effect4){const{deps:deps}=effect4;if(deps.length){for(let i=0;i<deps.length;i++)deps[i].delete(effect4);deps.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const last=trackStack.pop();shouldTrack=void 0===last||last}function track(target,type,key){if(!shouldTrack||void 0===activeEffect)return;let depsMap=targetMap.get(target);depsMap||targetMap.set(target,depsMap=new Map);let dep=depsMap.get(key);dep||depsMap.set(key,dep=new Set),dep.has(activeEffect)||(dep.add(activeEffect),activeEffect.deps.push(dep),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:target,type:type,key:key}))}function trigger(target,type,key,newValue,oldValue,oldTarget){const depsMap=targetMap.get(target);if(!depsMap)return;const effects=new Set,add2=effectsToAdd=>{effectsToAdd&&effectsToAdd.forEach((effect4=>{(effect4!==activeEffect||effect4.allowRecurse)&&effects.add(effect4)}))};if("clear"===type)depsMap.forEach(add2);else if("length"===key&&shared.isArray(target))depsMap.forEach(((dep,key2)=>{("length"===key2||key2>=newValue)&&add2(dep)}));else switch(void 0!==key&&add2(depsMap.get(key)),type){case"add":shared.isArray(target)?shared.isIntegerKey(key)&&add2(depsMap.get("length")):(add2(depsMap.get(ITERATE_KEY)),shared.isMap(target)&&add2(depsMap.get(MAP_KEY_ITERATE_KEY)));break;case"delete":shared.isArray(target)||(add2(depsMap.get(ITERATE_KEY)),shared.isMap(target)&&add2(depsMap.get(MAP_KEY_ITERATE_KEY)));break;case"set":shared.isMap(target)&&add2(depsMap.get(ITERATE_KEY))}effects.forEach((effect4=>{effect4.options.onTrigger&&effect4.options.onTrigger({effect:effect4,target:target,key:key,type:type,newValue:newValue,oldValue:oldValue,oldTarget:oldTarget}),effect4.options.scheduler?effect4.options.scheduler(effect4):effect4()}))}var isNonTrackableKeys=shared.makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map((key=>Symbol[key])).filter(shared.isSymbol)),get2=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations={};function createGetter(isReadonly2=!1,shallow=!1){return function(target,key,receiver){if("__v_isReactive"===key)return!isReadonly2;if("__v_isReadonly"===key)return isReadonly2;if("__v_raw"===key&&receiver===(isReadonly2?shallow?shallowReadonlyMap:readonlyMap:shallow?shallowReactiveMap:reactiveMap).get(target))return target;const targetIsArray=shared.isArray(target);if(!isReadonly2&&targetIsArray&&shared.hasOwn(arrayInstrumentations,key))return Reflect.get(arrayInstrumentations,key,receiver);const res=Reflect.get(target,key,receiver);if(shared.isSymbol(key)?builtInSymbols.has(key):isNonTrackableKeys(key))return res;if(isReadonly2||track(target,"get",key),shallow)return res;if(isRef(res)){return!targetIsArray||!shared.isIntegerKey(key)?res.value:res}return shared.isObject(res)?isReadonly2?readonly(res):reactive3(res):res}}["includes","indexOf","lastIndexOf"].forEach((key=>{const method=Array.prototype[key];arrayInstrumentations[key]=function(...args){const arr=toRaw2(this);for(let i=0,l=this.length;i<l;i++)track(arr,"get",i+"");const res=method.apply(arr,args);return-1===res||!1===res?method.apply(arr,args.map(toRaw2)):res}})),["push","pop","shift","unshift","splice"].forEach((key=>{const method=Array.prototype[key];arrayInstrumentations[key]=function(...args){pauseTracking();const res=method.apply(this,args);return resetTracking(),res}}));var set2=createSetter(),shallowSet=createSetter(!0);function createSetter(shallow=!1){return function(target,key,value,receiver){let oldValue=target[key];if(!shallow&&(value=toRaw2(value),oldValue=toRaw2(oldValue),!shared.isArray(target)&&isRef(oldValue)&&!isRef(value)))return oldValue.value=value,!0;const hadKey=shared.isArray(target)&&shared.isIntegerKey(key)?Number(key)<target.length:shared.hasOwn(target,key),result=Reflect.set(target,key,value,receiver);return target===toRaw2(receiver)&&(hadKey?shared.hasChanged(value,oldValue)&&trigger(target,"set",key,value,oldValue):trigger(target,"add",key,value)),result}}var mutableHandlers={get:get2,set:set2,deleteProperty:function(target,key){const hadKey=shared.hasOwn(target,key),oldValue=target[key],result=Reflect.deleteProperty(target,key);return result&&hadKey&&trigger(target,"delete",key,void 0,oldValue),result},has:function(target,key){const result=Reflect.has(target,key);return shared.isSymbol(key)&&builtInSymbols.has(key)||track(target,"has",key),result},ownKeys:function(target){return track(target,"iterate",shared.isArray(target)?"length":ITERATE_KEY),Reflect.ownKeys(target)}},readonlyHandlers={get:readonlyGet,set:(target,key)=>(console.warn(`Set operation on key "${String(key)}" failed: target is readonly.`,target),!0),deleteProperty:(target,key)=>(console.warn(`Delete operation on key "${String(key)}" failed: target is readonly.`,target),!0)},shallowReactiveHandlers=shared.extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=shared.extend({},readonlyHandlers,{get:shallowReadonlyGet}),toReactive=value=>shared.isObject(value)?reactive3(value):value,toReadonly=value=>shared.isObject(value)?readonly(value):value,toShallow=value=>value,getProto=v=>Reflect.getPrototypeOf(v);function get$1(target,key,isReadonly2=!1,isShallow=!1){const rawTarget=toRaw2(target=target.__v_raw),rawKey=toRaw2(key);key!==rawKey&&!isReadonly2&&track(rawTarget,"get",key),!isReadonly2&&track(rawTarget,"get",rawKey);const{has:has2}=getProto(rawTarget),wrap=isShallow?toShallow:isReadonly2?toReadonly:toReactive;return has2.call(rawTarget,key)?wrap(target.get(key)):has2.call(rawTarget,rawKey)?wrap(target.get(rawKey)):void(target!==rawTarget&&target.get(key))}function has$1(key,isReadonly2=!1){const target=this.__v_raw,rawTarget=toRaw2(target),rawKey=toRaw2(key);return key!==rawKey&&!isReadonly2&&track(rawTarget,"has",key),!isReadonly2&&track(rawTarget,"has",rawKey),key===rawKey?target.has(key):target.has(key)||target.has(rawKey)}function size(target,isReadonly2=!1){return target=target.__v_raw,!isReadonly2&&track(toRaw2(target),"iterate",ITERATE_KEY),Reflect.get(target,"size",target)}function add(value){value=toRaw2(value);const target=toRaw2(this);return getProto(target).has.call(target,value)||(target.add(value),trigger(target,"add",value,value)),this}function set$1(key,value){value=toRaw2(value);const target=toRaw2(this),{has:has2,get:get3}=getProto(target);let hadKey=has2.call(target,key);hadKey?checkIdentityKeys(target,has2,key):(key=toRaw2(key),hadKey=has2.call(target,key));const oldValue=get3.call(target,key);return target.set(key,value),hadKey?shared.hasChanged(value,oldValue)&&trigger(target,"set",key,value,oldValue):trigger(target,"add",key,value),this}function deleteEntry(key){const target=toRaw2(this),{has:has2,get:get3}=getProto(target);let hadKey=has2.call(target,key);hadKey?checkIdentityKeys(target,has2,key):(key=toRaw2(key),hadKey=has2.call(target,key));const oldValue=get3?get3.call(target,key):void 0,result=target.delete(key);return hadKey&&trigger(target,"delete",key,void 0,oldValue),result}function clear(){const target=toRaw2(this),hadItems=0!==target.size,oldTarget=shared.isMap(target)?new Map(target):new Set(target),result=target.clear();return hadItems&&trigger(target,"clear",void 0,void 0,oldTarget),result}function createForEach(isReadonly2,isShallow){return function(callback,thisArg){const observed=this,target=observed.__v_raw,rawTarget=toRaw2(target),wrap=isShallow?toShallow:isReadonly2?toReadonly:toReactive;return!isReadonly2&&track(rawTarget,"iterate",ITERATE_KEY),target.forEach(((value,key)=>callback.call(thisArg,wrap(value),wrap(key),observed)))}}function createIterableMethod(method,isReadonly2,isShallow){return function(...args){const target=this.__v_raw,rawTarget=toRaw2(target),targetIsMap=shared.isMap(rawTarget),isPair="entries"===method||method===Symbol.iterator&&targetIsMap,isKeyOnly="keys"===method&&targetIsMap,innerIterator=target[method](...args),wrap=isShallow?toShallow:isReadonly2?toReadonly:toReactive;return!isReadonly2&&track(rawTarget,"iterate",isKeyOnly?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:value,done:done}=innerIterator.next();return done?{value:value,done:done}:{value:isPair?[wrap(value[0]),wrap(value[1])]:wrap(value),done:done}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(type){return function(...args){{const key=args[0]?`on key "${args[0]}" `:"";console.warn(`${shared.capitalize(type)} operation ${key}failed: target is readonly.`,toRaw2(this))}return"delete"!==type&&this}}var mutableInstrumentations={get(key){return get$1(this,key)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!1)},shallowInstrumentations={get(key){return get$1(this,key,!1,!0)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!0)},readonlyInstrumentations={get(key){return get$1(this,key,!0)},get size(){return size(this,!0)},has(key){return has$1.call(this,key,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},shallowReadonlyInstrumentations={get(key){return get$1(this,key,!0,!0)},get size(){return size(this,!0)},has(key){return has$1.call(this,key,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};function createInstrumentationGetter(isReadonly2,shallow){const instrumentations=shallow?isReadonly2?shallowReadonlyInstrumentations:shallowInstrumentations:isReadonly2?readonlyInstrumentations:mutableInstrumentations;return(target,key,receiver)=>"__v_isReactive"===key?!isReadonly2:"__v_isReadonly"===key?isReadonly2:"__v_raw"===key?target:Reflect.get(shared.hasOwn(instrumentations,key)&&key in target?instrumentations:target,key,receiver)}["keys","values","entries",Symbol.iterator].forEach((method=>{mutableInstrumentations[method]=createIterableMethod(method,!1,!1),readonlyInstrumentations[method]=createIterableMethod(method,!0,!1),shallowInstrumentations[method]=createIterableMethod(method,!1,!0),shallowReadonlyInstrumentations[method]=createIterableMethod(method,!0,!0)}));var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)};function checkIdentityKeys(target,has2,key){const rawKey=toRaw2(key);if(rawKey!==key&&has2.call(target,rawKey)){const type=shared.toRawType(target);console.warn(`Reactive ${type} contains both the raw and reactive versions of the same object${"Map"===type?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function reactive3(target){return target&&target.__v_isReadonly?target:createReactiveObject(target,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(target){return createReactiveObject(target,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(target,isReadonly2,baseHandlers,collectionHandlers,proxyMap){if(!shared.isObject(target))return console.warn(`value cannot be made reactive: ${String(target)}`),target;if(target.__v_raw&&(!isReadonly2||!target.__v_isReactive))return target;const existingProxy=proxyMap.get(target);if(existingProxy)return existingProxy;const targetType=(value=target).__v_skip||!Object.isExtensible(value)?0:function(rawType){switch(rawType){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(shared.toRawType(value));var value;if(0===targetType)return target;const proxy=new Proxy(target,2===targetType?collectionHandlers:baseHandlers);return proxyMap.set(target,proxy),proxy}function isReactive2(value){return isReadonly(value)?isReactive2(value.__v_raw):!(!value||!value.__v_isReactive)}function isReadonly(value){return!(!value||!value.__v_isReadonly)}function isProxy(value){return isReactive2(value)||isReadonly(value)}function toRaw2(observed){return observed&&toRaw2(observed.__v_raw)||observed}var convert=val=>shared.isObject(val)?reactive3(val):val;function isRef(r){return Boolean(r&&!0===r.__v_isRef)}function createRef(rawValue,shallow=!1){return isRef(rawValue)?rawValue:new class{constructor(_rawValue,_shallow=!1){this._rawValue=_rawValue,this._shallow=_shallow,this.__v_isRef=!0,this._value=_shallow?_rawValue:convert(_rawValue)}get value(){return track(toRaw2(this),"get","value"),this._value}set value(newVal){shared.hasChanged(toRaw2(newVal),this._rawValue)&&(this._rawValue=newVal,this._value=this._shallow?newVal:convert(newVal),trigger(toRaw2(this),"set","value",newVal))}}(rawValue,shallow)}function unref(ref2){return isRef(ref2)?ref2.value:ref2}var shallowUnwrapHandlers={get:(target,key,receiver)=>unref(Reflect.get(target,key,receiver)),set:(target,key,value,receiver)=>{const oldValue=target[key];return isRef(oldValue)&&!isRef(value)?(oldValue.value=value,!0):Reflect.set(target,key,value,receiver)}};function toRef(object,key){return isRef(object[key])?object[key]:new class{constructor(_object,_key){this._object=_object,this._key=_key,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(newVal){this._object[this._key]=newVal}}(object,key)}exports.ITERATE_KEY=ITERATE_KEY,exports.computed=function(getterOrOptions){let getter,setter;return shared.isFunction(getterOrOptions)?(getter=getterOrOptions,setter=()=>{console.warn("Write operation failed: computed value is readonly")}):(getter=getterOrOptions.get,setter=getterOrOptions.set),new class{constructor(getter,_setter,isReadonly2){this._setter=_setter,this._dirty=!0,this.__v_isRef=!0,this.effect=effect3(getter,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,trigger(toRaw2(this),"set","value"))}}),this.__v_isReadonly=isReadonly2}get value(){const self2=toRaw2(this);return self2._dirty&&(self2._value=this.effect(),self2._dirty=!1),track(self2,"get","value"),self2._value}set value(newValue){this._setter(newValue)}}(getter,setter,shared.isFunction(getterOrOptions)||!getterOrOptions.set)},exports.customRef=function(factory){return new class{constructor(factory){this.__v_isRef=!0;const{get:get3,set:set3}=factory((()=>track(this,"get","value")),(()=>trigger(this,"set","value")));this._get=get3,this._set=set3}get value(){return this._get()}set value(newVal){this._set(newVal)}}(factory)},exports.effect=effect3,exports.enableTracking=enableTracking,exports.isProxy=isProxy,exports.isReactive=isReactive2,exports.isReadonly=isReadonly,exports.isRef=isRef,exports.markRaw=function(value){return shared.def(value,"__v_skip",!0),value},exports.pauseTracking=pauseTracking,exports.proxyRefs=function(objectWithRefs){return isReactive2(objectWithRefs)?objectWithRefs:new Proxy(objectWithRefs,shallowUnwrapHandlers)},exports.reactive=reactive3,exports.readonly=readonly,exports.ref=function(value){return createRef(value)},exports.resetTracking=resetTracking,exports.shallowReactive=function(target){return createReactiveObject(target,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)},exports.shallowReadonly=function(target){return createReactiveObject(target,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)},exports.shallowRef=function(value){return createRef(value,!0)},exports.stop=function(effect4){effect4.active&&(cleanup(effect4),effect4.options.onStop&&effect4.options.onStop(),effect4.active=!1)},exports.toRaw=toRaw2,exports.toRef=toRef,exports.toRefs=function(object){isProxy(object)||console.warn("toRefs() expects a reactive object but received a plain one.");const ret=shared.isArray(object)?new Array(object.length):{};for(const key in object)ret[key]=toRef(object,key);return ret},exports.track=track,exports.trigger=trigger,exports.triggerRef=function(ref2){trigger(toRaw2(ref2),"set","value",ref2.value)},exports.unref=unref})),require_reactivity=__commonJS(((exports,module)=>{module.exports=require_reactivity_cjs()})),flushPending=!1,flushing=!1,queue=[],reactive,effect,release,raw;function scheduler(callback){queueJob(callback)}function queueJob(job){queue.includes(job)||queue.push(job),queueFlush()}function queueFlush(){flushing||flushPending||(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let i=0;i<queue.length;i++)queue[i]();queue.length=0,flushing=!1}var shouldSchedule=!0;function disableEffectScheduling(callback){shouldSchedule=!1,callback(),shouldSchedule=!0}function setReactivityEngine(engine){reactive=engine.reactive,release=engine.release,effect=callback=>engine.effect(callback,{scheduler:task=>{shouldSchedule?scheduler(task):task()}}),raw=engine.raw}function overrideEffect(override){effect=override}function elementBoundEffect(el){let cleanup=()=>{};return[callback=>{let effectReference=effect(callback);el._x_effects||(el._x_effects=new Set,el._x_runEffects=()=>{el._x_effects.forEach((i=>i()))}),el._x_effects.add(effectReference),cleanup=()=>{void 0!==effectReference&&(el._x_effects.delete(effectReference),release(effectReference))}},()=>{cleanup()}]}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(callback){onElAddeds.push(callback)}function onElRemoved(callback){onElRemoveds.push(callback)}function onAttributesAdded(callback){onAttributeAddeds.push(callback)}function onAttributeRemoved(el,name,callback){el._x_attributeCleanups||(el._x_attributeCleanups={}),el._x_attributeCleanups[name]||(el._x_attributeCleanups[name]=[]),el._x_attributeCleanups[name].push(callback)}function cleanupAttributes(el,names){el._x_attributeCleanups&&Object.entries(el._x_attributeCleanups).forEach((([name,value])=>{(void 0===names||names.includes(name))&&(value.forEach((i=>i())),delete el._x_attributeCleanups[name])}))}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){(recordQueue=recordQueue.concat(observer.takeRecords())).length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask((()=>{processRecordQueue(),willProcessRecordQueue=!1})))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(callback){if(!currentlyObserving)return callback();stopObservingMutations();let result=callback();return startObservingMutations(),result}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(mutations){if(isCollecting)return void(deferredMutations=deferredMutations.concat(mutations));let addedNodes=[],removedNodes=[],addedAttributes=new Map,removedAttributes=new Map;for(let i=0;i<mutations.length;i++)if(!mutations[i].target._x_ignoreMutationObserver&&("childList"===mutations[i].type&&(mutations[i].addedNodes.forEach((node=>1===node.nodeType&&addedNodes.push(node))),mutations[i].removedNodes.forEach((node=>1===node.nodeType&&removedNodes.push(node)))),"attributes"===mutations[i].type)){let el=mutations[i].target,name=mutations[i].attributeName,oldValue=mutations[i].oldValue,add=()=>{addedAttributes.has(el)||addedAttributes.set(el,[]),addedAttributes.get(el).push({name:name,value:el.getAttribute(name)})},remove=()=>{removedAttributes.has(el)||removedAttributes.set(el,[]),removedAttributes.get(el).push(name)};el.hasAttribute(name)&&null===oldValue?add():el.hasAttribute(name)?(remove(),add()):remove()}removedAttributes.forEach(((attrs,el)=>{cleanupAttributes(el,attrs)})),addedAttributes.forEach(((attrs,el)=>{onAttributeAddeds.forEach((i=>i(el,attrs)))}));for(let node of addedNodes)removedNodes.includes(node)||onElAddeds.forEach((i=>i(node)));for(let node of removedNodes)addedNodes.includes(node)||onElRemoveds.forEach((i=>i(node)));addedNodes=null,removedNodes=null,addedAttributes=null,removedAttributes=null}function addScopeToNode(node,data2,referenceNode){return node._x_dataStack=[data2,...closestDataStack(referenceNode||node)],()=>{node._x_dataStack=node._x_dataStack.filter((i=>i!==data2))}}function refreshScope(element,scope){let existingScope=element._x_dataStack[0];Object.entries(scope).forEach((([key,value])=>{existingScope[key]=value}))}function closestDataStack(node){return node._x_dataStack?node._x_dataStack:"function"==typeof ShadowRoot&&node instanceof ShadowRoot?closestDataStack(node.host):node.parentNode?closestDataStack(node.parentNode):[]}function mergeProxies(objects){let thisProxy=new Proxy({},{ownKeys:()=>Array.from(new Set(objects.flatMap((i=>Object.keys(i))))),has:(target,name)=>objects.some((obj=>obj.hasOwnProperty(name))),get:(target,name)=>(objects.find((obj=>{if(obj.hasOwnProperty(name)){let descriptor=Object.getOwnPropertyDescriptor(obj,name);if(descriptor.get&&descriptor.get._x_alreadyBound||descriptor.set&&descriptor.set._x_alreadyBound)return!0;if((descriptor.get||descriptor.set)&&descriptor.enumerable){let getter=descriptor.get,setter=descriptor.set,property=descriptor;getter=getter&&getter.bind(thisProxy),setter=setter&&setter.bind(thisProxy),getter&&(getter._x_alreadyBound=!0),setter&&(setter._x_alreadyBound=!0),Object.defineProperty(obj,name,{...property,get:getter,set:setter})}return!0}return!1}))||{})[name],set:(target,name,value)=>{let closestObjectWithKey=objects.find((obj=>obj.hasOwnProperty(name)));return closestObjectWithKey?closestObjectWithKey[name]=value:objects[objects.length-1][name]=value,!0}});return thisProxy}function initInterceptors(data2){let recurse=(obj,basePath="")=>{Object.entries(Object.getOwnPropertyDescriptors(obj)).forEach((([key,{value:value,enumerable:enumerable}])=>{if(!1===enumerable||void 0===value)return;let path=""===basePath?key:`${basePath}.${key}`;var val;"object"==typeof value&&null!==value&&value._x_interceptor?obj[key]=value.initialize(data2,path,key):"object"!=typeof(val=value)||Array.isArray(val)||null===val||value===obj||value instanceof Element||recurse(value,path)}))};return recurse(data2)}function interceptor(callback,mutateObj=(()=>{})){let obj={initialValue:void 0,_x_interceptor:!0,initialize(data2,path,key){return callback(this.initialValue,(()=>get(data2,path)),(value=>set(data2,path,value)),path,key)}};return mutateObj(obj),initialValue=>{if("object"==typeof initialValue&&null!==initialValue&&initialValue._x_interceptor){let initialize=obj.initialize.bind(obj);obj.initialize=(data2,path,key)=>{let innerValue=initialValue.initialize(data2,path,key);return obj.initialValue=innerValue,initialize(data2,path,key)}}else obj.initialValue=initialValue;return obj}}function get(obj,path){return path.split(".").reduce(((carry,segment)=>carry[segment]),obj)}function set(obj,path,value){if("string"==typeof path&&(path=path.split(".")),1!==path.length){if(0===path.length)throw error;return obj[path[0]]||(obj[path[0]]={}),set(obj[path[0]],path.slice(1),value)}obj[path[0]]=value}var magics={};function magic(name,callback){magics[name]=callback}function injectMagics(obj,el){return Object.entries(magics).forEach((([name,callback])=>{Object.defineProperty(obj,`$${name}`,{get:()=>callback(el,{Alpine:alpine_default,interceptor:interceptor}),enumerable:!1})})),obj}function tryCatch(el,expression,callback,...args){try{return callback(...args)}catch(e){handleError(e,el,expression)}}function handleError(error2,el,expression){Object.assign(error2,{el:el,expression:expression}),console.warn(`Alpine Expression Error: ${error2.message}\n\n${expression?'Expression: "'+expression+'"\n\n':""}`,el),setTimeout((()=>{throw error2}),0)}function evaluate(el,expression,extras={}){let result;return evaluateLater(el,expression)((value=>result=value),extras),result}function evaluateLater(...args){return theEvaluatorFunction(...args)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(newEvaluator){theEvaluatorFunction=newEvaluator}function normalEvaluator(el,expression){let overriddenMagics={};injectMagics(overriddenMagics,el);let dataStack=[overriddenMagics,...closestDataStack(el)];if("function"==typeof expression)return generateEvaluatorFromFunction(dataStack,expression);let evaluator=generateEvaluatorFromString(dataStack,expression,el);return tryCatch.bind(null,el,expression,evaluator)}function generateEvaluatorFromFunction(dataStack,func){return(receiver=(()=>{}),{scope:scope={},params:params=[]}={})=>{runIfTypeOfFunction(receiver,func.apply(mergeProxies([scope,...dataStack]),params))}}var evaluatorMemo={};function generateFunctionFromString(expression,el){if(evaluatorMemo[expression])return evaluatorMemo[expression];let AsyncFunction=Object.getPrototypeOf((async function(){})).constructor,rightSideSafeExpression=/^[\n\s]*if.*\(.*\)/.test(expression)||/^(let|const)\s/.test(expression)?`(() => { ${expression} })()`:expression;let func=(()=>{try{return new AsyncFunction(["__self","scope"],`with (scope) { __self.result = ${rightSideSafeExpression} }; __self.finished = true; return __self.result;`)}catch(error2){return handleError(error2,el,expression),Promise.resolve()}})();return evaluatorMemo[expression]=func,func}function generateEvaluatorFromString(dataStack,expression,el){let func=generateFunctionFromString(expression,el);return(receiver=(()=>{}),{scope:scope={},params:params=[]}={})=>{func.result=void 0,func.finished=!1;let completeScope=mergeProxies([scope,...dataStack]);if("function"==typeof func){let promise=func(func,completeScope).catch((error2=>handleError(error2,el,expression)));func.finished?runIfTypeOfFunction(receiver,func.result,completeScope,params,el):promise.then((result=>{runIfTypeOfFunction(receiver,result,completeScope,params,el)})).catch((error2=>handleError(error2,el,expression)))}}}function runIfTypeOfFunction(receiver,value,scope,params,el){if("function"==typeof value){let result=value.apply(scope,params);result instanceof Promise?result.then((i=>runIfTypeOfFunction(receiver,i,scope,params))).catch((error2=>handleError(error2,el,value))):receiver(result)}else receiver(value)}var prefixAsString="x-";function prefix(subject=""){return prefixAsString+subject}function setPrefix(newPrefix){prefixAsString=newPrefix}var directiveHandlers={};function directive(name,callback){directiveHandlers[name]=callback}function directives(el,attributes,originalAttributeOverride){let transformedAttributeMap={};return Array.from(attributes).map(toTransformedAttributes(((newName,oldName)=>transformedAttributeMap[newName]=oldName))).filter(outNonAlpineAttributes).map(toParsedDirectives(transformedAttributeMap,originalAttributeOverride)).sort(byPriority).map((directive2=>getDirectiveHandler(el,directive2)))}function attributesOnly(attributes){return Array.from(attributes).map(toTransformedAttributes()).filter((attr=>!outNonAlpineAttributes(attr)))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(callback){isDeferringHandlers=!0;let key=Symbol();currentHandlerStackKey=key,directiveHandlerStacks.set(key,[]);let flushHandlers=()=>{for(;directiveHandlerStacks.get(key).length;)directiveHandlerStacks.get(key).shift()();directiveHandlerStacks.delete(key)};callback(flushHandlers),isDeferringHandlers=!1,flushHandlers()}function getDirectiveHandler(el,directive2){let handler3=directiveHandlers[directive2.type]||(()=>{}),cleanups=[],[effect3,cleanupEffect]=elementBoundEffect(el);cleanups.push(cleanupEffect);let utilities={Alpine:alpine_default,effect:effect3,cleanup:callback=>cleanups.push(callback),evaluateLater:evaluateLater.bind(evaluateLater,el),evaluate:evaluate.bind(evaluate,el)},doCleanup=()=>cleanups.forEach((i=>i()));onAttributeRemoved(el,directive2.original,doCleanup);let fullHandler=()=>{el._x_ignore||el._x_ignoreSelf||(handler3.inline&&handler3.inline(el,directive2,utilities),handler3=handler3.bind(handler3,el,directive2,utilities),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(handler3):handler3())};return fullHandler.runCleanups=doCleanup,fullHandler}var startingWith=(subject,replacement)=>({name:name,value:value})=>(name.startsWith(subject)&&(name=name.replace(subject,replacement)),{name:name,value:value}),into=i=>i;function toTransformedAttributes(callback=(()=>{})){return({name:name,value:value})=>{let{name:newName,value:newValue}=attributeTransformers.reduce(((carry,transform)=>transform(carry)),{name:name,value:value});return newName!==name&&callback(newName,name),{name:newName,value:newValue}}}var attributeTransformers=[];function mapAttributes(callback){attributeTransformers.push(callback)}function outNonAlpineAttributes({name:name}){return alpineAttributeRegex().test(name)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(transformedAttributeMap,originalAttributeOverride){return({name:name,value:value})=>{let typeMatch=name.match(alpineAttributeRegex()),valueMatch=name.match(/:([a-zA-Z0-9\-:]+)/),modifiers=name.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],original=originalAttributeOverride||transformedAttributeMap[name]||name;return{type:typeMatch?typeMatch[1]:null,value:valueMatch?valueMatch[1]:null,modifiers:modifiers.map((i=>i.replace(".",""))),expression:value,original:original}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","bind","init","for","model","transition","show","if",DEFAULT,"element"];function byPriority(a,b){let typeA=-1===directiveOrder.indexOf(a.type)?DEFAULT:a.type,typeB=-1===directiveOrder.indexOf(b.type)?DEFAULT:b.type;return directiveOrder.indexOf(typeA)-directiveOrder.indexOf(typeB)}function dispatch(el,name,detail={}){el.dispatchEvent(new CustomEvent(name,{detail:detail,bubbles:!0,composed:!0,cancelable:!0}))}var tickStack=[],isHolding=!1;function nextTick(callback){tickStack.push(callback),queueMicrotask((()=>{isHolding||setTimeout((()=>{releaseNextTicks()}))}))}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function walk(el,callback){if("function"==typeof ShadowRoot&&el instanceof ShadowRoot)return void Array.from(el.children).forEach((el2=>walk(el2,callback)));let skip=!1;if(callback(el,(()=>skip=!0)),skip)return;let node=el.firstElementChild;for(;node;)walk(node,callback),node=node.nextElementSibling}function warn(message,...args){console.warn(`Alpine Warning: ${message}`,...args)}function start(){document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded((el=>initTree(el,walk))),onElRemoved((el=>nextTick((()=>destroyTree(el))))),onAttributesAdded(((el,attrs)=>{directives(el,attrs).forEach((handle=>handle()))}));Array.from(document.querySelectorAll(allSelectors())).filter((el=>!closestRoot(el.parentElement,!0))).forEach((el=>{initTree(el)})),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map((fn=>fn()))}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map((fn=>fn()))}function addRootSelector(selectorCallback){rootSelectorCallbacks.push(selectorCallback)}function addInitSelector(selectorCallback){initSelectorCallbacks.push(selectorCallback)}function closestRoot(el,includeInitSelectors=!1){if(!el)return;return(includeInitSelectors?allSelectors():rootSelectors()).some((selector=>el.matches(selector)))?el:el.parentElement?closestRoot(el.parentElement,includeInitSelectors):void 0}function isRoot(el){return rootSelectors().some((selector=>el.matches(selector)))}function initTree(el,walker=walk){deferHandlingDirectives((()=>{walker(el,((el2,skip)=>{directives(el2,el2.attributes).forEach((handle=>handle())),el2._x_ignore&&skip()}))}))}function destroyTree(root){walk(root,(el=>cleanupAttributes(el)))}function setClasses(el,value){return Array.isArray(value)?setClassesFromString(el,value.join(" ")):"object"==typeof value&&null!==value?setClassesFromObject(el,value):"function"==typeof value?setClasses(el,value()):setClassesFromString(el,value)}function setClassesFromString(el,classString){return classString=!0===classString?classString="":classString||"",classes=classString.split(" ").filter((i=>!el.classList.contains(i))).filter(Boolean),el.classList.add(...classes),()=>{el.classList.remove(...classes)};var classes}function setClassesFromObject(el,classObject){let split=classString=>classString.split(" ").filter(Boolean),forAdd=Object.entries(classObject).flatMap((([classString,bool])=>!!bool&&split(classString))).filter(Boolean),forRemove=Object.entries(classObject).flatMap((([classString,bool])=>!bool&&split(classString))).filter(Boolean),added=[],removed=[];return forRemove.forEach((i=>{el.classList.contains(i)&&(el.classList.remove(i),removed.push(i))})),forAdd.forEach((i=>{el.classList.contains(i)||(el.classList.add(i),added.push(i))})),()=>{removed.forEach((i=>el.classList.add(i))),added.forEach((i=>el.classList.remove(i)))}}function setStyles(el,value){return"object"==typeof value&&null!==value?setStylesFromObject(el,value):setStylesFromString(el,value)}function setStylesFromObject(el,value){let previousStyles={};return Object.entries(value).forEach((([key,value2])=>{previousStyles[key]=el.style[key],el.style.setProperty(kebabCase(key),value2)})),setTimeout((()=>{0===el.style.length&&el.removeAttribute("style")})),()=>{setStyles(el,previousStyles)}}function setStylesFromString(el,value){let cache=el.getAttribute("style",value);return el.setAttribute("style",value),()=>{el.setAttribute("style",cache)}}function kebabCase(subject){return subject.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(callback,fallback=(()=>{})){let called=!1;return function(){called?fallback.apply(this,arguments):(called=!0,callback.apply(this,arguments))}}function registerTransitionsFromClassString(el,classString,stage){registerTransitionObject(el,setClasses,""),{enter:classes=>{el._x_transition.enter.during=classes},"enter-start":classes=>{el._x_transition.enter.start=classes},"enter-end":classes=>{el._x_transition.enter.end=classes},leave:classes=>{el._x_transition.leave.during=classes},"leave-start":classes=>{el._x_transition.leave.start=classes},"leave-end":classes=>{el._x_transition.leave.end=classes}}[stage](classString)}function registerTransitionsFromHelper(el,modifiers,stage){registerTransitionObject(el,setStyles);let doesntSpecify=!modifiers.includes("in")&&!modifiers.includes("out")&&!stage,transitioningIn=doesntSpecify||modifiers.includes("in")||["enter"].includes(stage),transitioningOut=doesntSpecify||modifiers.includes("out")||["leave"].includes(stage);modifiers.includes("in")&&!doesntSpecify&&(modifiers=modifiers.filter(((i,index)=>index<modifiers.indexOf("out")))),modifiers.includes("out")&&!doesntSpecify&&(modifiers=modifiers.filter(((i,index)=>index>modifiers.indexOf("out"))));let wantsAll=!modifiers.includes("opacity")&&!modifiers.includes("scale"),opacityValue=wantsAll||modifiers.includes("opacity")?0:1,scaleValue=wantsAll||modifiers.includes("scale")?modifierValue(modifiers,"scale",95)/100:1,delay=modifierValue(modifiers,"delay",0),origin=modifierValue(modifiers,"origin","center"),durationIn=modifierValue(modifiers,"duration",150)/1e3,durationOut=modifierValue(modifiers,"duration",75)/1e3,easing="cubic-bezier(0.4, 0.0, 0.2, 1)";transitioningIn&&(el._x_transition.enter.during={transformOrigin:origin,transitionDelay:delay,transitionProperty:"opacity, transform",transitionDuration:`${durationIn}s`,transitionTimingFunction:easing},el._x_transition.enter.start={opacity:opacityValue,transform:`scale(${scaleValue})`},el._x_transition.enter.end={opacity:1,transform:"scale(1)"}),transitioningOut&&(el._x_transition.leave.during={transformOrigin:origin,transitionDelay:delay,transitionProperty:"opacity, transform",transitionDuration:`${durationOut}s`,transitionTimingFunction:easing},el._x_transition.leave.start={opacity:1,transform:"scale(1)"},el._x_transition.leave.end={opacity:opacityValue,transform:`scale(${scaleValue})`})}function registerTransitionObject(el,setFunction,defaultValue={}){el._x_transition||(el._x_transition={enter:{during:defaultValue,start:defaultValue,end:defaultValue},leave:{during:defaultValue,start:defaultValue,end:defaultValue},in(before=(()=>{}),after=(()=>{})){transition(el,setFunction,{during:this.enter.during,start:this.enter.start,end:this.enter.end},before,after)},out(before=(()=>{}),after=(()=>{})){transition(el,setFunction,{during:this.leave.during,start:this.leave.start,end:this.leave.end},before,after)}})}function closestHide(el){let parent=el.parentNode;if(parent)return parent._x_hidePromise?parent:closestHide(parent)}function transition(el,setFunction,{during:during,start:start2,end:end}={},before=(()=>{}),after=(()=>{})){if(el._x_transitioning&&el._x_transitioning.cancel(),0===Object.keys(during).length&&0===Object.keys(start2).length&&0===Object.keys(end).length)return before(),void after();let undoStart,undoDuring,undoEnd;performTransition(el,{start(){undoStart=setFunction(el,start2)},during(){undoDuring=setFunction(el,during)},before:before,end(){undoStart(),undoEnd=setFunction(el,end)},after:after,cleanup(){undoDuring(),undoEnd()}})}function performTransition(el,stages){let interrupted,reachedBefore,reachedEnd,finish=once((()=>{mutateDom((()=>{interrupted=!0,reachedBefore||stages.before(),reachedEnd||(stages.end(),releaseNextTicks()),stages.after(),el.isConnected&&stages.cleanup(),delete el._x_transitioning}))}));el._x_transitioning={beforeCancels:[],beforeCancel(callback){this.beforeCancels.push(callback)},cancel:once((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();finish()})),finish:finish},mutateDom((()=>{stages.start(),stages.during()})),holdNextTicks(),requestAnimationFrame((()=>{if(interrupted)return;let duration=1e3*Number(getComputedStyle(el).transitionDuration.replace(/,.*/,"").replace("s","")),delay=1e3*Number(getComputedStyle(el).transitionDelay.replace(/,.*/,"").replace("s",""));0===duration&&(duration=1e3*Number(getComputedStyle(el).animationDuration.replace("s",""))),mutateDom((()=>{stages.before()})),reachedBefore=!0,requestAnimationFrame((()=>{interrupted||(mutateDom((()=>{stages.end()})),releaseNextTicks(),setTimeout(el._x_transitioning.finish,duration+delay),reachedEnd=!0)}))}))}function modifierValue(modifiers,key,fallback){if(-1===modifiers.indexOf(key))return fallback;const rawValue=modifiers[modifiers.indexOf(key)+1];if(!rawValue)return fallback;if("scale"===key&&isNaN(rawValue))return fallback;if("duration"===key){let match=rawValue.match(/([0-9]+)ms/);if(match)return match[1]}return"origin"===key&&["top","right","left","center","bottom"].includes(modifiers[modifiers.indexOf(key)+2])?[rawValue,modifiers[modifiers.indexOf(key)+2]].join(" "):rawValue}function debounce(func,wait){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,func.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)}}function throttle(func,limit){let inThrottle;return function(){let context=this,args=arguments;inThrottle||(func.apply(context,args),inThrottle=!0,setTimeout((()=>inThrottle=!1),limit))}}function plugin(callback){callback(alpine_default)}directive("transition",((el,{value:value,modifiers:modifiers,expression:expression},{evaluate:evaluate2})=>{"function"==typeof expression&&(expression=evaluate2(expression)),expression?registerTransitionsFromClassString(el,expression,value):registerTransitionsFromHelper(el,modifiers,value)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(el,value,show,hide){let clickAwayCompatibleShow=()=>{"visible"===document.visibilityState?requestAnimationFrame(show):setTimeout(show)};value?el._x_transition&&(el._x_transition.enter||el._x_transition.leave)?el._x_transition.enter&&(Object.entries(el._x_transition.enter.during).length||Object.entries(el._x_transition.enter.start).length||Object.entries(el._x_transition.enter.end).length)?el._x_transition.in(show):clickAwayCompatibleShow():el._x_transition?el._x_transition.in(show):clickAwayCompatibleShow():(el._x_hidePromise=el._x_transition?new Promise(((resolve,reject)=>{el._x_transition.out((()=>{}),(()=>resolve(hide))),el._x_transitioning.beforeCancel((()=>reject({isFromCancelledTransition:!0})))})):Promise.resolve(hide),queueMicrotask((()=>{let closest=closestHide(el);closest?(closest._x_hideChildren||(closest._x_hideChildren=[]),closest._x_hideChildren.push(el)):queueMicrotask((()=>{let hideAfterChildren=el2=>{let carry=Promise.all([el2._x_hidePromise,...(el2._x_hideChildren||[]).map(hideAfterChildren)]).then((([i])=>i()));return delete el2._x_hidePromise,delete el2._x_hideChildren,carry};hideAfterChildren(el).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var stores={},isReactive=!1;function store(name,value){if(isReactive||(stores=reactive(stores),isReactive=!0),void 0===value)return stores[name];stores[name]=value,"object"==typeof value&&null!==value&&value.hasOwnProperty("init")&&"function"==typeof value.init&&stores[name].init(),initInterceptors(stores[name])}function getStores(){return stores}var isCloning=!1;function skipDuringClone(callback,fallback=(()=>{})){return(...args)=>isCloning?fallback(...args):callback(...args)}function clone(oldEl,newEl){newEl._x_dataStack=oldEl._x_dataStack,isCloning=!0,dontRegisterReactiveSideEffects((()=>{cloneTree(newEl)})),isCloning=!1}function cloneTree(el){let hasRunThroughFirstEl=!1;initTree(el,((el2,callback)=>{walk(el2,((el3,skip)=>{if(hasRunThroughFirstEl&&isRoot(el3))return skip();hasRunThroughFirstEl=!0,callback(el3,skip)}))}))}function dontRegisterReactiveSideEffects(callback){let cache=effect;overrideEffect(((callback2,el)=>{let storedEffect=cache(callback2);return release(storedEffect),()=>{}})),callback(),overrideEffect(cache)}var datas={};function data(name,callback){datas[name]=callback}function injectDataProviders(obj,context){return Object.entries(datas).forEach((([name,callback])=>{Object.defineProperty(obj,name,{get:()=>(...args)=>callback.bind(context)(...args),enumerable:!1})})),obj}var Alpine={get reactive(){return reactive},get release(){return release},get effect(){return effect},get raw(){return raw},version:"3.5.1",flushAndStopDeferringMutations:flushAndStopDeferringMutations,disableEffectScheduling:disableEffectScheduling,setReactivityEngine:setReactivityEngine,skipDuringClone:skipDuringClone,addRootSelector:addRootSelector,deferMutations:deferMutations,mapAttributes:mapAttributes,evaluateLater:evaluateLater,setEvaluator:setEvaluator,mergeProxies:mergeProxies,closestRoot:closestRoot,interceptor:interceptor,transition:transition,setStyles:setStyles,mutateDom:mutateDom,directive:directive,throttle:throttle,debounce:debounce,evaluate:evaluate,initTree:initTree,nextTick:nextTick,prefix:setPrefix,plugin:plugin,magic:magic,store:store,start:start,clone:clone,data:data},alpine_default=Alpine,import_reactivity9=__toModule(require_reactivity());function getArrayOfRefObject(el){let refObjects=[],currentEl=el;for(;currentEl;)currentEl._x_refs&&refObjects.push(currentEl._x_refs),currentEl=currentEl.parentNode;return refObjects}magic("nextTick",(()=>nextTick)),magic("dispatch",(el=>dispatch.bind(dispatch,el))),magic("watch",(el=>(key,callback)=>{let oldValue,evaluate2=evaluateLater(el,key),firstTime=!0;effect((()=>evaluate2((value=>{document.createElement("div").dataset.throwAway=value,firstTime?oldValue=value:queueMicrotask((()=>{callback(value,oldValue),oldValue=value})),firstTime=!1}))))})),magic("store",getStores),magic("data",(el=>mergeProxies(closestDataStack(el)))),magic("root",(el=>closestRoot(el))),magic("refs",(el=>(el._x_refs_proxy||(el._x_refs_proxy=mergeProxies(getArrayOfRefObject(el))),el._x_refs_proxy))),magic("el",(el=>el));var handler=()=>{};function bind(el,name,value,modifiers=[]){switch(el._x_bindings||(el._x_bindings=reactive({})),el._x_bindings[name]=value,name=modifiers.includes("camel")?camelCase(name):name){case"value":bindInputValue(el,value);break;case"style":bindStyles(el,value);break;case"class":bindClasses(el,value);break;default:bindAttribute(el,name,value)}}function bindInputValue(el,value){if("radio"===el.type)void 0===el.attributes.value&&(el.value=value),window.fromModel&&(el.checked=checkedAttrLooseCompare(el.value,value));else if("checkbox"===el.type)Number.isInteger(value)?el.value=value:Number.isInteger(value)||Array.isArray(value)||"boolean"==typeof value||[null,void 0].includes(value)?Array.isArray(value)?el.checked=value.some((val=>checkedAttrLooseCompare(val,el.value))):el.checked=!!value:el.value=String(value);else if("SELECT"===el.tagName)updateSelect(el,value);else{if(el.value===value)return;el.value=value}}function bindClasses(el,value){el._x_undoAddedClasses&&el._x_undoAddedClasses(),el._x_undoAddedClasses=setClasses(el,value)}function bindStyles(el,value){el._x_undoAddedStyles&&el._x_undoAddedStyles(),el._x_undoAddedStyles=setStyles(el,value)}function bindAttribute(el,name,value){[null,void 0,!1].includes(value)&&attributeShouldntBePreservedIfFalsy(name)?el.removeAttribute(name):(isBooleanAttr(name)&&(value=name),setIfChanged(el,name,value))}function setIfChanged(el,attrName,value){el.getAttribute(attrName)!=value&&el.setAttribute(attrName,value)}function updateSelect(el,value){const arrayWrappedValue=[].concat(value).map((value2=>value2+""));Array.from(el.options).forEach((option=>{option.selected=arrayWrappedValue.includes(option.value)}))}function camelCase(subject){return subject.toLowerCase().replace(/-(\w)/g,((match,char)=>char.toUpperCase()))}function checkedAttrLooseCompare(valueA,valueB){return valueA==valueB}function isBooleanAttr(attrName){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(attrName)}function attributeShouldntBePreservedIfFalsy(name){return!["aria-pressed","aria-checked","aria-expanded"].includes(name)}function on(el,event,modifiers,callback){let listenerTarget=el,handler3=e=>callback(e),options={},wrapHandler=(callback2,wrapper)=>e=>wrapper(callback2,e);if(modifiers.includes("dot")&&(event=dotSyntax(event)),modifiers.includes("camel")&&(event=camelCase2(event)),modifiers.includes("passive")&&(options.passive=!0),modifiers.includes("capture")&&(options.capture=!0),modifiers.includes("window")&&(listenerTarget=window),modifiers.includes("document")&&(listenerTarget=document),modifiers.includes("prevent")&&(handler3=wrapHandler(handler3,((next,e)=>{e.preventDefault(),next(e)}))),modifiers.includes("stop")&&(handler3=wrapHandler(handler3,((next,e)=>{e.stopPropagation(),next(e)}))),modifiers.includes("self")&&(handler3=wrapHandler(handler3,((next,e)=>{e.target===el&&next(e)}))),(modifiers.includes("away")||modifiers.includes("outside"))&&(listenerTarget=document,handler3=wrapHandler(handler3,((next,e)=>{el.contains(e.target)||el.offsetWidth<1&&el.offsetHeight<1||!1!==el._x_isShown&&next(e)}))),handler3=wrapHandler(handler3,((next,e)=>{isKeyEvent(event)&&isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers)||next(e)})),modifiers.includes("debounce")){let nextModifier=modifiers[modifiers.indexOf("debounce")+1]||"invalid-wait",wait=isNumeric(nextModifier.split("ms")[0])?Number(nextModifier.split("ms")[0]):250;handler3=debounce(handler3,wait)}if(modifiers.includes("throttle")){let nextModifier=modifiers[modifiers.indexOf("throttle")+1]||"invalid-wait",wait=isNumeric(nextModifier.split("ms")[0])?Number(nextModifier.split("ms")[0]):250;handler3=throttle(handler3,wait)}return modifiers.includes("once")&&(handler3=wrapHandler(handler3,((next,e)=>{next(e),listenerTarget.removeEventListener(event,handler3,options)}))),listenerTarget.addEventListener(event,handler3,options),()=>{listenerTarget.removeEventListener(event,handler3,options)}}function dotSyntax(subject){return subject.replace(/-/g,".")}function camelCase2(subject){return subject.toLowerCase().replace(/-(\w)/g,((match,char)=>char.toUpperCase()))}function isNumeric(subject){return!Array.isArray(subject)&&!isNaN(subject)}function kebabCase2(subject){return subject.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(event){return["keydown","keyup"].includes(event)}function isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers){let keyModifiers=modifiers.filter((i=>!["window","document","prevent","stop","once"].includes(i)));if(keyModifiers.includes("debounce")){let debounceIndex=keyModifiers.indexOf("debounce");keyModifiers.splice(debounceIndex,isNumeric((keyModifiers[debounceIndex+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===keyModifiers.length)return!1;if(1===keyModifiers.length&&keyToModifiers(e.key).includes(keyModifiers[0]))return!1;const selectedSystemKeyModifiers=["ctrl","shift","alt","meta","cmd","super"].filter((modifier=>keyModifiers.includes(modifier)));if(keyModifiers=keyModifiers.filter((i=>!selectedSystemKeyModifiers.includes(i))),selectedSystemKeyModifiers.length>0){if(selectedSystemKeyModifiers.filter((modifier=>("cmd"!==modifier&&"super"!==modifier||(modifier="meta"),e[`${modifier}Key`]))).length===selectedSystemKeyModifiers.length&&keyToModifiers(e.key).includes(keyModifiers[0]))return!1}return!0}function keyToModifiers(key){if(!key)return[];key=kebabCase2(key);let modifierToKeyMap={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return modifierToKeyMap[key]=key,Object.keys(modifierToKeyMap).map((modifier=>{if(modifierToKeyMap[modifier]===key)return modifier})).filter((modifier=>modifier))}function generateAssignmentFunction(el,modifiers,expression){return"radio"===el.type&&mutateDom((()=>{el.hasAttribute("name")||el.setAttribute("name",expression)})),(event,currentValue)=>mutateDom((()=>{if(event instanceof CustomEvent&&void 0!==event.detail)return event.detail||event.target.value;if("checkbox"===el.type){if(Array.isArray(currentValue)){let newValue=modifiers.includes("number")?safeParseNumber(event.target.value):event.target.value;return event.target.checked?currentValue.concat([newValue]):currentValue.filter((el2=>!checkedAttrLooseCompare2(el2,newValue)))}return event.target.checked}if("select"===el.tagName.toLowerCase()&&el.multiple)return modifiers.includes("number")?Array.from(event.target.selectedOptions).map((option=>safeParseNumber(option.value||option.text))):Array.from(event.target.selectedOptions).map((option=>option.value||option.text));{let rawValue=event.target.value;return modifiers.includes("number")?safeParseNumber(rawValue):modifiers.includes("trim")?rawValue.trim():rawValue}}))}function safeParseNumber(rawValue){let number=rawValue?parseFloat(rawValue):null;return isNumeric2(number)?number:rawValue}function checkedAttrLooseCompare2(valueA,valueB){return valueA==valueB}function isNumeric2(subject){return!Array.isArray(subject)&&!isNaN(subject)}function applyBindingsObject(el,expression,original,effect3){let getBindings=evaluateLater(el,expression),cleanupRunners=[];effect3((()=>{for(;cleanupRunners.length;)cleanupRunners.pop()();getBindings((bindings=>{let attributes=Object.entries(bindings).map((([name,value])=>({name:name,value:value})));attributes=attributes.filter((attr=>!("object"==typeof attr.value&&!Array.isArray(attr.value)&&null!==attr.value)));let staticAttributes=attributesOnly(attributes);attributes=attributes.map((attribute=>staticAttributes.find((attr=>attr.name===attribute.name))?{name:`x-bind:${attribute.name}`,value:`"${attribute.value}"`}:attribute)),directives(el,attributes,original).map((handle=>{cleanupRunners.push(handle.runCleanups),handle()}))}))}))}function storeKeyForXFor(el,expression){el._x_keyExpression=expression}function loop(el,iteratorNames,evaluateItems,evaluateKey){let templateEl=el;evaluateItems((items=>{isNumeric3(items)&&items>=0&&(items=Array.from(Array(items).keys(),(i=>i+1))),void 0===items&&(items=[]);let lookup=el._x_lookup,prevKeys=el._x_prevKeys,scopes=[],keys=[];if("object"!=typeof(i=items)||Array.isArray(i))for(let i=0;i<items.length;i++){let scope=getIterationScopeVariables(iteratorNames,items[i],i,items);evaluateKey((value=>keys.push(value)),{scope:{index:i,...scope}}),scopes.push(scope)}else items=Object.entries(items).map((([key,value])=>{let scope=getIterationScopeVariables(iteratorNames,value,key,items);evaluateKey((value2=>keys.push(value2)),{scope:{index:key,...scope}}),scopes.push(scope)}));var i;let adds=[],moves=[],removes=[],sames=[];for(let i=0;i<prevKeys.length;i++){let key=prevKeys[i];-1===keys.indexOf(key)&&removes.push(key)}prevKeys=prevKeys.filter((key=>!removes.includes(key)));let lastKey="template";for(let i=0;i<keys.length;i++){let key=keys[i],prevIndex=prevKeys.indexOf(key);if(-1===prevIndex)prevKeys.splice(i,0,key),adds.push([lastKey,i]);else if(prevIndex!==i){let keyInSpot=prevKeys.splice(i,1)[0],keyForSpot=prevKeys.splice(prevIndex-1,1)[0];prevKeys.splice(i,0,keyForSpot),prevKeys.splice(prevIndex,0,keyInSpot),moves.push([keyInSpot,keyForSpot])}else sames.push(key);lastKey=key}for(let i=0;i<removes.length;i++){let key=removes[i];lookup[key].remove(),lookup[key]=null,delete lookup[key]}for(let i=0;i<moves.length;i++){let[keyInSpot,keyForSpot]=moves[i],elInSpot=lookup[keyInSpot],elForSpot=lookup[keyForSpot],marker=document.createElement("div");mutateDom((()=>{elForSpot.after(marker),elInSpot.after(elForSpot),marker.before(elInSpot),marker.remove()})),refreshScope(elForSpot,scopes[keys.indexOf(keyForSpot)])}for(let i=0;i<adds.length;i++){let[lastKey2,index]=adds[i],lastEl="template"===lastKey2?templateEl:lookup[lastKey2],scope=scopes[index],key=keys[index],clone2=document.importNode(templateEl.content,!0).firstElementChild;addScopeToNode(clone2,reactive(scope),templateEl),mutateDom((()=>{lastEl.after(clone2),initTree(clone2)})),"object"==typeof key&&warn("x-for key cannot be an object, it must be a string or an integer",templateEl),lookup[key]=clone2}for(let i=0;i<sames.length;i++)refreshScope(lookup[sames[i]],scopes[keys.indexOf(sames[i])]);templateEl._x_prevKeys=keys}))}function parseForExpression(expression){let forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,inMatch=expression.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!inMatch)return;let res={};res.items=inMatch[2].trim();let item=inMatch[1].replace(/^\s*\(|\)\s*$/g,"").trim(),iteratorMatch=item.match(forIteratorRE);return iteratorMatch?(res.item=item.replace(forIteratorRE,"").trim(),res.index=iteratorMatch[1].trim(),iteratorMatch[2]&&(res.collection=iteratorMatch[2].trim())):res.item=item,res}function getIterationScopeVariables(iteratorNames,item,index,items){let scopeVariables={};if(/^\[.*\]$/.test(iteratorNames.item)&&Array.isArray(item)){iteratorNames.item.replace("[","").replace("]","").split(",").map((i=>i.trim())).forEach(((name,i)=>{scopeVariables[name]=item[i]}))}else if(/^\{.*\}$/.test(iteratorNames.item)&&!Array.isArray(item)&&"object"==typeof item){iteratorNames.item.replace("{","").replace("}","").split(",").map((i=>i.trim())).forEach((name=>{scopeVariables[name]=item[name]}))}else scopeVariables[iteratorNames.item]=item;return iteratorNames.index&&(scopeVariables[iteratorNames.index]=index),iteratorNames.collection&&(scopeVariables[iteratorNames.collection]=items),scopeVariables}function isNumeric3(subject){return!Array.isArray(subject)&&!isNaN(subject)}function handler2(){}handler.inline=(el,{modifiers:modifiers},{cleanup:cleanup})=>{modifiers.includes("self")?el._x_ignoreSelf=!0:el._x_ignore=!0,cleanup((()=>{modifiers.includes("self")?delete el._x_ignoreSelf:delete el._x_ignore}))},directive("ignore",handler),directive("effect",((el,{expression:expression},{effect:effect3})=>effect3(evaluateLater(el,expression)))),directive("model",((el,{modifiers:modifiers,expression:expression},{effect:effect3,cleanup:cleanup})=>{let evaluate2=evaluateLater(el,expression),evaluateAssignment=evaluateLater(el,`${expression} = rightSideOfExpression($event, ${expression})`);var event="select"===el.tagName.toLowerCase()||["checkbox","radio"].includes(el.type)||modifiers.includes("lazy")?"change":"input";let assigmentFunction=generateAssignmentFunction(el,modifiers,expression),removeListener=on(el,event,modifiers,(e=>{evaluateAssignment((()=>{}),{scope:{$event:e,rightSideOfExpression:assigmentFunction}})}));cleanup((()=>removeListener()));let evaluateSetModel=evaluateLater(el,`${expression} = __placeholder`);el._x_model={get(){let result;return evaluate2((value=>result=value)),result},set(value){evaluateSetModel((()=>{}),{scope:{__placeholder:value}})}},el._x_forceModelUpdate=()=>{evaluate2((value=>{void 0===value&&expression.match(/\./)&&(value=""),window.fromModel=!0,mutateDom((()=>bind(el,"value",value))),delete window.fromModel}))},effect3((()=>{modifiers.includes("unintrusive")&&document.activeElement.isSameNode(el)||el._x_forceModelUpdate()}))})),directive("cloak",(el=>queueMicrotask((()=>mutateDom((()=>el.removeAttribute(prefix("cloak")))))))),addInitSelector((()=>`[${prefix("init")}]`)),directive("init",skipDuringClone(((el,{expression:expression})=>"string"==typeof expression?!!expression.trim()&&evaluate(el,expression,{}):evaluate(el,expression,{})))),directive("text",((el,{expression:expression},{effect:effect3,evaluateLater:evaluateLater2})=>{let evaluate2=evaluateLater2(expression);effect3((()=>{evaluate2((value=>{mutateDom((()=>{el.textContent=value}))}))}))})),directive("html",((el,{expression:expression},{effect:effect3,evaluateLater:evaluateLater2})=>{let evaluate2=evaluateLater2(expression);effect3((()=>{evaluate2((value=>{el.innerHTML=value}))}))})),mapAttributes(startingWith(":",into(prefix("bind:")))),directive("bind",((el,{value:value,modifiers:modifiers,expression:expression,original:original},{effect:effect3})=>{if(!value)return applyBindingsObject(el,expression,original,effect3);if("key"===value)return storeKeyForXFor(el,expression);let evaluate2=evaluateLater(el,expression);effect3((()=>evaluate2((result=>{void 0===result&&expression.match(/\./)&&(result=""),mutateDom((()=>bind(el,value,result,modifiers)))}))))})),addRootSelector((()=>`[${prefix("data")}]`)),directive("data",skipDuringClone(((el,{expression:expression},{cleanup:cleanup})=>{expression=""===expression?"{}":expression;let magicContext={};injectMagics(magicContext,el);let dataProviderContext={};injectDataProviders(dataProviderContext,magicContext);let data2=evaluate(el,expression,{scope:dataProviderContext});void 0===data2&&(data2={}),injectMagics(data2,el);let reactiveData=reactive(data2);initInterceptors(reactiveData);let undo=addScopeToNode(el,reactiveData);reactiveData.init&&evaluate(el,reactiveData.init),cleanup((()=>{undo(),reactiveData.destroy&&evaluate(el,reactiveData.destroy)}))}))),directive("show",((el,{modifiers:modifiers,expression:expression},{effect:effect3})=>{let oldValue,evaluate2=evaluateLater(el,expression),hide=()=>mutateDom((()=>{el.style.display="none",el._x_isShown=!1})),show=()=>mutateDom((()=>{1===el.style.length&&"none"===el.style.display?el.removeAttribute("style"):el.style.removeProperty("display"),el._x_isShown=!0})),clickAwayCompatibleShow=()=>setTimeout(show),toggle=once((value=>value?show():hide()),(value=>{"function"==typeof el._x_toggleAndCascadeWithTransitions?el._x_toggleAndCascadeWithTransitions(el,value,show,hide):value?clickAwayCompatibleShow():hide()})),firstTime=!0;effect3((()=>evaluate2((value=>{(firstTime||value!==oldValue)&&(modifiers.includes("immediate")&&(value?clickAwayCompatibleShow():hide()),toggle(value),oldValue=value,firstTime=!1)}))))})),directive("for",((el,{expression:expression},{effect:effect3,cleanup:cleanup})=>{let iteratorNames=parseForExpression(expression),evaluateItems=evaluateLater(el,iteratorNames.items),evaluateKey=evaluateLater(el,el._x_keyExpression||"index");el._x_prevKeys=[],el._x_lookup={},effect3((()=>loop(el,iteratorNames,evaluateItems,evaluateKey))),cleanup((()=>{Object.values(el._x_lookup).forEach((el2=>el2.remove())),delete el._x_prevKeys,delete el._x_lookup}))})),handler2.inline=(el,{expression:expression},{cleanup:cleanup})=>{let root=closestRoot(el);root._x_refs||(root._x_refs={}),root._x_refs[expression]=el,cleanup((()=>delete root._x_refs[expression]))},directive("ref",handler2),directive("if",((el,{expression:expression},{effect:effect3,cleanup:cleanup})=>{let evaluate2=evaluateLater(el,expression);effect3((()=>evaluate2((value=>{value?(()=>{if(el._x_currentIfEl)return el._x_currentIfEl;let clone2=el.content.cloneNode(!0).firstElementChild;addScopeToNode(clone2,{},el),mutateDom((()=>{el.after(clone2),initTree(clone2)})),el._x_currentIfEl=clone2,el._x_undoIf=()=>{clone2.remove(),delete el._x_currentIfEl}})():el._x_undoIf&&(el._x_undoIf(),delete el._x_undoIf)})))),cleanup((()=>el._x_undoIf&&el._x_undoIf()))})),mapAttributes(startingWith("@",into(prefix("on:")))),directive("on",skipDuringClone(((el,{value:value,modifiers:modifiers,expression:expression},{cleanup:cleanup})=>{let evaluate2=expression?evaluateLater(el,expression):()=>{},removeListener=on(el,value,modifiers,(e=>{evaluate2((()=>{}),{scope:{$event:e},params:[e]})}));cleanup((()=>removeListener()))}))),alpine_default.setEvaluator(normalEvaluator),alpine_default.setReactivityEngine({reactive:import_reactivity9.reactive,effect:import_reactivity9.effect,release:import_reactivity9.stop,raw:import_reactivity9.toRaw});var src_default=alpine_default,module_default=src_default,CresReact=function(){function CresReact(){_classCallCheck(this,CresReact)}return _createClass(CresReact,[{key:"createTestComponent",value:function(container){window.ReactDOM.render(React.createElement("div",null,"halo"),container)}}]),CresReact}(),cresReact=new CresReact,Connector=function(){function Connector(options){_classCallCheck(this,Connector),this.options=null,this.defaultOptions={auth:{headers:{}},authEndpoint:window.capp.baseUrl+"cresenity/broadcast/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(options),this.connect()}return _createClass(Connector,[{key:"setOptions",value:function(options){return this.options=Object.assign(this.defaultOptions,options),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),options}},{key:"csrfToken",value:function(){var selector;return"undefined"!=typeof window&&window.capp&&window.capp.csrfToken?window.capp.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(selector=document.querySelector('meta[name="csrf-token"]'))?selector.getAttribute("content"):null}}]),Connector}(),Channel=function(){function Channel(){_classCallCheck(this,Channel),this.options=null}return _createClass(Channel,[{key:"listen",value:function(event,callback){return this}},{key:"listenForWhisper",value:function(event,callback){return this.listen(".client-"+event,callback)}},{key:"notification",value:function(callback){return this.listen(".CNotification_Event_BroadcastNotificationCreated",callback)}},{key:"stopListening",value:function(event,callback){return this}},{key:"stopListeningForWhisper",value:function(event,callback){return this.stopListening(".client-"+event,callback)}},{key:"subscribed",value:function(callback){return this}},{key:"error",value:function(callback){return this}}]),Channel}(),EventFormatter=function(){function EventFormatter(namespace){_classCallCheck(this,EventFormatter),this.setNamespace(namespace)}return _createClass(EventFormatter,[{key:"format",value:function(event){return"."===event.charAt(0)||"\\"===event.charAt(0)?event.substr(1):(this.namespace&&(event=this.namespace+"."+event),event.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(value){this.namespace=value}}]),EventFormatter}(),PusherChannel=function(_Channel){_inherits(PusherChannel,_Channel);var _super=_createSuper(PusherChannel);function PusherChannel(pusher,name,options){var _this;return _classCallCheck(this,PusherChannel),(_this=_super.call(this)).name=name,_this.pusher=pusher,_this.options=options,_this.eventFormatter=new EventFormatter(_this.options.namespace),_this.subscription=null,_this.subscribe(),_this}return _createClass(PusherChannel,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(event,callback){return this.on(this.eventFormatter.format(event),callback),this}},{key:"listenToAll",value:function(callback){var _this2=this;return this.subscription.bind_global((function(event,data){if(!event.startsWith("pusher:")){var namespace=_this2.options.namespace.replace(/\./g,"\\"),formattedEvent=event.startsWith(namespace)?event.substring(namespace.length+1):"."+event;callback(formattedEvent,data)}})),this}},{key:"stopListening",value:function(event,callback){return callback?this.subscription.unbind(this.eventFormatter.format(event),callback):this.subscription.unbind(this.eventFormatter.format(event)),this}},{key:"stopListeningToAll",value:function(callback){return callback?this.subscription.unbind_global(callback):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(callback){return this.on("pusher:subscription_succeeded",(function(){callback()})),this}},{key:"error",value:function(callback){return this.on("pusher:subscription_error",(function(status){callback(status)})),this}},{key:"on",value:function(event,callback){return this.subscription.bind(event,callback),this}}]),PusherChannel}(Channel),PusherEncryptedPrivateChannel=function(_PusherChannel){_inherits(PusherEncryptedPrivateChannel,_PusherChannel);var _super=_createSuper(PusherEncryptedPrivateChannel);function PusherEncryptedPrivateChannel(){return _classCallCheck(this,PusherEncryptedPrivateChannel),_super.apply(this,arguments)}return _createClass(PusherEncryptedPrivateChannel,[{key:"whisper",value:function(eventName,data){return this.pusher.channels.channels[this.name].trigger("client-".concat(eventName),data),this}}]),PusherEncryptedPrivateChannel}(PusherChannel),PusherPresenceChannel=function(_PusherChannel){_inherits(PusherPresenceChannel,_PusherChannel);var _super=_createSuper(PusherPresenceChannel);function PusherPresenceChannel(){return _classCallCheck(this,PusherPresenceChannel),_super.apply(this,arguments)}return _createClass(PusherPresenceChannel,[{key:"here",value:function(callback){return this.on("pusher:subscription_succeeded",(function(data){callback(Object.keys(data.members).map((function(k){return data.members[k]})))})),this}},{key:"joining",value:function(callback){return this.on("pusher:member_added",(function(member){callback(member.info)})),this}},{key:"leaving",value:function(callback){return this.on("pusher:member_removed",(function(member){callback(member.info)})),this}},{key:"whisper",value:function(eventName,data){return this.pusher.channels.channels[this.name].trigger("client-".concat(eventName),data),this}}]),PusherPresenceChannel}(PusherChannel),PusherPrivateChannel=function(_PusherChannel){_inherits(PusherPrivateChannel,_PusherChannel);var _super=_createSuper(PusherPrivateChannel);function PusherPrivateChannel(){return _classCallCheck(this,PusherPrivateChannel),_super.apply(this,arguments)}return _createClass(PusherPrivateChannel,[{key:"whisper",value:function(eventName,data){return this.pusher.channels.channels[this.name].trigger("client-".concat(eventName),data),this}}]),PusherPrivateChannel}(PusherChannel),NullChannel=function(_Channel){_inherits(NullChannel,_Channel);var _super=_createSuper(NullChannel);function NullChannel(){return _classCallCheck(this,NullChannel),_super.apply(this,arguments)}return _createClass(NullChannel,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(event,callback){return this}},{key:"stopListening",value:function(event,callback){return this}},{key:"subscribed",value:function(callback){return this}},{key:"error",value:function(callback){return this}},{key:"on",value:function(event,callback){return this}}]),NullChannel}(Channel),NullPresenceChannel=function(_NullChannel){_inherits(NullPresenceChannel,_NullChannel);var _super=_createSuper(NullPresenceChannel);function NullPresenceChannel(){return _classCallCheck(this,NullPresenceChannel),_super.apply(this,arguments)}return _createClass(NullPresenceChannel,[{key:"here",value:function(callback){return this}},{key:"joining",value:function(callback){return this}},{key:"leaving",value:function(callback){return this}},{key:"whisper",value:function(eventName,data){return this}}]),NullPresenceChannel}(NullChannel),NullPrivateChannel=function(_NullChannel){_inherits(NullPrivateChannel,_NullChannel);var _super=_createSuper(NullPrivateChannel);function NullPrivateChannel(){return _classCallCheck(this,NullPrivateChannel),_super.apply(this,arguments)}return _createClass(NullPrivateChannel,[{key:"whisper",value:function(eventName,data){return this}}]),NullPrivateChannel}(NullChannel),PusherConnector=function(_Connector){_inherits(PusherConnector,_Connector);var _super=_createSuper(PusherConnector);function PusherConnector(options){return _classCallCheck(this,PusherConnector),_super.call(this,options)}return _createClass(PusherConnector,[{key:"connect",value:function(){if(this.channels={},void 0!==this.options.client)this.pusher=this.options.client;else{if("undefined"==typeof Pusher)throw new Error("Pusher is not defined");this.pusher=new Pusher(this.options.key,this.options)}}},{key:"listen",value:function(name,event,callback){return this.channel(name).listen(event,callback)}},{key:"channel",value:function(name){return this.channels[name]||(this.channels[name]=new PusherChannel(this.pusher,name,this.options)),this.channels[name]}},{key:"privateChannel",value:function(name){return this.channels["private-"+name]||(this.channels["private-"+name]=new PusherPrivateChannel(this.pusher,"private-"+name,this.options)),this.channels["private-"+name]}},{key:"encryptedPrivateChannel",value:function(name){return this.channels["private-encrypted-"+name]||(this.channels["private-encrypted-"+name]=new PusherEncryptedPrivateChannel(this.pusher,"private-encrypted-"+name,this.options)),this.channels["private-encrypted-"+name]}},{key:"presenceChannel",value:function(name){return this.channels["presence-"+name]||(this.channels["presence-"+name]=new PusherPresenceChannel(this.pusher,"presence-"+name,this.options)),this.channels["presence-"+name]}},{key:"leave",value:function(name){var _this=this;[name,"private-"+name,"presence-"+name].forEach((function(name,index){_this.leaveChannel(name)}))}},{key:"leaveChannel",value:function(name){this.channels[name]&&(this.channels[name].unsubscribe(),delete this.channels[name])}},{key:"socketId",value:function(){return this.pusher&&this.pusher.connection?this.pusher.connection.socket_id:null}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),PusherConnector}(Connector),NullConnector=function(_Connector){_inherits(NullConnector,_Connector);var _super=_createSuper(NullConnector);function NullConnector(options){var _this;return _classCallCheck(this,NullConnector),(_this=_super.call(this,options)).channels={},_this}return _createClass(NullConnector,[{key:"connect",value:function(){}},{key:"listen",value:function(name,event,callback){return new NullChannel}},{key:"channel",value:function(name){return new NullChannel}},{key:"privateChannel",value:function(name){return new NullPrivateChannel}},{key:"presenceChannel",value:function(name){return new NullPresenceChannel}},{key:"leave",value:function(name){}},{key:"leaveChannel",value:function(name){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),NullConnector}(Connector),CSocket=function(){function CSocket(options){_classCallCheck(this,CSocket),this.connector=null,this.options=options,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return _createClass(CSocket,[{key:"channel",value:function(_channel){return this.connector.channel(_channel)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new PusherConnector(this.options):"null"==this.options.broadcaster?this.connector=new NullConnector(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(channel){return this.connector.presenceChannel(channel)}},{key:"leave",value:function(channel){this.connector.leave(channel)}},{key:"leaveChannel",value:function(channel){this.connector.leaveChannel(channel)}},{key:"listen",value:function(channel,event,callback){return this.connector.listen(channel,event,callback)}},{key:"private",value:function(channel){return this.connector.privateChannel(channel)}},{key:"encryptedPrivate",value:function(channel){return this.connector.encryptedPrivateChannel(channel)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var _this=this;Vue.http.interceptors.push((function(request,next){_this.socketId()&&request.headers.set("X-Socket-ID",_this.socketId()),next()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var _this2=this;axios.interceptors.request.use((function(config){return _this2.socketId()&&(config.headers["X-Socket-Id"]=_this2.socketId()),config}))}},{key:"registerjQueryAjaxSetup",value:function(){var _this3=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(options,originalOptions,xhr){_this3.socketId()&&xhr.setRequestHeader("X-Socket-Id",_this3.socketId())}))}}]),CSocket}(),initProgressive=function(){var body=document.body;if(body.getElementsByClassName&&body.querySelector&&body.classList&&body.getBoundingClientRect){var timer,pItem=document.getElementsByClassName("cres-progressive replace"),rAF=window.requestAnimationFrame||function(f){f()};if(["pageshow","scroll","resize"].forEach((function(h){window.addEventListener(h,throttle,{passive:!0})})),window.MutationObserver)new MutationObserver(throttle).observe(body,{subtree:!0,childList:!0,attributes:!0});inView()}function throttle(){timer=timer||setTimeout((function(){timer=null,inView()}),300)}function inView(){pItem.length&&rAF((function(){for(var cRect,cT,wH=window.innerHeight,p=0;p<pItem.length;)(cT=(cRect=pItem[p].getBoundingClientRect()).top)+cRect.height>0&&wH>cT?loadFullImage(pItem[p]):p++}))}function loadFullImage(item,retry){item.classList.remove("replace");var href=item.getAttribute("data-href")||item.href,pImg=item.querySelector("img.preview");if(href&&pImg){var img=new Image,ds=item.dataset;ds&&(ds.srcset&&(img.srcset=ds.srcset),ds.sizes&&(img.sizes=ds.sizes)),img.onload=function(){href===item.href&&(item.style.cursor="default",item.addEventListener("click",(function(e){e.preventDefault()})));var imgClass=img.classList;img.className=pImg.className,imgClass.remove("preview"),imgClass.add("reveal"),img.alt=pImg.alt||"",img.onload=0,img.onerror=0,rAF((function(){item.insertBefore(img,pImg.nextSibling).addEventListener("animationend",(function(){item.removeChild(pImg),imgClass.remove("reveal")}))}))},(retry=1+(retry||0))<3&&(img.onerror=function(){setTimeout((function(){loadFullImage(item,retry)}),3e3*retry)}),img.src=href}}};function mergeOptions(initialOptions,customOptions){var merged=customOptions;for(var prop in initialOptions)merged.hasOwnProperty(prop)?null!==initialOptions[prop]&&initialOptions[prop].constructor===Object&&(merged[prop]=mergeOptions(initialOptions[prop],merged[prop])):merged[prop]=initialOptions[prop];return merged}function stylize(element,styles){Object.keys(styles).forEach((function(style){element.style[style]=styles[style]}))}var cresToast=function(){var toastStage,timeout,Transitions={SHOW:{"-webkit-transition":"opacity 400ms, -webkit-transform 400ms",transition:"opacity 400ms, transform 400ms",opacity:"1","-webkit-transform":"translateY(-100%) translateZ(0)",transform:"translateY(-100%) translateZ(0)"},HIDE:{opacity:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)"}},DEFAULT_SETTINGS={style:{main:{background:"rgba(0, 0, 0, .85)","box-shadow":"0 0 10px rgba(0, 0, 0, .8)","border-radius":"3px","z-index":"99999",color:"rgba(255, 255, 255, .9)","font-family":"sans-serif",padding:"10px 15px","max-width":"60%",width:"100%","word-break":"keep-all",margin:"0 auto","text-align":"center",position:"fixed",left:"0",right:"0",bottom:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)","-webkit-filter":"blur(0)",opacity:"0"}},settings:{duration:4e3}},toastQueue=[];function toast(text,options,transitions){var toastTransitions=transitions||Transitions;if(void 0!==getToastStage())toastQueue.push({text:text,options:options,transitions:toastTransitions});else{var toastOptions=options||{};(function(text,options,transitions){!function(text,style){var toastStage=document.createElement("div");"string"==typeof text&&(text=document.createTextNode(text));toastStage.appendChild(text),setToastStage(toastStage),stylize(getToastStage(),style)}(text,options.style.main);var toastStage=getToastStage();document.body.insertBefore(toastStage,document.body.firstChild),toastStage.offsetHeight,stylize(toastStage,transitions.SHOW),clearTimeout(timeout),0!==options.settings.duration&&(timeout=setTimeout((function(){return hideToast(transitions)}),options.settings.duration))})(text,toastOptions=mergeOptions(DEFAULT_SETTINGS,toastOptions),toastTransitions)}return{hide:function(){return hideToast(toastTransitions)}}}function hideToast(transitions){var toastStage=getToastStage();stylize(toastStage,transitions.HIDE),clearTimeout(timeout),toastStage.addEventListener("transitionend",destroyToast,{once:!0})}function destroyToast(){var toastStage=getToastStage();if(document.body.removeChild(toastStage),setToastStage(void 0),toastQueue.length>0){var newToast=toastQueue.shift();toast(newToast.text,newToast.options,newToast.transitions)}}function getToastStage(){return toastStage}function setToastStage(newToastStage){toastStage=newToastStage}return{toast:toast}}();function getComponentName(element){return element.getAttribute("x-title")||element.getAttribute("x-id")||element.id||element.getAttribute("name")||findCresID(element.getAttribute("cres:id"))||findLiveViewName(element)||element.getAttribute("aria-label")||extractFunctionName(element.getAttribute("x-data"))||element.getAttribute("role")||element.tagName.toLowerCase()}function findCresID(cresId){if(cresId&&window.cresenity.ui)try{window.cresenity.ui.find(cresId);if(window.cresenity.ui.__instance)return"cres:"+window.cresenity.ui.__instance.fingerprint.name}catch(e){}}function findLiveViewName(alpineEl){var phxEl=alpineEl.closest("[data-phx-view]");if(phxEl){if(!window.liveSocket.getViewByEl)return;var view=window.liveSocket.getViewByEl(phxEl);return view&&view.name}}function extractFunctionName(functionName){if(!functionName.startsWith("{"))return functionName.replace(/\(([^\)]+)\)/,"").replace("()","")}function isRequiredVersion(required,actual){if(required===actual)return!0;for(var requiredArray=required.split(".").map((function(v){return parseInt(v,10)})),currentArray=actual.split(".").map((function(v){return parseInt(v,10)})),i=0;i<requiredArray.length;i++){if(currentArray[i]<requiredArray[i])return!1;if(currentArray[i]>requiredArray[i])return!0}return!0}var CRESALPINE_RENDER_ATTR_NAME="data-cresalpine-render",CRESALPINE_RENDER_BINDING_ATTR_NAME=":".concat(CRESALPINE_RENDER_ATTR_NAME),CresAlpine=function(){function CresAlpine(Alpine){_classCallCheck(this,CresAlpine),this.Alpine=Alpine,this.lastComponentCrawl=Date.now(),this.components=[],this.uuid=1,this.errorElements=[],this.observer=null}return _createClass(CresAlpine,[{key:"alpineVersion",get:function(){return this.Alpine.version||""}},{key:"isV3",get:function(){return isRequiredVersion("3.0.0",this.alpineVersion)}},{key:"getAlpineDataInstance",value:function(node){return this.isV3?node._x_dataStack?node._x_dataStack[0]:null:node.__x}},{key:"getComponent",value:function(name){for(var components=this.getComponents(),i=0;i<components.length;i++)if(components[i].name==name)return components[i];return null}},{key:"getComponents",value:function(){var _this=this,alpineRoots=Array.from(document.querySelectorAll("[x-data]"));if(Object.values(alpineRoots).every((function(e){return e.cresAlpine}))){var someComponentHasUpdated=alpineRoots.reduce((function(acc,el){var renderTimeStr=el.getAttribute(CRESALPINE_RENDER_ATTR_NAME),renderTime=parseInt(renderTimeStr,10);return renderTime&&renderTime>acc?renderTime:acc}),this.lastComponentCrawl)>this.lastComponentCrawl;if(someComponentHasUpdated&&(this.lastComponentCrawl=Date.now()),!someComponentHasUpdated&&this.components.length===alpineRoots.length)return this.components}return this.components=[],alpineRoots.forEach((function(rootEl,index){if(_this.getAlpineDataInstance(rootEl)){if(rootEl.cresAlpine||(_this.isV3||rootEl.setAttribute(CRESALPINE_RENDER_BINDING_ATTR_NAME,"Date.now()"),rootEl.cresAlpine={id:_this.uuid++},window["$x".concat(rootEl.cresAlpine.id-1)]=_this.getAlpineDataInstance(rootEl)),rootEl.cresAlpine.id===_this.selectedComponentId&&_this.sendComponentData(_this.selectedComponentId,rootEl),_this.isV3){var componentData=_this.getAlpineDataInstance(rootEl);_this.Alpine.effect((function(){Object.keys(componentData).forEach((function(key){componentData[key],rootEl.cresAlpine.id===_this.selectedComponentId&&_this.sendComponentData(_this.selectedComponentId,rootEl)}))}))}var componentDepth=0===index?0:alpineRoots.reduce((function(depth,el,innerIndex){return index===innerIndex?depth:el.contains(rootEl)?depth+1:depth}),0);_this.components.push({name:getComponentName(rootEl),depth:componentDepth,index:index,id:rootEl.cresAlpine.id,getData:function(){return _this.getAlpineDataInstance(rootEl)}})}})),this.components}},{key:"postMessage",value:function(payload){window.postMessage({source:"cres-alpine-backend",payload:payload},"*")}}]),CresAlpine}(),SSE=function(){function SSE(){_classCallCheck(this,SSE)}return _createClass(SSE,[{key:"listen",value:function(url,onMessage){var es=new window.EventSource(url);es.addEventListener("message",(function(e){onMessage(e)}),!1),es.addEventListener("error",(function(event){event.readyState==EventSource.CLOSED&&console.log("SSE Connection Closed.")}),!1)}}]),SSE}(),Cresenity=function(){function Cresenity(){_classCallCheck(this,Cresenity),this.cf=cf,this.base64={encode:encode,decode:decode},this.windowEventList=["cresenity:confirm","cresenity:jquery:loaded","cresenity:loaded","cresenity:js:loaded","cresenity:ui:start"],this.modalElements=[],this.cresenityEventList=[],this.url=new Url,this.scrollToTop=new ScrollToTop,this.callback={},this.filesAdded=[],this.ui=new UI,this.php=php,this.react=cresReact,this.observer={elementRendered:elementRendered,elementReady:elementReady},this.confirmHandler=defaultConfirmHandler,this.dispatchWindowEvent=dispatch$1,this.websocket=null,this.debounce=debounce$1,this.sse=new SSE}return _createClass(Cresenity,[{key:"loadJs",value:function(filename,callback){var _this=this,fileref=document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.setAttribute("src",filename),"function"==typeof callback&&(fileref.onload=callback,fileref.onreadystatechange=function(){"complete"===_this.readyState&&callback()}),document.getElementsByTagName("head")[0].appendChild(fileref)}},{key:"createWebSocket",value:function(options){return new CSocket(options)}},{key:"haveCallback",value:function(name){return"function"==typeof this.callback[name]}},{key:"doCallback",value:function(name){if(this.haveCallback(name)){for(var _this$callback,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];(_this$callback=this.callback)[name].apply(_this$callback,args)}}},{key:"setConfirmHandler",value:function(cb){return this.confirmHandler=cb,this}},{key:"setCallback",value:function(name,cb){return this.callback[name]=cb,this}},{key:"isUsingRequireJs",value:function(){return void 0===this.cf.getConfig().requireJs||this.cf.getConfig().requireJs}},{key:"normalizeRequireJs",value:function(){this.isUsingRequireJs()||"function"==typeof define&&(window.define=void 0)}},{key:"isJson",value:function(text){return"string"==typeof text&&/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}},{key:"dispatch",value:function(eventName){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dispatch$1("cresenity:"+eventName,params)}},{key:"on",value:function(eventName,cb){window.addEventListener("cresenity:"+eventName,cb)}},{key:"handleResponse",value:function(data,callback){if(data.cssRequire&&data.cssRequire.length>0)for(var i=0;i<data.cssRequire.length;i++)this.cf.require(data.cssRequire[i],"css");if(data.css_require&&data.css_require.length>0)for(var _i=0;_i<data.css_require.length;_i++)this.cf.require(data.css_require[_i],"css");callback()}},{key:"htmlModal",value:function(html){showHtmlModal(html)}},{key:"urlModal",value:function(url){showUrlModal(url)}},{key:"handleAjaxError",value:function(xhr,status,error){"abort"!==error&&(this.message("error","Error, please call administrator... ("+error+")"),200!=xhr.status&&window.capp&&window.capp.environment&&"production"!==window.capp.environment&&this.htmlModal(xhr.responseText))}},{key:"reload",value:function reload(options){var _this2=this,targetOptions={};if(options&&options.selector){var target=$(options.selector);target.attr("data-url")&&(targetOptions.url=target.attr("data-url")),target.attr("data-method")&&(targetOptions.method=target.attr("data-method")),target.attr("data-block-html")&&(targetOptions.blockHtml=target.attr("data-block-html")),target.attr("data-block-type")&&(targetOptions.blockType=target.attr("data-block-type")),target.attr("data-data-addition")&&(targetOptions.dataAddition=JSON.parse(target.attr("data-data-addition")))}var settings=$.extend({method:"get",dataAddition:{},url:"/",reloadType:"reload",onComplete:!1,onSuccess:!1,onBlock:!1,blockHtml:!1,blockType:"default",onUnblock:!1},targetOptions,options),method=settings.method,selector=settings.selector;settings.blockType,settings.blockHtml;var xhr=jQuery(selector).data("xhr");xhr&&xhr.abort();var dataAddition=settings.dataAddition,url=settings.url;url&&(url=this.url.replaceParam(url)),void 0===dataAddition&&(dataAddition={}),$(selector).each((function(index,element){var idTarget=$(element).attr("id");url=_this2.url.addQueryString(url,"capp_current_container_id",idTarget),"function"==typeof settings.onBlock?settings.onBlock($(element)):_this2.blockElement($(element)),_this2.dispatch("reload:before"),$(element).data("xhr",$.ajax({type:method,url:url,dataType:"json",data:dataAddition,success:function success(data){var isError=!1;void 0===data.html&&(_this2.htmlModal(data),isError=!0),isError||(_this2.doCallback("onReloadSuccess",data),_this2.dispatch("reload:success",{data:data}),_this2.handleResponse(data,(function(){switch(settings.reloadType){case"after":$(element).after(data.html);break;case"before":$(element).before(data.html);break;case"append":$(element).append(data.html);break;case"prepend":$(element).prepend(data.html);break;default:$(element).html(data.html)}if(data.js&&data.js.length>0){var script=_this2.base64.decode(data.js);eval(script)}$(element).find(".prettyprint").length>0&&window.prettyPrint&&window.prettyPrint(),"function"==typeof settings.onSuccess&&settings.onSuccess(data)})))},error:function(errorXhr,ajaxOptions,thrownError){_this2.dispatch("reload:error",{errorXhr:errorXhr,ajaxOptions:ajaxOptions,thrownError:thrownError}),_this2.handleAjaxError(errorXhr,ajaxOptions,thrownError)},complete:function(){_this2.dispatch("reload:complete"),$(element).data("xhr",!1),"function"==typeof settings.onBlock?settings.onUnblock($(element)):_this2.unblockElement($(element)),"function"==typeof settings.onComplete&&settings.onComplete()}}))}))}},{key:"append",value:function(options){options.reloadType="append",this.reload(options)}},{key:"prepend",value:function(options){options.reloadType="prepend",this.reload(options)}},{key:"after",value:function(options){options.reloadType="after",this.reload(options)}},{key:"before",value:function(options){options.reloadType="before",this.reload(options)}},{key:"confirm",value:function(options){var settings=$.extend({method:"get",dataAddition:{},message:"Are you sure?",onConfirmed:!1,confirmCallback:!1,owner:null},options),confirmCallback=settings.confirmCallback?settings.confirmCallback:settings.onConfirmed;return this.confirmHandler?this.confirmHandler(settings.owner,settings,confirmCallback):window.bootbox?window.bootbox.confirm(settings.message,confirmCallback):void 0}},{key:"modal",value:function(options){var _this3=this,settings=$.extend({haveHeader:!1,haveFooter:!1,headerText:"",backdrop:"static",modalClass:!1,onClose:!1,appendTo:!1,footerAction:{}},options);settings.title&&(settings.haveHeader=!0,settings.headerText=settings.title);var modalContainer=jQuery("<div>").addClass("modal");settings.modalClass&&modalContainer.addClass(settings.modalClass),settings.isSidebar&&(modalContainer.addClass("sidebar"),modalContainer.addClass(settings.sidebarMode)),settings.isFull&&modalContainer.addClass("sidebar full");var modalDialog=jQuery("<div>").addClass("modal-dialog modal-xl"),modalContent=jQuery("<div>").addClass("modal-content"),modalHeader=jQuery("<div>").addClass("modal-header"),modalTitle=jQuery("<div>").addClass("modal-title"),modalButtonClose=jQuery('<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>');modalButtonClose.click((function(){modalButtonClose.closest(".modal").modal("hide")}));var modalBody=jQuery("<div>").addClass("modal-body"),modalFooter=jQuery("<div>").addClass("modal-footer");modalDialog.append(modalContent),modalContainer.append(modalDialog),settings.haveHeader&&(modalTitle.html(settings.headerText),modalHeader.append(modalTitle).append(modalButtonClose),modalContent.append(modalHeader)),modalDialog.append(modalContent),settings.haveFooter&&modalContent.append(modalFooter),modalContent.append(modalBody);var appendTo=settings.appendTo;if(void 0!==appendTo&&appendTo||(appendTo=$("body")),modalContainer.appendTo(appendTo),modalContainer.addClass("capp-modal"),modalContainer.on("hidden.bs.modal",(function(e){if(_this3.modalElements.length>0){var lastModal=_this3.modalElements[_this3.modalElements.length-1];if(lastModal&&lastModal.get(0)===$(e.target).get(0)){var next=new function(){var _this4=this;this.isRunning=!1,this.callback=function(delay){var delayMs=delay;void 0===delayMs&&(delayMs=0),isNaN(parseInt(delayMs,10))&&(delayMs=0),setTimeout((function(){$(lastModal).remove(),window.cresenity.modalElements.pop(),$(".modal:visible").length>0?$("body").hasClass("modal-open")||$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),delayMs),_this4.isRunning=!0}};"function"==typeof settings.onClose&&settings.onClose(e,next.callback),next.isRunning||next.callback()}}})),modalContainer.on("shown.bs.modal",(function(){_this3.modalElements.push(modalContainer)})),settings.message&&modalBody.append(settings.message),settings.reload){var reloadOptions=settings.reload;reloadOptions.selector=modalBody,this.reload(reloadOptions)}return modalContainer.modal({backdrop:settings.backdrop}),modalContainer}},{key:"closeLastModal",value:function(){this.modalElements.length>0&&this.modalElements[this.modalElements.length-1].modal("hide")}},{key:"closeDialog",value:function(){this.closeLastModal()}},{key:"ajax",value:function(options){var _this5=this,settings=$.extend({block:!0,url:window.location.href,method:"post"},options),dataAddition=settings.dataAddition,url=settings.url;url=this.url.replaceParam(url),void 0===dataAddition&&(dataAddition={}),settings.block&&this.blockPage();var ajaxOptions={url:url,dataType:"json",data:dataAddition,type:settings.method,success:function(response){var onSuccess=function(){},onError=function(errMessage){_this5.showError(errMessage)};"function"==typeof settings.onSuccess&&(onSuccess=settings.onSuccess),"function"==typeof settings.onError&&(onError=settings.onError),!0===settings.handleJsonResponse?_this5.handleJsonResponse(response,onSuccess,onError):onSuccess(response)},error:function(xhr,errorAjaxOptions,thrownError){"abort"!==thrownError&&_this5.showError(thrownError)},complete:function(){settings.block&&_this5.unblockPage(),"function"==typeof settings.onComplete&&settings.onComplete()}};return $.ajax(ajaxOptions)}},{key:"ajaxSubmit",value:function(options){var _this6=this,settings=$.extend({},options),selector=settings.selector;return $(selector).each((function(index,element){var formAjaxUrl=$(element).attr("action")||"",formMethod=$(element).attr("method")||"get";_this6.blockElement($(element));var validationIsValid=!0,ajaxOptions={url:formAjaxUrl,dataType:"json",type:formMethod,beforeSubmit:function(){return"function"!=typeof $(element).validate||(validationIsValid=$(element).validate().form())},success:function(response){var onSuccess=function(){},onError=function(errMessage){_this6.showError(errMessage)},haveOnSuccess=!1;"function"==typeof settings.onSuccess&&validationIsValid&&(onSuccess=settings.onSuccess,haveOnSuccess=!0),"function"==typeof settings.onError&&validationIsValid&&(onError=settings.onError),validationIsValid&&(!0===settings.handleJsonResponse&&haveOnSuccess?_this6.handleJsonResponse(response,onSuccess,onError):onSuccess(response))},complete:function(){_this6.unblockElement($(element)),"function"==typeof settings.onComplete&&validationIsValid&&settings.onComplete()}};$(element).ajaxSubmit(ajaxOptions)})),!1}},{key:"debug",value:function(message){this.cf.getConfig().debug&&window.console.log(message)}},{key:"toast",value:function(type,message,options){var settings=$.extend({title:ucfirst(type),position:"top-right"},options);return window.toastr?window.toastr[type](message,settings.title,{positionClass:"toast-"+settings.position,closeButton:!0,progressBar:!0,preventDuplicates:!1,newestOnTop:!1}):cresToast.toast(message)}},{key:"message",value:function(type,_message,alertType,callback){alertType=void 0!==alertType?alertType:"notify";var container=$("#container");if(0===container.length&&(container=$("body")),"bootbox"===alertType&&window.bootbox)return void 0===callback?window.bootbox.alert(_message):window.bootbox.alert(_message,callback);if("notify"===alertType){var obj=$("<div>");if(container.prepend(obj),obj.addClass("notifications"),obj.addClass("top-right"),void 0!==obj.notify)return obj.notify({message:{text:_message},type:type}).show()}return this.toast(type,_message)}},{key:"scrollTo",value:function(element,container){void 0===container&&(container=document.body),$(container).animate({scrollTop:$(element).offset().top-($(container).offset().top+$(container).scrollTop())})}},{key:"replaceAll",value:function(string,find,replace){var escapedFind=find.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");return string.replace(new RegExp(escapedFind,"g"),replace)}},{key:"formatCurrency",value:function(rp){rp=""+rp;var rupiah="",vfloat="",ds=window.capp.decimal_separator,ts=window.capp.thousand_separator,dd=window.capp.decimal_digit;dd=parseInt(dd,10);var minusStr="";rp.indexOf("-")>=0&&(minusStr=rp.substring(rp.indexOf("-"),1),rp=rp.substring(rp.indexOf("-")+1)),rp.indexOf(".")>=0&&(vfloat=rp.substring(rp.indexOf(".")),rp=rp.substring(0,rp.indexOf(".")));for(var p=rp.length;p>3;){rupiah=ts+rp.substring(p-3)+rupiah;var l=rp.length-3;p=(rp=rp.substring(0,l)).length}return rupiah=rp+rupiah,(vfloat=vfloat.replace(".",ds)).length>dd&&(vfloat=vfloat.substring(0,dd+1)),minusStr+rupiah+vfloat}},{key:"unformatCurrency",value:function(rp){void 0===rp&&(rp="");var ds=window.capp.decimal_separator,ts=window.capp.thousand_separator;return rp.substr(rp.length-3).charAt(0)!=ts&&(rp=this.replaceAll(rp,ts,"")),rp=rp.replace(ds,".")}},{key:"getStyles",value:function(selector,only,except){var style,name,product={},element=$(selector);if(only&&only instanceof Array)for(var i=0,l=only.length;i<l;i++)product[name=only[i]]=element.css(name);else if(element.length){var dom=element.get(0);if(window.getComputedStyle){var camel,value,pattern=/\-([a-z])/g,uc=function(a,b){return b.toUpperCase()},camelize=function(string){return string.replace(pattern,uc)};if(style=window.getComputedStyle(dom,null))if(style.length)for(var _i2=0,_l=style.length;_i2<_l;_i2++)camel=camelize(name=style[_i2]),value=style.getPropertyValue(name),product[camel]=value;else for(name in style)camel=camelize(name),value=style.getPropertyValue(name)||style[name],product[camel]=value}else if(style=dom.currentStyle)for(name in style)product[name]=style[name];else if(style=dom.style)for(name in style)"function"!=typeof style[name]&&(product[name]=style[name])}if(except&&except instanceof Array)for(var _i3=0,_l2=except.length;_i3<_l2;_i3++)delete product[name=except[_i3]];return product}},{key:"createPlaceholderElement",value:function(selector,root,depth){var _this7=this;depth=parseInt(depth,10),Number.isInteger(depth)||(depth=0);var element=$(selector);if(0===element.length)return null;root=root||element;var newElement=element.clone().empty();if(newElement.removeAttr("id"),newElement.removeAttr("data-block-html"),newElement.removeClass(),!element.is(":visible"))return null;var styles=this.getStyles(element);if(depth>0&&0===element.children(":visible:not(:empty)").length){var relativeY=element.offset().top-root.offset().top,relativeX=element.offset().left-root.offset().left;styles.width=element.outerWidth()+"px",styles.height=element.outerHeight()-8+"px",styles.position="absolute",styles.top=relativeY+4+"px",styles.left=relativeX+"px",styles.backgroundColor="#ced4da"}switch(styles.border="0",styles.borderRadius="0",styles.overflow="hidden",element.prop("tagName").toLowerCase()){case"ul":styles.padding="0px";break;case"li":styles.listStyle="none"}return 0===depth&&(styles.position="relative"),newElement.css(styles),0===depth&&(newElement.addClass("capp-ph-item"),newElement.attr("style",(function(i,s){return(s||"")+"margin: 0 !important;"}))),element.children().each((function(idx,item){var newChild=_this7.createPlaceholderElement(item,root,depth+1);newChild&&newElement.append(newChild)})),newElement}},{key:"blockPage",value:function(options){var settings=$.extend({innerMessage:'<div class="sk-folding-cube sk-primary"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div><h5 style="color: #444">LOADING...</h5>'},options);$.blockUI({message:settings.innerMessage,css:{backgroundColor:"transparent",border:"0",zIndex:9999999},overlayCSS:{backgroundColor:"#fff",opacity:.8,zIndex:9999990}})}},{key:"unblockPage",value:function(){$.unblockUI()}},{key:"blockElement",value:function(selector,options){var settings=$.extend({innerMessage:'<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>'},options);$(selector).block({message:settings.innerMessage,css:{backgroundColor:"transparent",border:"0"},overlayCSS:{backgroundColor:"#fff",opacity:.8}})}},{key:"unblockElement",value:function(selector){$(selector).unblock()}},{key:"value",value:function(elm){return 0===(elm=$(elm)).length?null:("checkbox"!==elm.attr("type")||elm.is(":checked"))&&("radio"!==elm.attr("type")||elm.is(":checked"))?void 0!==elm.val()?elm.val():void 0!==elm.attr("value")?elm.attr("value"):elm.html():null}},{key:"initConfirm",value:function(){var _this8=this;elementRendered("a.confirm, button.confirm, input[type=submit].confirm",(function(el){$(el).click((function(e){return e.preventDefault(),e.stopPropagation(),confirmFromElement(el,_this8.confirmHandler),!1}))})),jQuery(document).ready((function(){jQuery("#toggle-subnavbar").click((function(){"Hide"===jQuery("#toggle-subnavbar span").html()?(jQuery("#subnavbar").slideUp("slow"),jQuery("#toggle-subnavbar span").html("Show")):(jQuery("#subnavbar").slideDown("slow"),jQuery("#toggle-subnavbar span").html("Hide"))})),jQuery("#toggle-fullscreen").click((function(){toggleFullscreen(document.documentElement)}))}))}},{key:"initReload",value:function(){var _this9=this;$("body").attr("data-reload-initialized")||($(".capp-reload").each((function(idx,item){if(!$(item).hasClass("capp-reloaded")){var reloadOptions={};reloadOptions.selector=$(item),_this9.reload(reloadOptions),$(item).addClass("capp-reloaded")}})),$("body").attr("data-reload-initialized","1"))}},{key:"initValidation",value:function(){$&&$.validator&&initValidation()}},{key:"initAlpineAndUi",value:function(){window.Alpine=module_default,this.ui.start(),window.Alpine.start(),this.alpine=new CresAlpine(window.Alpine)}},{key:"initLiveReload",value:function(){var _this10=this;!this.cf.isProduction()&&this.cf.config.vscode.liveReload.enable&&new Promise((function(resolve,reject){var rsocket=new WebSocket(_this10.cf.config.vscode.liveReload.protocol+"://"+_this10.cf.config.vscode.liveReload.host+":"+_this10.cf.config.vscode.liveReload.port+"/","reload-protocol");rsocket.onmessage=function(msg){"RELOAD"==msg.data&&location.reload()},rsocket.onerror=function(){reject("couldn't connect")}})).catch((function(err){}))}},{key:"init",value:function(){var _this11=this;this.cf.onBeforeInit((function(){_this11.normalizeRequireJs()})),this.cf.onAfterInit((function(){_this11.cf.getConfig().haveScrollToTop&&(document.getElementById("cres-topcontrol")||_this11.scrollToTop.init()),_this11.initConfirm(),_this11.initReload(),_this11.initValidation(),_this11.initAlpineAndUi(),_this11.initLiveReload(),initProgressive();var root=document.getElementsByTagName("html")[0];root.classList.add("cresenity-loaded"),root.classList.remove("no-js"),dispatch$1("cresenity:loaded")})),this.cf.init()}},{key:"downloadProgress",value:function(options){var _this12=this,settings=$.extend({method:"get",dataAddition:{},url:"/",onComplete:!1,onSuccess:!1,onBlock:!1,onUnblock:!1},options),method=settings.method,xhr=jQuery(window).data("cappXhrProgress");xhr&&xhr.abort();var dataAddition=settings.dataAddition,url=settings.url;url=this.url.replaceParam(url),void 0===dataAddition&&(dataAddition={}),"function"==typeof settings.onBlock?settings.onBlock():this.blockPage(),$.ajax({type:method,url:url,dataType:"json",data:dataAddition,success:function(response){_this12.handleJsonResponse(response,(function(data){var progressUrl=data.progressUrl,progressContainer=$("<div>").addClass("cres-download-progress"),interval=setInterval((function(){$.ajax({type:method,url:progressUrl,dataType:"json",success:function(responseProgress){_this12.handleJsonResponse(responseProgress,(function(dataProgress){var progressContainerStatus=progressContainer.find(".cres-download-progress-status");if("DONE"===dataProgress.state){progressContainerStatus.empty();var _innerStatus=$("<div>"),_innerStatusLabel=$("<label>",{class:"mb-3 d-block"}).append("Your file is ready"),linkDownload=$("<a>",{target:"_blank",href:dataProgress.fileUrl,class:"btn btn-primary"}).append("Download"),linkClose=$("<a>",{href:"javascript:;",class:"btn btn-primary ml-3"}).append("Close");_innerStatus.append(_innerStatusLabel),_innerStatus.append(linkDownload),_innerStatus.append(linkClose),progressContainerStatus.append(_innerStatus),linkClose.click((function(){_this12.closeLastModal()})),clearInterval(interval)}else if("PENDING"===dataProgress.state){var progressValue=parseFloat(dataProgress.progressValue);if(progressValue>0){var progressStatusBar=progressContainer.find(".cres-download-progress-status-bar");if(0==progressStatusBar.length){var progressAnimation=progressContainer.find(".cres-download-progress-animation");progressAnimation.empty();var _progressStatusBar=$('<div class="cres-download-progress-status-bar my-4">'),progress=$('<div class="progress">'),_progressBar=$('<div class="progress-bar progress-bar-striped progress-bar-animated">');progressAnimation.append(_progressStatusBar.append(progress.append(_progressBar)))}var progressMax=parseFloat(dataProgress.progressMax);(isNaN(progressMax)||0==progressMax)&&(progressMax=100);var progressBar=progressStatusBar.find(".progress-bar"),progressPercent=Math.round(progressMax>0?100*progressValue/progressMax:0);progressBar.css("width",progressPercent+"%"),progressBar.html(progressPercent+"%")}}}))}})}),3e3),innerStatus=$("<div>"),innerStatusLabel=$("<label>",{class:"mb-4"}).append("Please Wait..."),innerStatusAnimation=$('<div class="cres-download-progress-animation">').append('<div class="sk-fading-circle sk-primary"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>'),innerStatusAction=$("<div>",{class:"text-center my-3"}),innerStatusCancelButton=$("<button>",{class:"btn btn-primary"}).append("Cancel");innerStatusAction.append(innerStatusCancelButton),innerStatus.append(innerStatusLabel),innerStatus.append(innerStatusAnimation),innerStatus.append(innerStatusAction),progressContainer.append($('<div class="text-center">').addClass("cres-download-progress-status").append(innerStatus)),innerStatusCancelButton.click((function(){clearInterval(interval),_this12.closeLastModal()})),_this12.modal({message:progressContainer,modalClass:"cres-modal-download-progress"})}))},error:function(xhrError,ajaxOptions,thrownError){"abort"!==thrownError&&_this12.message("error","Error, please call administrator... ("+thrownError+")")},complete:function(){"function"==typeof settings.onBlock?settings.onUnblock():_this12.unblockPage(),"function"==typeof settings.onComplete&&settings.onComplete()}})}},{key:"reactive",value:function(data,cb){var reactiveData=module_default.reactive(data);return"function"==typeof cb&&module_default.effect((function(){cb(reactiveData)})),reactiveData}},{key:"getAlpineData",value:function(node){return"string"==typeof node&&(node=document.querySelector(node)),this.alpine.getAlpineDataInstance(node)}},{key:"handleJsonResponse",value:function(response,onSuccess,onError){var errMessage="Unexpected error happen, please relogin ro refresh this page";"string"==typeof onError&&(errMessage=onError),0==response.errCode?"function"==typeof onSuccess&&onSuccess(response.data):(void 0!==response.errMessage&&(errMessage=response.errMessage),"function"==typeof onError?onError(errMessage):this.showError(errMessage))}},{key:"showError",value:function(errMessage){this.toast("error",errMessage)}},{key:"inViewPort",value:function(el){"function"==typeof jQuery&&el instanceof jQuery&&(el=el[0]);var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"tzDate",value:function(){var date=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,now=new Date;null!==date&&(now=date);var tzo=-now.getTimezoneOffset(),dif=tzo>=0?"+":"-",pad=function(num,ms){var norm=Math.floor(Math.abs(num));return ms?(norm<10?"00":norm<100?"0":"")+norm:(norm<10?"0":"")+norm};return now.getFullYear()+"-"+pad(now.getMonth()+1)+"-"+pad(now.getDate())+"T"+pad(now.getHours())+":"+pad(now.getMinutes())+":"+pad(now.getSeconds())+"."+pad(now.getMilliseconds(),!0)+dif+pad(tzo/60)+":"+pad(tzo%60)}},{key:"randomGUID",value:function(){var d=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(d+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:3&r|8).toString(16)}))}}]),Cresenity}();String.prototype.contains=function(a){return!!~this.indexOf(a)},String.prototype.toNumber=function(){var n=parseFloat(this);return isNaN(n)?0:n},window.Cresenity=Cresenity,window.cresenity||(window.cresenity=new Cresenity),window.document.addEventListener("DOMContentLoaded",(function(){window.cresenity.init()}))}));
//# sourceMappingURL=cres.js.map

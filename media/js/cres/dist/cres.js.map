{"version":3,"file":"cres.js","sources":["../src/module/Base64.js","../src/module/Url.js","../src/module/Util.js","../src/CF.js","../src/module/ScrollToTop.js","../src/Cresenity.js","../src/index.js"],"sourcesContent":["export default class Base64 {\n    constructor() {\n        this._keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    }\n\n    _utf8_encode(e) {\n        e = e.replace(/rn/g, \"n\");\n        var t = \"\";\n        for (var n = 0; n < e.length; n++) {\n            var r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r)\n            } else if (r > 127 && r < 2048) {\n                t += String.fromCharCode(r >> 6 | 192);\n                t += String.fromCharCode(r & 63 | 128)\n            } else {\n                t += String.fromCharCode(r >> 12 | 224);\n                t += String.fromCharCode(r >> 6 & 63 | 128);\n                t += String.fromCharCode(r & 63 | 128)\n            }\n        }\n        return t\n    };\n\n    _utf8_decode(e) {\n        var t = \"\";\n        var n = 0;\n        var c2 = 0;\n        var c1 = 0;\n        var r = 0;\n        while (n < e.length) {\n            r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n                n++\n            } else if (r > 191 && r < 224) {\n                c2 = e.charCodeAt(n + 1);\n                t += String.fromCharCode((r & 31) << 6 | c2 & 63);\n                n += 2\n            } else {\n                c2 = e.charCodeAt(n + 1);\n                c3 = e.charCodeAt(n + 2);\n                t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n                n += 3\n            }\n        }\n        return t\n    };\n    encode(e) {\n        var t = \"\";\n        var n, r, i, s, o, u, a;\n        var f = 0;\n        e = this._utf8_encode(e);\n        while (f < e.length) {\n            n = e.charCodeAt(f++);\n            r = e.charCodeAt(f++);\n            i = e.charCodeAt(f++);\n            s = n >> 2;\n            o = (n & 3) << 4 | r >> 4;\n            u = (r & 15) << 2 | i >> 6;\n            a = i & 63;\n            if (isNaN(r)) {\n                u = a = 64\n            } else if (isNaN(i)) {\n                a = 64\n            }\n            t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a)\n        }\n        return t\n    };\n\n    decode(e) {\n        var t = \"\";\n        var n, r, i;\n        var s, o, u, a;\n        var f = 0;\n        e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");\n        while (f < e.length) {\n            s = this._keyStr.indexOf(e.charAt(f++));\n            o = this._keyStr.indexOf(e.charAt(f++));\n            u = this._keyStr.indexOf(e.charAt(f++));\n            a = this._keyStr.indexOf(e.charAt(f++));\n            n = s << 2 | o >> 4;\n            r = (o & 15) << 4 | u >> 2;\n            i = (u & 3) << 6 | a;\n            t = t + String.fromCharCode(n);\n            if (u != 64) {\n                t = t + String.fromCharCode(r)\n            }\n            if (a != 64) {\n                t = t + String.fromCharCode(i)\n            }\n        }\n        t = this._utf8_decode(t);\n        return t\n    };\n\n}","export default class Url {\n    constructor() {\n\n    }\n    addQueryString(url, key, value) {\n        key = encodeURI(key);\n        value = encodeURI(value);\n        var urlArray = url.split('?');\n        var queryString = '';\n        var baseUrl = urlArray[0];\n        if (urlArray.length > 1) {\n            queryString = urlArray[1];\n        }\n        var kvp = queryString.split('&');\n        var i = kvp.length;\n        var x;\n        while (i--) {\n            x = kvp[i].split('=');\n            if (x[0] == key) {\n                x[1] = value;\n                kvp[i] = x.join('=');\n                break;\n            }\n        }\n\n        if (i < 0) {\n            kvp[kvp.length] = [key, value].join('=');\n        }\n\n        queryString = kvp.join('&');\n        if (queryString.substr(0, 1) == '&')\n            queryString = queryString.substr(1);\n        return baseUrl + '?' + queryString;\n    };\n    replaceParam(url) {\n        var available = true;\n        while (available) {\n            var matches = url.match(/{([\\w]*)}/);\n            if (matches != null) {\n                var key = matches[1];\n                var val = null;\n                if ($('#' + key).length > 0) {\n                    var val = cresenity.value('#' + key);\n                }\n\n                if (val == null) {\n                    val = key;\n                }\n\n                url = url.replace('{' + key + '}', val);\n            } else {\n                available = false;\n            }\n\n        }\n        return url;\n    }\n}","export default class CUtil {\n    static tap(output, callback) {\n        callback(output)\n\n        return output;\n    }\n    static extend(defaults, options) {\n        var extended = {};\n        var prop;\n        for (prop in defaults) {\n            if (Object.prototype.hasOwnProperty.call(defaults, prop)) {\n                extended[prop] = defaults[prop];\n            }\n        }\n        for (prop in options) {\n            if (Object.prototype.hasOwnProperty.call(options, prop)) {\n                extended[prop] = options[prop];\n            }\n        }\n        return extended;\n    };\n}","/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n\nexport default class CF {\n    constructor() {\n        this.required = typeof this.required === 'undefined' ? [] : this.required;\n\n        this.window = window;\n        this.document = window.document;\n        this.head = this.document.getElementsByTagName('head')[0];\n        this.beforeInitCallback = [];\n        this.afterInitCallback = [];\n        this.config = window.capp;\n        if (this.config.cssUrl) {\n            this.config.cssUrl.forEach((item, index) => {\n                this.required.push(item);\n            });\n        }\n        if (this.config.jsUrl) {\n            this.config.jsUrl.forEach((item, index) => {\n                this.required.push(item);\n            });\n        }\n\n    }\n\n    debug(msg) {\n        if (this.getConfig().debug) {\n            console.log(msg);\n        }\n    }\n\n    onBeforeInit(callback) {\n        this.beforeInitCallback.push(callback);\n        return this;\n    }\n    onAfterInit(callback) {\n        this.afterInitCallback.push(callback);\n        return this;\n    }\n\n\n    getConfig() {\n        return this.config;\n    }\n\n\n    isUseRequireJs() {\n        return this.getConfig().requireJs;\n    }\n    CFVersion() {\n        return this.getConfig().CFVersion;\n    }\n    require(url, callback) {\n\n        if (typeof url != \"string\") {\n            url = url[0];\n        }\n\n        if (!url) {\n            return;\n        }\n\n        var toPush = url\n\n        var t = url.split('.').pop();\n        //url = url.contains('//') ? url : (t !== \"css\" ? \"<?php print( mw_includes_url() ); ?>api/\" + url : \"<?php print( mw_includes_url() ); ?>css/\" + url);\n\n        if (!~this.required.indexOf(toPush)) {\n            this.required.push(toPush);\n            url = url.contains(\"?\") ? url + '&cappv=' + this.CFVersion() : url + \"?cappv=\" + this.CFVersion();\n            if (document.querySelector('link[href=\"' + url + '\"],script[src=\"' + url + '\"]') !== null) {\n                return\n            }\n            var string = t !== \"css\" ? \"<script type='text/javascript'  src='\" + url + \"'></script>\" : \"<link rel='stylesheet' type='text/css' href='\" + url + \"' />\";\n            if ((document.readyState === 'loading' /* || mwd.readyState === 'interactive'*/ ) && !!window.CanvasRenderingContext2D && self === parent) {\n                document.write(string);\n            } else {\n\n                var el;\n                if (t !== \"css\") {\n\n                    el = this.document.createElement('script');\n                    el.src = url;\n                    el.setAttribute('type', 'text/javascript');\n                    // IE 6 & 7\n                    if (typeof(callback) === 'function') {\n                        el.onload = callback;\n                        el.onreadystatechange = function() {\n                            if (this.readyState == 'complete') {\n                                callback();\n                            }\n                        }\n                    }\n                    this.head.appendChild(el);\n                } else {\n                    el = this.document.createElement('link');\n                    el.rel = 'stylesheet';\n                    el.type = 'text/css';\n                    el.href = url;\n                    // IE 6 & 7\n                    if (typeof(callback) === 'function') {\n                        el.onload = callback;\n                        el.onreadystatechange = function() {\n                            if (this.readyState == 'complete') {\n                                callback();\n                            }\n                        }\n                    }\n                    this.head.appendChild(el);\n                }\n\n            }\n        } else {\n            if (typeof(callback) === 'function') {\n                callback();\n            }\n        }\n    };\n\n    loadJQuery(callback) {\n\n        if (typeof jQuery == 'undefined') {\n            var fileref = this.document.createElement('script');\n            fileref.setAttribute(\"type\", \"text/javascript\");\n            fileref.setAttribute(\"src\", this.getConfig().defaultJQueryUrl);\n            // IE 6 & 7\n            if (typeof(callback) === 'function') {\n                fileref.onload = callback;\n                fileref.onreadystatechange = function() {\n                    if (this.readyState == 'complete') {\n                        callback();\n                    }\n                }\n            }\n            this.head.appendChild(fileref);\n        } else {\n            callback();\n        }\n    }\n\n    init() {\n        var arrayJsUrl = this.getConfig().jsUrl;\n        this.beforeInitCallback.forEach(function(item) {\n            item();\n        });\n\n        this.loadJQuery(() => {\n\n\n\n\n            if (typeof arrayJsUrl !== 'undefined') {\n                //todo add required for script already written in <script\n\n                arrayJsUrl.forEach((item) => {\n                    //console.log(item);\n                    //if (document.querySelector('script[src=\"' + item + '\"]') !== null) {\n                    //document.querySelector('script[src=\"/media/js/plugins/form/jquery.form.js\"]')\n                    this.required.push(item);\n                    //}\n                });\n\n                //                arrayJsUrl.forEach((item) => {\n                //\n                //                    this.require(item);\n                //                });\n            }\n        });\n\n\n\n        this.afterInitCallback.forEach(function(item) {\n            item();\n        });\n\n\n\n    }\n}","export default class ScrollToTop {\n    //startline: Integer. Number of pixels from top of doc scrollbar is scrolled before showing control\n    //scrollto: Keyword (Integer, or \"Scroll_to_Element_ID\"). How far to scroll document up when control is clicked on (0=top).\n    constructor() {\n        this.setting = {\n            startline: 100,\n            scrollto: 0,\n            scrollduration: 1000,\n            fadeduration: [500, 100]\n        };\n        this.controlHTML = '<img src=\"' + window.capp.base_url + 'media/img/up.png\" style=\"width:51px; height:42px\" />'; //HTML for control, which is auto wrapped in DIV w/ ID=\"topcontrol\"\n        this.controlattrs = {\n            offsetx: 5,\n            offsety: 5\n        }; //offset of control relative to right/ bottom of window corner\n        this.anchorkeyword = '#top'; //Enter href value of HTML anchors on the page that should also act as \"Scroll Up\" links\n\n        this.state = {\n            isvisible: false,\n            shouldvisible: false\n        };\n        this.scrollup = function() {\n                if (!this.cssfixedsupport) //if control is positioned using JavaScript\n                    this.$control.css({\n                        opacity: 0,\n                        zIndex: -1,\n                    }) //hide control immediately after clicking it\n                var dest = isNaN(this.setting.scrollto) ? this.setting.scrollto : parseInt(this.setting.scrollto)\n                if (typeof dest == \"string\" && jQuery('#' + dest).length == 1) {\n                    //check element set by string exists\n                    dest = jQuery('#' + dest).offset().top;\n                } else {\n                    dest = 0;\n                }\n\n                this.$body.animate({\n                    scrollTop: dest\n                }, this.setting.scrollduration);\n            },\n            this.keepfixed = function() {\n                var $window = jQuery(window)\n                var controlx = $window.scrollLeft() + $window.width() - this.$control.width() - this.controlattrs.offsetx\n                var controly = $window.scrollTop() + $window.height() - this.$control.height() - this.controlattrs.offsety\n                this.$control.css({\n                    left: controlx + 'px',\n                    top: controly + 'px'\n                })\n            };\n        this.togglecontrol = function() {\n            var scrolltop = jQuery(window).scrollTop()\n            if (!this.cssfixedsupport) {\n                this.keepfixed();\n            }\n            this.state.shouldvisible = (scrolltop >= this.setting.startline) ? true : false\n            if (this.state.shouldvisible && !this.state.isvisible) {\n                this.$control.stop().animate({\n                    opacity: 1,\n                    zIndex: 99999,\n                }, this.setting.fadeduration[0])\n                this.state.isvisible = true\n            } else if (this.state.shouldvisible == false && this.state.isvisible) {\n                this.$control.stop().animate({\n                    opacity: 0,\n                    zIndex: -1\n                }, this.setting.fadeduration[1])\n                this.state.isvisible = false\n            }\n        };\n        this.init = function() {\n            jQuery(document).ready(($) => {\n                var mainobj = this;\n                var iebrws = document.all;\n                mainobj.cssfixedsupport = !iebrws || iebrws && document.compatMode == \"CSS1Compat\" && window.XMLHttpRequest;\n                //not IE or IE7+ browsers in standards mode\n                mainobj.$body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\n                mainobj.$control = $('<div id=\"topcontrol\">' + mainobj.controlHTML + '</div>')\n                    .css({\n                        position: mainobj.cssfixedsupport ? 'fixed' : 'absolute',\n                        bottom: mainobj.controlattrs.offsety,\n                        right: mainobj.controlattrs.offsetx,\n                        opacity: 0,\n                        cursor: 'pointer',\n                        zIndex: 99999\n                    })\n                    .attr({\n                        title: 'Scroll Back to Top'\n                    })\n                    .click(function() {\n                        mainobj.scrollup();\n                        return false\n                    })\n                    .appendTo('body')\n                if (document.all && !window.XMLHttpRequest && mainobj.$control.text() != '') { //loose check for IE6 and below, plus whether control contains any text\n                    mainobj.$control.css({\n                        width: mainobj.$control.width()\n                    }); //IE6- seems to require an explicit width on a DIV containing text\n                }\n                mainobj.togglecontrol()\n                $('a[href=\"' + mainobj.anchorkeyword + '\"]').click(function() {\n                    mainobj.scrollup()\n                    return false\n                })\n                $(window).bind('scroll resize', function(e) {\n                    mainobj.togglecontrol()\n                })\n            })\n        }\n    }\n}","/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\nimport Base64 from \"./module/Base64\";\nimport Url from \"./module/Url\";\n\nimport Util from \"./module/Util\";\nimport CF from \"./CF\";\nimport ScrollToTop from \"./module/ScrollToTop\";\n\nexport default class Cresenity {\n    constructor() {\n        this.cf = new CF();\n        this.base64 = new Base64();\n        this.url = new Url();\n        this.scrollToTop = new ScrollToTop();\n        this.callback = {};\n        this.filesAdded = [];\n    }\n\n    haveCallback(name) {\n        return typeof this.callback[name] == 'function';\n    };\n    doCallback(name, ...args) {\n        if (this.haveCallback(name)) {\n            this.callback[name](...args);\n        }\n    };\n\n    setCallback(name, cb) {\n        this.callback[name] = cb;\n    };\n\n    isUsingRequireJs() {\n        return (typeof capp.requireJs !== \"undefined\") ? capp.requireJs : true;\n    }\n\n    normalizeRequireJs() {\n        if (!this.isUsingRequireJs()) {\n\n            if (typeof define === 'function' && define.amd) {\n\n                window.define = undefined;\n\n            }\n        }\n    }\n    isJson(text) {\n        if (typeof text == 'string') {\n            return (/^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\\\/bfnrtu]/g, '@').replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']').replace(/(?:^|:|,)(?:\\s*\\[)+/g, '')));\n        }\n        return false;\n    };\n\n    loadJs(filename, callback) {\n        var fileref = document.createElement('script');\n        fileref.setAttribute(\"type\", \"text/javascript\");\n        fileref.setAttribute(\"src\", filename);\n        // IE 6 & 7\n        if (typeof(callback) === 'function') {\n            fileref.onload = callback;\n            fileref.onreadystatechange = function() {\n                if (this.readyState == 'complete') {\n                    callback();\n                }\n            }\n        }\n        document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n\n    };\n\n    loadJsCss(filename, filetype, callback) {\n        if (filetype == \"js\") { //if filename is a external JavaScript file\n            var fileref = document.createElement('script')\n            fileref.setAttribute(\"type\", \"text/javascript\")\n            fileref.setAttribute(\"src\", filename)\n        } else if (filetype == \"css\") { //if filename is an external CSS file\n            var fileref = document.createElement(\"link\")\n            fileref.setAttribute(\"rel\", \"stylesheet\")\n            fileref.setAttribute(\"type\", \"text/css\")\n            fileref.setAttribute(\"href\", filename)\n        }\n        if (typeof fileref != \"undefined\") {\n            //fileref.onload = callback;\n            // IE 6 & 7\n            if (typeof(callback) === 'function') {\n                fileref.onload = cresenity.handleResponseCallback(callback);\n                fileref.onreadystatechange = function() {\n                    if (this.readyState == 'complete') {\n                        cresenity.handleResponseCallback(callback);\n                    }\n                }\n            }\n            document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n        }\n    };\n    require(filename, filetype, callback) {\n        if (this.filesAdded.indexOf(\"[\" + filename + \"]\") == -1) {\n            this.loadJsCss(filename, filetype, callback);\n            this.filesAdded += \"[\" + filename + \"]\" //List of files added in the form \"[filename1],[filename2],etc\"\n        } else {\n            cresenity.filesLoaded++;\n\n            if (cresenity.filesLoaded == cresenity.filesNeeded) {\n                callback();\n            }\n        }\n    };\n\n    handleResponse(data, callback) {\n        if (data.css_require && data.css_require.length > 0) {\n            for (var i = 0; i < data.css_require.length; i++) {\n                cresenity.require(data.css_require[i], 'css');\n            }\n        }\n        if (data.js_require && data.js_require.length > 0) {\n            for (var i = 0; i < data.js_require.length; i++) {\n                cresenity.require(data.js_require[i], 'js');\n            }\n        }\n        callback();\n\n\n    };\n    handleResponseCallback(callback) {\n        cresenity.filesLoaded++;\n        if (cresenity.filesLoaded == $.cresenity.filesNeeded) {\n            callback();\n        }\n    };\n\n    reload(options) {\n        let settings = Util.extend({\n            // These are the defaults.\n            method: 'get',\n            dataAddition: {},\n            url: '/',\n            reloadType: 'reload',\n            onComplete: false,\n            onSuccess: false,\n            onBlock: false,\n            onUnblock: false,\n        }, options);\n\n\n        var method = settings.method;\n        var selector = settings.selector;\n        var xhr = jQuery(selector).data('xhr');\n        if (xhr) {\n            xhr.abort();\n        }\n        var dataAddition = settings.dataAddition;\n        var url = settings.url;\n        url = this.url.replaceParam(url);\n        if (typeof dataAddition == 'undefined') {\n            dataAddition = {};\n        }\n\n        (function(settings) {\n            $(selector).each(function() {\n                var idTarget = $(this).attr('id');\n                url = cresenity.url.addQueryString(url, 'capp_current_container_id', idTarget);\n\n\n                (function(element) {\n\n                    if (typeof settings.onBlock == 'function') {\n                        settings.onBlock();\n                    } else {\n                        cresenity.blockElement($(element));\n                    }\n\n                    $(element).data('xhr', $.ajax({\n                        type: method,\n                        url: url,\n                        dataType: 'json',\n                        data: dataAddition,\n                        success: function(data) {\n\n                            cresenity.doCallback('onReloadSuccess', data);\n                            cresenity.handleResponse(data, function() {\n\n                                switch (settings.reloadType) {\n                                    case 'after':\n                                        $(element).after(data.html);\n                                        break;\n                                    case 'before':\n                                        $(element).before(data.html);\n                                        break;\n                                    case 'append':\n                                        $(element).append(data.html);\n                                        break;\n                                    case 'prepend':\n                                        $(element).prepend(data.html);\n                                        break;\n                                    default:\n                                        $(element).html(data.html);\n                                        break;\n                                }\n\n                                if (data.js && data.js.length > 0) {\n                                    var script = cresenity.base64.decode(data.js);\n                                    eval(script);\n                                }\n\n\n                                if ($(element).find('.prettyprint').length > 0) {\n                                    window.prettyPrint && prettyPrint();\n                                }\n                                if (typeof settings.onSuccess == 'function') {\n                                    settings.onSuccess(data);\n                                }\n                            });\n                        },\n                        error: function(xhr, ajaxOptions, thrownError) {\n                            if (thrownError != 'abort') {\n                                cresenity.message('error', 'Error, please call administrator... (' + thrownError + ')');\n                            }\n\n                        },\n                        complete: function() {\n                            $(element).data('xhr', false);\n                            if (typeof settings.onBlock == 'function') {\n                                settings.onUnblock();\n                            } else {\n                                cresenity.unblockElement($(element));\n                            }\n\n                            if (typeof settings.onComplete == 'function') {\n                                settings.onComplete();\n                            }\n                        }\n                    }));\n                })(this);\n            });\n        })(settings);\n\n    };\n\n    append(options) {\n        options.reloadType = 'append';\n        this.reload(options);\n    };\n    prepend(options) {\n        options.reloadType = 'prepend';\n        this.reload(options);\n    };\n    after(options) {\n        options.reloadType = 'after';\n        this.reload(options);\n    };\n    before(options) {\n        options.reloadType = 'before';\n        this.reload(options);\n    };\n    confirm(options) {\n        var settings = $.extend({\n            // These are the defaults.\n            method: 'get',\n            dataAddition: {},\n            message: 'Are you sure?',\n            onConfirmed: false,\n        }, options);\n        bootbox.confirm(settings.message, settings.onConfirmed);\n\n    };\n    modal(options) {\n\n        var settings = $.extend({\n            // These are the defaults.\n            haveHeader: false,\n            haveFooter: false,\n            headerText: '',\n            backdrop: 'static',\n            modalClass: false,\n            onClose: false,\n            appendTo: false,\n            footerAction: {}\n        }, options);\n\n        if (settings.title) {\n            settings.haveHeader = true;\n            settings.headerText = settings.title;\n        }\n\n        let modalContainer = jQuery('<div>').addClass('modal');\n\n        if (settings.modalClass) {\n            modalContainer.addClass(settings.modalClass);\n        }\n\n        if (settings.isSidebar) {\n            modalContainer.addClass('sidebar');\n            modalContainer.addClass(settings.sidebarMode);\n        }\n        if (settings.isFull) {\n            modalContainer.addClass('sidebar full');\n        }\n        var modalDialog = jQuery('<div>').addClass('modal-dialog modal-xl');\n        var modalContent = jQuery('<div>').addClass('modal-content');\n\n        var modalHeader = jQuery('<div>').addClass('modal-header');\n        var modalTitle = jQuery('<div>').addClass('modal-title');\n        var modalButtonClose = jQuery('<button type=\"button\" class=\"close\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>');\n        modalButtonClose.click(function(e) {\n            modalButtonClose.closest('.modal').modal('hide');\n        });\n        var modalBody = jQuery('<div>').addClass('modal-body');\n        var modalFooter = jQuery('<div>').addClass('modal-footer');\n        modalDialog.append(modalContent);\n        modalContainer.append(modalDialog);\n        if (settings.haveHeader) {\n            modalTitle.html(settings.headerText);\n            modalHeader.append(modalTitle).append(modalButtonClose);\n            modalContent.append(modalHeader);\n        }\n        modalDialog.append(modalContent);\n        if (settings.haveFooter) {\n            modalContent.append(modalFooter);\n        }\n        modalContent.append(modalBody);\n\n        var appendTo = settings.appendTo;\n        if (typeof appendTo == 'undefined' || !appendTo) {\n            appendTo = $('body');\n        }\n\n        modalContainer.appendTo(appendTo);\n        modalContainer.addClass('capp-modal');\n        modalContainer.on('hidden.bs.modal', function(e) {\n\n            if (cresenity.modalElements.length > 0) {\n                var lastModal = cresenity.modalElements[cresenity.modalElements.length - 1];\n                if (lastModal && lastModal.get(0) === $(e.target).get(0)) {\n                    (function(modal) {\n                        var Next = function() {\n                            this.isRunning = false;\n                            this.callback = (delay) => {\n                                if (typeof delay == 'undefined') {\n                                    delay = 0;\n                                }\n                                if (typeof parseInt(delay) == 'NaN') {\n                                    delay = 0;\n                                }\n\n                                setTimeout(function() {\n\n                                    $(modal).remove();\n                                    cresenity.modalElements.pop();\n\n\n\n                                    var modalExists = $('.modal:visible').length > 0;\n                                    if (!modalExists) {\n                                        $('body').removeClass('modal-open');\n                                    } else {\n                                        if (!$('body').hasClass('modal-open')) {\n                                            $('body').addClass('modal-open');\n                                        }\n\n                                    }\n\n\n                                }, delay);\n                                this.isRunning = true;\n                            }\n                        }\n                        next = new Next();\n                        if (typeof settings.onClose == 'function') {\n                            settings.onClose(e, next.callback);\n                        }\n                        if (!next.isRunning) {\n\n                            next.callback();\n                        }\n                    })(lastModal);\n                }\n            }\n\n        });\n\n        modalContainer.on('shown.bs.modal', function(e) {\n            cresenity.modalElements.push($(this));\n        });\n\n        if (settings.message) {\n            modalBody.append(settings.message);\n        }\n        if (settings.reload) {\n            var reloadOptions = settings.reload;\n            reloadOptions.selector = modalBody;\n            cresenity.reload(reloadOptions);\n        }\n\n        modalContainer.modal({\n            backdrop: settings.backdrop\n        });\n\n        return modalContainer;\n    };\n\n    closeLastModal(options) {\n        if (cresenity.modalElements.length > 0) {\n            var lastModal = cresenity.modalElements[cresenity.modalElements.length - 1];\n\n            lastModal.modal('hide');\n        }\n    }\n    closeDialog(options) {\n        this.closeLastModal(options);\n    }\n    ajax(options) {\n        var settings = $.extend({\n            block: true,\n            url: window.location.href,\n            method: 'post',\n        }, options);\n        var dataAddition = settings.dataAddition;\n        var url = settings.url;\n        url = this.url.replaceParam(url);\n        if (typeof dataAddition == 'undefined') {\n            dataAddition = {};\n        }\n        if (settings.block) {\n            cresenity.blockPage();\n        }\n\n        var validationIsValid = true;\n        var ajaxOptions = {\n            url: url,\n            dataType: 'json',\n            data: dataAddition,\n            type: settings.method,\n\n            success: function(response) {\n                var onSuccess = function() {};\n                var onError = function(errMessage) {\n                    cresenity.showError(errMessage)\n                };\n                if (typeof settings.onSuccess == 'function' && validationIsValid) {\n                    onSuccess = settings.onSuccess;\n                }\n                if (typeof settings.onError == 'function' && validationIsValid) {\n                    onError = settings.onError;\n                }\n\n                if (validationIsValid) {\n                    if (settings.handleJsonResponse == true) {\n                        cresenity.handleJsonResponse(response, onSuccess, onError);\n                    } else {\n                        onSuccess(response);\n                    }\n\n                }\n            },\n            error: function(xhr, ajaxOptions, thrownError) {\n                if (thrownError != 'abort') {\n                    console.log(thrownError);\n                    cresenity.showError(thrownError);\n                }\n\n            },\n\n            complete: function() {\n                if (settings.block) {\n                    cresenity.unblockPage();\n                }\n\n                if (typeof settings.onComplete == 'function' && validationIsValid) {\n                    settings.onComplete();\n                }\n            },\n        };\n\n        return $.ajax(ajaxOptions);\n\n    };\n    ajaxSubmit(options) {\n        var settings = $.extend({}, options);\n        var selector = settings.selector;\n        $(selector).each(function() {\n            //don't do it again if still loading\n\n            var formAjaxUrl = $(this).attr('action') || '';\n            var formMethod = $(this).attr('method') || 'get';\n            (function(element) {\n                cresenity.blockElement($(element));\n                var validationIsValid = true;\n                var ajaxOptions = {\n                    url: formAjaxUrl,\n                    dataType: 'json',\n                    type: formMethod,\n                    beforeSubmit: function() {\n                        if (typeof $(element).validate == 'function') {\n                            validationIsValid = $(element).validate().form();\n                            return validationIsValid;\n                        }\n                        return true;\n                    },\n                    success: function(response) {\n                        var onSuccess = function() {};\n                        var onError = function(errMessage) {\n                            cresenity.showError(errMessage)\n                        };\n\n                        haveOnSuccess = false;\n                        if (typeof settings.onSuccess == 'function' && validationIsValid) {\n                            onSuccess = settings.onSuccess;\n                            haveOnSuccess = true;\n                        }\n                        if (typeof settings.onError == 'function' && validationIsValid) {\n                            onError = settings.onError;\n                        }\n\n                        if (validationIsValid) {\n                            if (settings.handleJsonResponse == true && haveOnSuccess) {\n                                cresenity.handleJsonResponse(response, onSuccess, onError);\n                            } else {\n                                onSuccess(response);\n                            }\n\n                        }\n                    },\n\n                    complete: function() {\n                        cresenity.unblockElement($(element));\n\n                        if (typeof settings.onComplete == 'function' && validationIsValid) {\n                            settings.onComplete();\n                        }\n                    },\n                };\n                $(element).ajaxSubmit(ajaxOptions);\n            })(this);\n\n        });\n        //always return false to prevent submit\n        return false;\n    };\n\n    debug(message) {\n        if (this.cf.getConfig().debug) {\n            console.log(message);\n        }\n    }\n    message(type, message, alertType, callback) {\n        this.debug(message);\n        alertType = typeof alertType !== 'undefined' ? alertType : 'notify';\n        var container = $('#container');\n        if (container.length == 0) {\n            container = $('body');\n        }\n        if (alertType == 'bootbox') {\n\n            if (typeof callback == 'undefined') {\n                bootbox.alert(message);\n            } else {\n                bootbox.alert(message, callback);\n            }\n        }\n\n        if (alertType == 'notify') {\n            obj = $('<div>');\n            container.prepend(obj);\n            obj.addClass('notifications');\n            obj.addClass('top-right');\n            obj.notify({\n                message: {\n                    text: message\n                },\n                type: type\n            }).show();\n        }\n\n    };\n\n    blockPage(options) {\n        var settings = $.extend({\n            innerMessage: '<div class=\"sk-folding-cube sk-primary\"><div class=\"sk-cube1 sk-cube\"></div><div class=\"sk-cube2 sk-cube\"></div><div class=\"sk-cube4 sk-cube\"></div><div class=\"sk-cube3 sk-cube\"></div></div><h5 style=\"color: #444\">LOADING...</h5>',\n        }, options);\n        $.blockUI({\n            message: settings.innerMessage,\n            css: {\n                backgroundColor: 'transparent',\n                border: '0',\n                zIndex: 9999999\n            },\n            overlayCSS: {\n                backgroundColor: '#fff',\n                opacity: 0.8,\n                zIndex: 9999990\n            }\n        });\n    };\n\n    scrollTo(element, container) {\n        if (typeof container == 'undefined') {\n            container = document.body;\n        }\n        $(container).animate({\n            scrollTop: $(element).offset().top - ($(container).offset().top + $(container).scrollTop())\n        });\n    };\n\n    formatCurrency(rp) {\n        rp = \"\" + rp;\n        var rupiah = \"\";\n        var vfloat = \"\";\n        var ds = window.capp.decimal_separator;\n        var ts = window.capp.thousand_separator;\n        var dd = window.capp.decimal_digit;\n        var dd = parseInt(dd);\n        var minus_str = \"\";\n        if (rp.indexOf(\"-\") >= 0) {\n            minus_str = rp.substring(rp.indexOf(\"-\"), 1);\n            rp = rp.substring(rp.indexOf(\"-\") + 1);\n        }\n\n        if (rp.indexOf(\".\") >= 0) {\n            vfloat = rp.substring(rp.indexOf(\".\"));\n            rp = rp.substring(0, rp.indexOf(\".\"));\n        }\n        p = rp.length;\n        while (p > 3) {\n            rupiah = ts + rp.substring(p - 3) + rupiah;\n            l = rp.length - 3;\n            rp = rp.substring(0, l);\n            p = rp.length;\n        }\n        rupiah = rp + rupiah;\n        vfloat = vfloat.replace('.', ds);\n        if (vfloat.length > dd)\n            vfloat = vfloat.substring(0, dd + 1);\n        return minus_str + rupiah + vfloat;\n    }\n    unblockPage() {\n        $.unblockUI();\n    };\n    blockElement(selector, options) {\n        var settings = $.extend({\n            innerMessage: '<div class=\"sk-wave sk-primary\"><div class=\"sk-rect sk-rect1\"></div> <div class=\"sk-rect sk-rect2\"></div> <div class=\"sk-rect sk-rect3\"></div> <div class=\"sk-rect sk-rect4\"></div> <div class=\"sk-rect sk-rect5\"></div></div>',\n        }, options);\n\n        $(selector).block({\n            message: settings.innerMessage,\n            css: {\n                backgroundColor: 'transparent',\n                border: '0'\n            },\n            overlayCSS: {\n                backgroundColor: '#fff',\n                opacity: 0.8\n            }\n        });\n\n    };\n    unblockElement(selector) {\n        $(selector).unblock();\n    };\n\n    value(elm) {\n        elm = jQuery(elm);\n        if (elm.length == 0) {\n            return null;\n        }\n        if (elm.attr('type') == 'checkbox') {\n            if (!elm.is(':checked')) {\n                return null;\n            }\n        }\n        if (elm.attr('type') == 'radio') {\n            if (!elm.is(':checked')) {\n                return null;\n            }\n        }\n        if (typeof elm.val() != 'undefined') {\n            return elm.val();\n        }\n        if (typeof elm.attr('value') != 'undefined') {\n            return elm.attr('value');\n        }\n        return elm.html();\n    };\n\n\n    initConfirm() {\n\n        var confirmInitialized = $('body').attr('data-confirm-initialized');\n        if (!confirmInitialized) {\n            jQuery(document).on('click', 'a.confirm, button.confirm', function(e) {\n                var ahref = $(this).attr('href');\n                var message = $(this).attr('data-confirm-message');\n                var no_double = $(this).attr('data-no-double');\n                var clicked = $(this).attr('data-clicked');\n\n\n                var btn = jQuery(this);\n                btn.attr('data-clicked', '1');\n                if (no_double) {\n                    if (clicked == 1)\n                        return false;\n                }\n\n                if (!message) {\n                    message = window.capp.label_confirm;\n                } else {\n                    message = $.cresenity.base64.decode(message);\n                }\n\n                str_confirm = window.capp.label_ok;\n                str_cancel = window.capp.label_cancel;\n                e.preventDefault();\n                e.stopPropagation();\n                btn.off('click');\n                bootbox.confirm({\n                    className: \"capp-modal-confirm\",\n                    message: message,\n                    callback: function(confirmed) {\n                        if (confirmed) {\n                            if (ahref) {\n                                window.location.href = ahref;\n                            } else {\n                                if (btn.attr('type') == 'submit') {\n                                    btn.closest('form').submit();\n                                } else {\n                                    btn.on('click');\n                                }\n\n                            }\n                        } else {\n                            btn.removeAttr('data-clicked');\n                        }\n                        setTimeout(function() {\n                            var modalExists = $('.modal:visible').length > 0;\n                            if (!modalExists) {\n                                $('body').removeClass('modal-open');\n                            } else {\n                                $('body').addClass('modal-open');\n                            }\n                        }, 750);\n                    }\n                });\n\n\n                return false;\n            });\n            $('body').attr('data-confirm-initialized', '1');\n        }\n        var confirmSubmitInitialized = $('body').attr('data-confirm-submit-initialized');\n        if (!confirmSubmitInitialized) {\n            jQuery(document).on('click', 'input[type=submit].confirm', function(e) {\n\n                var submitted = $(this).attr('data-submitted');\n                var btn = jQuery(this);\n                if (submitted == '1')\n                    return false;\n                btn.attr('data-submitted', '1');\n\n                var message = $(this).attr('data-confirm-message');\n                if (!message) {\n                    message = window.capp.label_confirm;\n                } else {\n                    message = $.cresenity.base64.decode(message);\n                }\n\n                str_confirm = window.capp.label_ok;\n                str_cancel = window.capp.label_cancel;\n                bootbox.confirm(message, str_cancel, str_confirm, function(confirmed) {\n                    if (confirmed) {\n                        jQuery(e.target).closest('form').submit();\n                    } else {\n                        btn.removeAttr('data-submitted');\n                    }\n                });\n\n\n                return false;\n            });\n            $('body').attr('data-confirm-submit-initialized', '1');\n        }\n        jQuery(document).ready(function() {\n            jQuery(\"#toggle-subnavbar\").click(function() {\n                var cmd = jQuery(\"#toggle-subnavbar span\").html();\n                if (cmd == 'Hide') {\n                    jQuery('#subnavbar').slideUp('slow');\n                    jQuery(\"#toggle-subnavbar span\").html('Show');\n                } else {\n                    jQuery('#subnavbar').slideDown('slow');\n                    jQuery(\"#toggle-subnavbar span\").html('Hide');\n                }\n\n            });\n            jQuery(\"#toggle-fullscreen\").click(function() {\n                $.cresenity.fullscreen(document.documentElement);\n            });\n        });\n\n    }\n\n    initClock() {\n        if (!!this.cf.getConfig().haveClock) {\n            $(document).ready(function() {\n                $('#servertime').serverTime({\n                    ajaxFile: window.capp.base_url + 'cresenity/server_time',\n                    displayDateFormat: \"yyyy-mm-dd HH:MM:ss\"\n                });\n            });\n        }\n    }\n    init() {\n        this.cf.onBeforeInit(() => {\n            this.normalizeRequireJs();\n        });\n        this.cf.onAfterInit(() => {\n            if (!!this.cf.getConfig().haveScrollToTop) {\n                if (!document.getElementById('topcontrol')) {\n                    this.scrollToTop.init();\n                }\n            }\n            this.initConfirm();\n\n        });\n\n\n        this.cf.init();\n\n\n    }\n\n    downloadProgress(options) {\n        let settings = $.extend({\n            // These are the defaults.\n            method: 'get',\n            dataAddition: {},\n            url: '/',\n            onComplete: false,\n            onSuccess: false,\n            onBlock: false,\n            onUnblock: false,\n        }, options);\n\n\n        var method = settings.method;\n\n        var xhr = jQuery(window).data('cappXhrProgress');\n        if (xhr) {\n            xhr.abort();\n        }\n\n        var dataAddition = settings.dataAddition;\n        var url = settings.url;\n        url = this.url.replaceParam(url);\n        if (typeof dataAddition == 'undefined') {\n            dataAddition = {};\n        }\n\n        (function(settings) {\n\n            (function(element) {\n                if (typeof settings.onBlock == 'function') {\n                    settings.onBlock();\n                } else {\n                    cresenity.blockPage();\n                }\n\n                $(element).data('xhr', $.ajax({\n                    type: method,\n                    url: url,\n                    dataType: 'json',\n                    data: dataAddition,\n                    success: function(response) {\n\n                        cresenity.handleJsonResponse(response, function(data) {\n                            var progressUrl = data.progressUrl;\n                            var progressContainer = $('<div>').addClass('progress-container');\n\n                            var interval = setInterval(function() {\n                                $.ajax({\n                                    type: method,\n                                    url: progressUrl,\n                                    dataType: 'json',\n                                    success: function(response) {\n                                        cresenity.handleJsonResponse(response, function(data) {\n                                            if (data.state == 'DONE') {\n                                                progressContainer.find('.progress-container-status').empty();\n                                                var innerStatus = $('<div>');\n\n                                                var innerStatusLabel = $('<label>', { class: 'mb-3 d-block' }).append(\"Your file is ready\");\n                                                var linkDownload = $('<a>', { target: '_blank', href: data.fileUrl, class: 'btn btn-primary' }).append(\"Download\");\n                                                var linkClose = $('<a>', { href: 'javascript:;', class: 'btn btn-primary ml-3' }).append(\"Close\");\n\n                                                innerStatus.append(innerStatusLabel);\n                                                innerStatus.append(linkDownload);\n                                                innerStatus.append(linkClose);\n\n                                                progressContainer.find('.progress-container-status').append(innerStatus);\n                                                linkClose.click(function() {\n                                                    cresenity.closeLastModal();\n                                                })\n                                                clearInterval(interval);\n                                            }\n                                        });\n                                    }\n                                });\n                            }, 3000);\n\n                            var innerStatus = $('<div>');\n                            var innerStatusLabel = $('<label>', { class: 'mb-4' }).append(\"Please Wait...\");\n                            var innerStatusAnimation = $('<div>').append('<div class=\"sk-fading-circle sk-primary\"><div class=\"sk-circle1 sk-circle\"></div><div class=\"sk-circle2 sk-circle\"></div><div class=\"sk-circle3 sk-circle\"></div><div class=\"sk-circle4 sk-circle\"></div><div class=\"sk-circle5 sk-circle\"></div><div class=\"sk-circle6 sk-circle\"></div><div class=\"sk-circle7 sk-circle\"></div><div class=\"sk-circle8 sk-circle\"></div><div class=\"sk-circle9 sk-circle\"></div><div class=\"sk-circle10 sk-circle\"></div><div class=\"sk-circle11 sk-circle\"></div><div class=\"sk-circle12 sk-circle\"></div></div>');\n                            var innerStatusAction = $('<div>', { class: 'text-center my-3' });\n                            var innerStatusCancelButton = $('<button>', { class: 'btn btn-primary' }).append('Cancel');\n                            innerStatusAction.append(innerStatusCancelButton);\n                            innerStatus.append(innerStatusLabel);\n                            innerStatus.append(innerStatusAnimation);\n                            innerStatus.append(innerStatusAction);\n                            progressContainer.append($('<div>').addClass('progress-container-status').append(innerStatus));\n\n                            innerStatusCancelButton.click(function() {\n                                clearInterval(interval);\n                                cresenity.closeLastModal();\n                            });\n\n\n                            cresenity.modal({\n                                message: progressContainer,\n                                modalClass: 'modal-download-progress'\n                            })\n                        });\n                    },\n                    error: function(xhr, ajaxOptions, thrownError) {\n                        if (thrownError != 'abort') {\n                            cresenity.message('error', 'Error, please call administrator... (' + thrownError + ')');\n                        }\n\n                    },\n                    complete: function() {\n                        $(element).data('xhr', false);\n                        if (typeof settings.onBlock == 'function') {\n                            settings.onUnblock();\n                        } else {\n                            cresenity.unblockPage();\n                        }\n\n                        if (typeof settings.onComplete == 'function') {\n                            settings.onComplete();\n                        }\n                    }\n                }));\n            })(this);\n\n        })(settings);\n\n    };\n}","import Cresenity from '@/Cresenity'\n\nwindow.cresenity = new Cresenity();\nwindow.cresenity.init();\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    //window.cresenity.start();\n});"],"names":["Base64","_keyStr","e","replace","t","n","length","r","charCodeAt","String","fromCharCode","c2","c3","i","s","o","u","a","f","this","_utf8_encode","isNaN","charAt","indexOf","_utf8_decode","Url","url","key","value","encodeURI","urlArray","split","queryString","baseUrl","x","kvp","join","substr","available","matches","match","val","$","cresenity","CUtil","output","callback","defaults","options","prop","extended","Object","prototype","hasOwnProperty","call","CF","required","window","document","head","getElementsByTagName","beforeInitCallback","afterInitCallback","config","capp","cssUrl","forEach","item","index","_this","push","jsUrl","msg","getConfig","debug","console","log","requireJs","CFVersion","toPush","pop","contains","querySelector","el","string","readyState","CanvasRenderingContext2D","self","parent","write","createElement","src","setAttribute","onload","onreadystatechange","appendChild","rel","type","href","jQuery","fileref","defaultJQueryUrl","arrayJsUrl","loadJQuery","_this2","ScrollToTop","setting","startline","scrollto","scrollduration","fadeduration","controlHTML","base_url","controlattrs","offsetx","offsety","anchorkeyword","state","isvisible","shouldvisible","scrollup","cssfixedsupport","$control","css","opacity","zIndex","dest","parseInt","offset","top","$body","animate","scrollTop","keepfixed","$window","controlx","scrollLeft","width","controly","height","left","togglecontrol","scrolltop","stop","init","ready","mainobj","iebrws","all","compatMode","XMLHttpRequest","opera","position","bottom","right","cursor","attr","title","click","appendTo","text","bind","Cresenity","cf","base64","scrollToTop","filesAdded","name","haveCallback","args","cb","isUsingRequireJs","define","amd","undefined","test","filename","filetype","handleResponseCallback","loadJsCss","filesLoaded","filesNeeded","data","css_require","require","js_require","settings","Util","extend","method","dataAddition","reloadType","onComplete","onSuccess","onBlock","onUnblock","selector","xhr","abort","replaceParam","each","idTarget","addQueryString","element","blockElement","ajax","dataType","success","doCallback","handleResponse","after","html","before","append","prepend","js","script","decode","eval","find","prettyPrint","error","ajaxOptions","thrownError","message","complete","unblockElement","reload","onConfirmed","bootbox","confirm","haveHeader","haveFooter","headerText","backdrop","modalClass","onClose","footerAction","modalContainer","addClass","isSidebar","sidebarMode","isFull","modalDialog","modalContent","modalHeader","modalTitle","modalButtonClose","closest","modal","modalBody","modalFooter","on","modalElements","lastModal","get","target","next","isRunning","delay","setTimeout","remove","hasClass","removeClass","reloadOptions","closeLastModal","block","location","blockPage","response","onError","errMessage","showError","handleJsonResponse","unblockPage","formAjaxUrl","formMethod","validationIsValid","beforeSubmit","validate","form","haveOnSuccess","ajaxSubmit","alertType","container","alert","obj","notify","show","innerMessage","blockUI","backgroundColor","border","overlayCSS","body","rp","rupiah","vfloat","ds","decimal_separator","ts","thousand_separator","dd","decimal_digit","minus_str","substring","p","l","unblockUI","unblock","elm","is","ahref","no_double","clicked","btn","label_confirm","str_confirm","label_ok","str_cancel","label_cancel","preventDefault","stopPropagation","off","className","confirmed","submit","removeAttr","submitted","slideUp","slideDown","fullscreen","documentElement","haveClock","serverTime","ajaxFile","displayDateFormat","onBeforeInit","normalizeRequireJs","onAfterInit","haveScrollToTop","getElementById","initConfirm","progressUrl","progressContainer","interval","setInterval","empty","innerStatus","innerStatusLabel","class","linkDownload","fileUrl","linkClose","clearInterval","innerStatusAnimation","innerStatusAction","innerStatusCancelButton","addEventListener"],"mappings":"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"}